var ZS=Object.defineProperty;var Mx=t=>{throw TypeError(t)};var XS=(t,e,r)=>e in t?ZS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var N0=(t,e,r)=>XS(t,typeof e!="symbol"?e+"":e,r),S0=(t,e,r)=>e.has(t)||Mx("Cannot "+r);var Be=(t,e,r)=>(S0(t,e,"read from private field"),r?r.call(t):e.get(t)),tr=(t,e,r)=>e.has(t)?Mx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Rt=(t,e,r,n)=>(S0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Br=(t,e,r)=>(S0(t,e,"access private method"),r);var vp=(t,e,r,n)=>({set _(s){Rt(t,e,s,r)},get _(){return Be(t,e,n)}});function YS(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IB={exports:{}},Cg={},PB={exports:{}},Fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=Symbol.for("react.element"),eE=Symbol.for("react.portal"),tE=Symbol.for("react.fragment"),rE=Symbol.for("react.strict_mode"),nE=Symbol.for("react.profiler"),sE=Symbol.for("react.provider"),iE=Symbol.for("react.context"),aE=Symbol.for("react.forward_ref"),oE=Symbol.for("react.suspense"),AE=Symbol.for("react.memo"),lE=Symbol.for("react.lazy"),Hx=Symbol.iterator;function cE(t){return t===null||typeof t!="object"?null:(t=Hx&&t[Hx]||t["@@iterator"],typeof t=="function"?t:null)}var TB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OB=Object.assign,RB={};function qh(t,e,r){this.props=t,this.context=e,this.refs=RB,this.updater=r||TB}qh.prototype.isReactComponent={};qh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DB(){}DB.prototype=qh.prototype;function e1(t,e,r){this.props=t,this.context=e,this.refs=RB,this.updater=r||TB}var t1=e1.prototype=new DB;t1.constructor=e1;OB(t1,qh.prototype);t1.isPureReactComponent=!0;var Kx=Array.isArray,MB=Object.prototype.hasOwnProperty,r1={current:null},HB={key:!0,ref:!0,__self:!0,__source:!0};function KB(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)MB.call(e,n)&&!HB.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:zf,type:t,key:i,ref:o,props:s,_owner:r1.current}}function uE(t,e){return{$$typeof:zf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function n1(t){return typeof t=="object"&&t!==null&&t.$$typeof===zf}function hE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var qx=/\/+/g;function E0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hE(""+t.key):e.toString(36)}function pm(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zf:case eE:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+E0(o,0):n,Kx(s)?(r="",t!=null&&(r=t.replace(qx,"$&/")+"/"),pm(s,e,r,"",function(h){return h})):s!=null&&(n1(s)&&(s=uE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Kx(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+E0(i,l);o+=pm(i,e,r,c,s)}else if(c=cE(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+E0(i,l++),o+=pm(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yp(t,e,r){if(t==null)return t;var n=[],s=0;return pm(t,n,"","",function(i){return e.call(r,i,s++)}),n}function dE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Di={current:null},mm={transition:null},fE={ReactCurrentDispatcher:Di,ReactCurrentBatchConfig:mm,ReactCurrentOwner:r1};function qB(){throw Error("act(...) is not supported in production builds of React.")}Fr.Children={map:yp,forEach:function(t,e,r){yp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return yp(t,function(){e++}),e},toArray:function(t){return yp(t,function(e){return e})||[]},only:function(t){if(!n1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fr.Component=qh;Fr.Fragment=tE;Fr.Profiler=nE;Fr.PureComponent=e1;Fr.StrictMode=rE;Fr.Suspense=oE;Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fE;Fr.act=qB;Fr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=OB({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=r1.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)MB.call(e,c)&&!HB.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];n.children=l}return{$$typeof:zf,type:t.type,key:s,ref:i,props:n,_owner:o}};Fr.createContext=function(t){return t={$$typeof:iE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sE,_context:t},t.Consumer=t};Fr.createElement=KB;Fr.createFactory=function(t){var e=KB.bind(null,t);return e.type=t,e};Fr.createRef=function(){return{current:null}};Fr.forwardRef=function(t){return{$$typeof:aE,render:t}};Fr.isValidElement=n1;Fr.lazy=function(t){return{$$typeof:lE,_payload:{_status:-1,_result:t},_init:dE}};Fr.memo=function(t,e){return{$$typeof:AE,type:t,compare:e===void 0?null:e}};Fr.startTransition=function(t){var e=mm.transition;mm.transition={};try{t()}finally{mm.transition=e}};Fr.unstable_act=qB;Fr.useCallback=function(t,e){return Di.current.useCallback(t,e)};Fr.useContext=function(t){return Di.current.useContext(t)};Fr.useDebugValue=function(){};Fr.useDeferredValue=function(t){return Di.current.useDeferredValue(t)};Fr.useEffect=function(t,e){return Di.current.useEffect(t,e)};Fr.useId=function(){return Di.current.useId()};Fr.useImperativeHandle=function(t,e,r){return Di.current.useImperativeHandle(t,e,r)};Fr.useInsertionEffect=function(t,e){return Di.current.useInsertionEffect(t,e)};Fr.useLayoutEffect=function(t,e){return Di.current.useLayoutEffect(t,e)};Fr.useMemo=function(t,e){return Di.current.useMemo(t,e)};Fr.useReducer=function(t,e,r){return Di.current.useReducer(t,e,r)};Fr.useRef=function(t){return Di.current.useRef(t)};Fr.useState=function(t){return Di.current.useState(t)};Fr.useSyncExternalStore=function(t,e,r){return Di.current.useSyncExternalStore(t,e,r)};Fr.useTransition=function(){return Di.current.useTransition()};Fr.version="18.3.1";PB.exports=Fr;var le=PB.exports;const zB=Yw(le),pE=YS({__proto__:null,default:zB},[le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE=le,gE=Symbol.for("react.element"),vE=Symbol.for("react.fragment"),yE=Object.prototype.hasOwnProperty,wE=mE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xE={key:!0,ref:!0,__self:!0,__source:!0};function VB(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)yE.call(e,n)&&!xE.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:gE,type:t,key:i,ref:o,props:s,_owner:wE.current}}Cg.Fragment=vE;Cg.jsx=VB;Cg.jsxs=VB;IB.exports=Cg;var A=IB.exports,Vv={},WB={exports:{}},Pa={},GB={exports:{}},$B={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ue){var ee=H.length;H.push(ue);e:for(;0<ee;){var me=ee-1>>>1,P=H[me];if(0<s(P,ue))H[me]=ue,H[ee]=P,ee=me;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var ue=H[0],ee=H.pop();if(ee!==ue){H[0]=ee;e:for(var me=0,P=H.length,$=P>>>1;me<$;){var se=2*(me+1)-1,ce=H[se],fe=se+1,Te=H[fe];if(0>s(ce,ee))fe<P&&0>s(Te,ce)?(H[me]=Te,H[fe]=ee,me=fe):(H[me]=ce,H[se]=ee,me=se);else if(fe<P&&0>s(Te,ee))H[me]=Te,H[fe]=ee,me=fe;else break e}}return ue}function s(H,ue){var ee=H.sortIndex-ue.sortIndex;return ee!==0?ee:H.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],p=1,g=null,w=3,y=!1,F=!1,S=!1,Q=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(H){for(var ue=r(h);ue!==null;){if(ue.callback===null)n(h);else if(ue.startTime<=H)n(h),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=r(h)}}function T(H){if(S=!1,j(H),!F)if(r(c)!==null)F=!0,ve(V);else{var ue=r(h);ue!==null&&Ue(T,ue.startTime-H)}}function V(H,ue){F=!1,S&&(S=!1,_(M),M=-1),y=!0;var ee=w;try{for(j(ue),g=r(c);g!==null&&(!(g.expirationTime>ue)||H&&!D());){var me=g.callback;if(typeof me=="function"){g.callback=null,w=g.priorityLevel;var P=me(g.expirationTime<=ue);ue=t.unstable_now(),typeof P=="function"?g.callback=P:g===r(c)&&n(c),j(ue)}else n(c);g=r(c)}if(g!==null)var $=!0;else{var se=r(h);se!==null&&Ue(T,se.startTime-ue),$=!1}return $}finally{g=null,w=ee,y=!1}}var K=!1,G=null,M=-1,Z=5,oe=-1;function D(){return!(t.unstable_now()-oe<Z)}function R(){if(G!==null){var H=t.unstable_now();oe=H;var ue=!0;try{ue=G(!0,H)}finally{ue?re():(K=!1,G=null)}}else K=!1}var re;if(typeof B=="function")re=function(){B(R)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Se=ae.port2;ae.port1.onmessage=R,re=function(){Se.postMessage(null)}}else re=function(){Q(R,0)};function ve(H){G=H,K||(K=!0,re())}function Ue(H,ue){M=Q(function(){H(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){F||y||(F=!0,ve(V))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var ee=w;w=ue;try{return H()}finally{w=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ue){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=w;w=H;try{return ue()}finally{w=ee}},t.unstable_scheduleCallback=function(H,ue,ee){var me=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?me+ee:me):ee=me,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ee+P,H={id:p++,callback:ue,priorityLevel:H,startTime:ee,expirationTime:P,sortIndex:-1},ee>me?(H.sortIndex=ee,e(h,H),r(c)===null&&H===r(h)&&(S?(_(M),M=-1):S=!0,Ue(T,ee-me))):(H.sortIndex=P,e(c,H),F||y||(F=!0,ve(V))),H},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(H){var ue=w;return function(){var ee=w;w=ue;try{return H.apply(this,arguments)}finally{w=ee}}}})($B);GB.exports=$B;var bE=GB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E=le,Ia=bE;function Et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JB=new Set,Af={};function uu(t,e){kh(t,e),kh(t+"Capture",e)}function kh(t,e){for(Af[t]=e,t=0;t<e.length;t++)JB.add(e[t])}var JA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wv=Object.prototype.hasOwnProperty,BE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zx={},Vx={};function CE(t){return Wv.call(Vx,t)?!0:Wv.call(zx,t)?!1:BE.test(t)?Vx[t]=!0:(zx[t]=!0,!1)}function NE(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SE(t,e,r,n){if(e===null||typeof e>"u"||NE(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mi(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ri[t]=new Mi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ri[e]=new Mi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ri[t]=new Mi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ri[t]=new Mi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ri[t]=new Mi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ri[t]=new Mi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ri[t]=new Mi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ri[t]=new Mi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ri[t]=new Mi(t,5,!1,t.toLowerCase(),null,!1,!1)});var s1=/[\-:]([a-z])/g;function i1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(s1,i1);ri[e]=new Mi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(s1,i1);ri[e]=new Mi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(s1,i1);ri[e]=new Mi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ri[t]=new Mi(t,1,!1,t.toLowerCase(),null,!1,!1)});ri.xlinkHref=new Mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ri[t]=new Mi(t,1,!1,t.toLowerCase(),null,!0,!0)});function a1(t,e,r,n){var s=ri.hasOwnProperty(e)?ri[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SE(e,r,s,n)&&(r=null),n||s===null?CE(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var tl=_E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wp=Symbol.for("react.element"),$u=Symbol.for("react.portal"),Ju=Symbol.for("react.fragment"),o1=Symbol.for("react.strict_mode"),Gv=Symbol.for("react.profiler"),ZB=Symbol.for("react.provider"),XB=Symbol.for("react.context"),A1=Symbol.for("react.forward_ref"),$v=Symbol.for("react.suspense"),Jv=Symbol.for("react.suspense_list"),l1=Symbol.for("react.memo"),wl=Symbol.for("react.lazy"),YB=Symbol.for("react.offscreen"),Wx=Symbol.iterator;function Ad(t){return t===null||typeof t!="object"?null:(t=Wx&&t[Wx]||t["@@iterator"],typeof t=="function"?t:null)}var Dn=Object.assign,F0;function _d(t){if(F0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);F0=e&&e[1]||""}return`
`+F0+t}var j0=!1;function U0(t,e){if(!t||j0)return"";j0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{j0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_d(t):""}function EE(t){switch(t.tag){case 5:return _d(t.type);case 16:return _d("Lazy");case 13:return _d("Suspense");case 19:return _d("SuspenseList");case 0:case 2:case 15:return t=U0(t.type,!1),t;case 11:return t=U0(t.type.render,!1),t;case 1:return t=U0(t.type,!0),t;default:return""}}function Zv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ju:return"Fragment";case $u:return"Portal";case Gv:return"Profiler";case o1:return"StrictMode";case $v:return"Suspense";case Jv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XB:return(t.displayName||"Context")+".Consumer";case ZB:return(t._context.displayName||"Context")+".Provider";case A1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case l1:return e=t.displayName||null,e!==null?e:Zv(t.type)||"Memo";case wl:e=t._payload,t=t._init;try{return Zv(t(e))}catch{}}return null}function FE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zv(e);case 8:return e===o1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function e5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jE(t){var e=e5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xp(t){t._valueTracker||(t._valueTracker=jE(t))}function t5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=e5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function km(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xv(t,e){var r=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Gx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=nc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function r5(t,e){e=e.checked,e!=null&&a1(t,"checked",e,!1)}function Yv(t,e){r5(t,e);var r=nc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ey(t,e.type,r):e.hasOwnProperty("defaultValue")&&ey(t,e.type,nc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $x(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ey(t,e,r){(e!=="number"||km(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Bd=Array.isArray;function lh(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+nc(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ty(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Et(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Et(92));if(Bd(r)){if(1<r.length)throw Error(Et(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:nc(r)}}function n5(t,e){var r=nc(e.value),n=nc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Zx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function s5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ry(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?s5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bp,i5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bp=bp||document.createElement("div"),bp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Td={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UE=["Webkit","ms","Moz","O"];Object.keys(Td).forEach(function(t){UE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Td[e]=Td[t]})});function a5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Td.hasOwnProperty(t)&&Td[t]?(""+e).trim():e+"px"}function o5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=a5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var kE=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ny(t,e){if(e){if(kE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Et(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Et(62))}}function sy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iy=null;function c1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ay=null,ch=null,uh=null;function Xx(t){if(t=Gf(t)){if(typeof ay!="function")throw Error(Et(280));var e=t.stateNode;e&&(e=jg(e),ay(t.stateNode,t.type,e))}}function A5(t){ch?uh?uh.push(t):uh=[t]:ch=t}function l5(){if(ch){var t=ch,e=uh;if(uh=ch=null,Xx(t),e)for(t=0;t<e.length;t++)Xx(e[t])}}function c5(t,e){return t(e)}function u5(){}var k0=!1;function h5(t,e,r){if(k0)return t(e,r);k0=!0;try{return c5(t,e,r)}finally{k0=!1,(ch!==null||uh!==null)&&(u5(),l5())}}function cf(t,e){var r=t.stateNode;if(r===null)return null;var n=jg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Et(231,e,typeof r));return r}var oy=!1;if(JA)try{var ld={};Object.defineProperty(ld,"passive",{get:function(){oy=!0}}),window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{oy=!1}function LE(t,e,r,n,s,i,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(p){this.onError(p)}}var Od=!1,Lm=null,Qm=!1,Ay=null,QE={onError:function(t){Od=!0,Lm=t}};function IE(t,e,r,n,s,i,o,l,c){Od=!1,Lm=null,LE.apply(QE,arguments)}function PE(t,e,r,n,s,i,o,l,c){if(IE.apply(this,arguments),Od){if(Od){var h=Lm;Od=!1,Lm=null}else throw Error(Et(198));Qm||(Qm=!0,Ay=h)}}function hu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function d5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yx(t){if(hu(t)!==t)throw Error(Et(188))}function TE(t){var e=t.alternate;if(!e){if(e=hu(t),e===null)throw Error(Et(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Yx(s),t;if(i===n)return Yx(s),e;i=i.sibling}throw Error(Et(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(Et(189))}}if(r.alternate!==n)throw Error(Et(190))}if(r.tag!==3)throw Error(Et(188));return r.stateNode.current===r?t:e}function f5(t){return t=TE(t),t!==null?p5(t):null}function p5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=p5(t);if(e!==null)return e;t=t.sibling}return null}var m5=Ia.unstable_scheduleCallback,e2=Ia.unstable_cancelCallback,OE=Ia.unstable_shouldYield,RE=Ia.unstable_requestPaint,is=Ia.unstable_now,DE=Ia.unstable_getCurrentPriorityLevel,u1=Ia.unstable_ImmediatePriority,g5=Ia.unstable_UserBlockingPriority,Im=Ia.unstable_NormalPriority,ME=Ia.unstable_LowPriority,v5=Ia.unstable_IdlePriority,Ng=null,mA=null;function HE(t){if(mA&&typeof mA.onCommitFiberRoot=="function")try{mA.onCommitFiberRoot(Ng,t,void 0,(t.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:zE,KE=Math.log,qE=Math.LN2;function zE(t){return t>>>=0,t===0?32:31-(KE(t)/qE|0)|0}var _p=64,Bp=4194304;function Cd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Cd(l):(i&=o,i!==0&&(n=Cd(i)))}else o=r&~s,o!==0?n=Cd(o):i!==0&&(n=Cd(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Oo(e),s=1<<r,n|=t[r],e&=~s;return n}function VE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WE(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Oo(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=VE(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function ly(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function y5(){var t=_p;return _p<<=1,!(_p&4194240)&&(_p=64),t}function L0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Vf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Oo(e),t[e]=r}function GE(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Oo(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function h1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Oo(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var en=0;function w5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var x5,d1,b5,_5,B5,cy=!1,Cp=[],ql=null,zl=null,Vl=null,uf=new Map,hf=new Map,Bl=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t2(t,e){switch(t){case"focusin":case"focusout":ql=null;break;case"dragenter":case"dragleave":zl=null;break;case"mouseover":case"mouseout":Vl=null;break;case"pointerover":case"pointerout":uf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hf.delete(e.pointerId)}}function cd(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Gf(e),e!==null&&d1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function JE(t,e,r,n,s){switch(e){case"focusin":return ql=cd(ql,t,e,r,n,s),!0;case"dragenter":return zl=cd(zl,t,e,r,n,s),!0;case"mouseover":return Vl=cd(Vl,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return uf.set(i,cd(uf.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,hf.set(i,cd(hf.get(i)||null,t,e,r,n,s)),!0}return!1}function C5(t){var e=Fc(t.target);if(e!==null){var r=hu(e);if(r!==null){if(e=r.tag,e===13){if(e=d5(r),e!==null){t.blockedOn=e,B5(t.priority,function(){b5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=uy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);iy=n,r.target.dispatchEvent(n),iy=null}else return e=Gf(r),e!==null&&d1(e),t.blockedOn=r,!1;e.shift()}return!0}function r2(t,e,r){gm(t)&&r.delete(e)}function ZE(){cy=!1,ql!==null&&gm(ql)&&(ql=null),zl!==null&&gm(zl)&&(zl=null),Vl!==null&&gm(Vl)&&(Vl=null),uf.forEach(r2),hf.forEach(r2)}function ud(t,e){t.blockedOn===e&&(t.blockedOn=null,cy||(cy=!0,Ia.unstable_scheduleCallback(Ia.unstable_NormalPriority,ZE)))}function df(t){function e(s){return ud(s,t)}if(0<Cp.length){ud(Cp[0],t);for(var r=1;r<Cp.length;r++){var n=Cp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ql!==null&&ud(ql,t),zl!==null&&ud(zl,t),Vl!==null&&ud(Vl,t),uf.forEach(e),hf.forEach(e),r=0;r<Bl.length;r++)n=Bl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Bl.length&&(r=Bl[0],r.blockedOn===null);)C5(r),r.blockedOn===null&&Bl.shift()}var hh=tl.ReactCurrentBatchConfig,Tm=!0;function XE(t,e,r,n){var s=en,i=hh.transition;hh.transition=null;try{en=1,f1(t,e,r,n)}finally{en=s,hh.transition=i}}function YE(t,e,r,n){var s=en,i=hh.transition;hh.transition=null;try{en=4,f1(t,e,r,n)}finally{en=s,hh.transition=i}}function f1(t,e,r,n){if(Tm){var s=uy(t,e,r,n);if(s===null)K0(t,e,n,Om,r),t2(t,n);else if(JE(s,t,e,r,n))n.stopPropagation();else if(t2(t,n),e&4&&-1<$E.indexOf(t)){for(;s!==null;){var i=Gf(s);if(i!==null&&x5(i),i=uy(t,e,r,n),i===null&&K0(t,e,n,Om,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else K0(t,e,n,null,r)}}var Om=null;function uy(t,e,r,n){if(Om=null,t=c1(n),t=Fc(t),t!==null)if(e=hu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=d5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Om=t,null}function N5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DE()){case u1:return 1;case g5:return 4;case Im:case ME:return 16;case v5:return 536870912;default:return 16}default:return 16}}var Tl=null,p1=null,vm=null;function S5(){if(vm)return vm;var t,e=p1,r=e.length,n,s="value"in Tl?Tl.value:Tl.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return vm=s.slice(t,1<n?1-n:void 0)}function ym(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Np(){return!0}function n2(){return!1}function Ta(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Np:n2,this.isPropagationStopped=n2,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Np)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Np)},persist:function(){},isPersistent:Np}),e}var zh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},m1=Ta(zh),Wf=Dn({},zh,{view:0,detail:0}),eF=Ta(Wf),Q0,I0,hd,Sg=Dn({},Wf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:g1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hd&&(hd&&t.type==="mousemove"?(Q0=t.screenX-hd.screenX,I0=t.screenY-hd.screenY):I0=Q0=0,hd=t),Q0)},movementY:function(t){return"movementY"in t?t.movementY:I0}}),s2=Ta(Sg),tF=Dn({},Sg,{dataTransfer:0}),rF=Ta(tF),nF=Dn({},Wf,{relatedTarget:0}),P0=Ta(nF),sF=Dn({},zh,{animationName:0,elapsedTime:0,pseudoElement:0}),iF=Ta(sF),aF=Dn({},zh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oF=Ta(aF),AF=Dn({},zh,{data:0}),i2=Ta(AF),lF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uF[t])?!!e[t]:!1}function g1(){return hF}var dF=Dn({},Wf,{key:function(t){if(t.key){var e=lF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ym(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:g1,charCode:function(t){return t.type==="keypress"?ym(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ym(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fF=Ta(dF),pF=Dn({},Sg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a2=Ta(pF),mF=Dn({},Wf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:g1}),gF=Ta(mF),vF=Dn({},zh,{propertyName:0,elapsedTime:0,pseudoElement:0}),yF=Ta(vF),wF=Dn({},Sg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xF=Ta(wF),bF=[9,13,27,32],v1=JA&&"CompositionEvent"in window,Rd=null;JA&&"documentMode"in document&&(Rd=document.documentMode);var _F=JA&&"TextEvent"in window&&!Rd,E5=JA&&(!v1||Rd&&8<Rd&&11>=Rd),o2=" ",A2=!1;function F5(t,e){switch(t){case"keyup":return bF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zu=!1;function BF(t,e){switch(t){case"compositionend":return j5(e);case"keypress":return e.which!==32?null:(A2=!0,o2);case"textInput":return t=e.data,t===o2&&A2?null:t;default:return null}}function CF(t,e){if(Zu)return t==="compositionend"||!v1&&F5(t,e)?(t=S5(),vm=p1=Tl=null,Zu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E5&&e.locale!=="ko"?null:e.data;default:return null}}var NF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NF[t.type]:e==="textarea"}function U5(t,e,r,n){A5(n),e=Rm(e,"onChange"),0<e.length&&(r=new m1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Dd=null,ff=null;function SF(t){H5(t,0)}function Eg(t){var e=eh(t);if(t5(e))return t}function EF(t,e){if(t==="change")return e}var k5=!1;if(JA){var T0;if(JA){var O0="oninput"in document;if(!O0){var c2=document.createElement("div");c2.setAttribute("oninput","return;"),O0=typeof c2.oninput=="function"}T0=O0}else T0=!1;k5=T0&&(!document.documentMode||9<document.documentMode)}function u2(){Dd&&(Dd.detachEvent("onpropertychange",L5),ff=Dd=null)}function L5(t){if(t.propertyName==="value"&&Eg(ff)){var e=[];U5(e,ff,t,c1(t)),h5(SF,e)}}function FF(t,e,r){t==="focusin"?(u2(),Dd=e,ff=r,Dd.attachEvent("onpropertychange",L5)):t==="focusout"&&u2()}function jF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eg(ff)}function UF(t,e){if(t==="click")return Eg(e)}function kF(t,e){if(t==="input"||t==="change")return Eg(e)}function LF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Do=typeof Object.is=="function"?Object.is:LF;function pf(t,e){if(Do(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Wv.call(e,s)||!Do(t[s],e[s]))return!1}return!0}function h2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function d2(t,e){var r=h2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=h2(r)}}function Q5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function I5(){for(var t=window,e=km();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=km(t.document)}return e}function y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QF(t){var e=I5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Q5(r.ownerDocument.documentElement,r)){if(n!==null&&y1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=d2(r,i);var o=d2(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IF=JA&&"documentMode"in document&&11>=document.documentMode,Xu=null,hy=null,Md=null,dy=!1;function f2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dy||Xu==null||Xu!==km(n)||(n=Xu,"selectionStart"in n&&y1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Md&&pf(Md,n)||(Md=n,n=Rm(hy,"onSelect"),0<n.length&&(e=new m1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Xu)))}function Sp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Yu={animationend:Sp("Animation","AnimationEnd"),animationiteration:Sp("Animation","AnimationIteration"),animationstart:Sp("Animation","AnimationStart"),transitionend:Sp("Transition","TransitionEnd")},R0={},P5={};JA&&(P5=document.createElement("div").style,"AnimationEvent"in window||(delete Yu.animationend.animation,delete Yu.animationiteration.animation,delete Yu.animationstart.animation),"TransitionEvent"in window||delete Yu.transitionend.transition);function Fg(t){if(R0[t])return R0[t];if(!Yu[t])return t;var e=Yu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in P5)return R0[t]=e[r];return t}var T5=Fg("animationend"),O5=Fg("animationiteration"),R5=Fg("animationstart"),D5=Fg("transitionend"),M5=new Map,p2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ac(t,e){M5.set(t,e),uu(e,[t])}for(var D0=0;D0<p2.length;D0++){var M0=p2[D0],PF=M0.toLowerCase(),TF=M0[0].toUpperCase()+M0.slice(1);Ac(PF,"on"+TF)}Ac(T5,"onAnimationEnd");Ac(O5,"onAnimationIteration");Ac(R5,"onAnimationStart");Ac("dblclick","onDoubleClick");Ac("focusin","onFocus");Ac("focusout","onBlur");Ac(D5,"onTransitionEnd");kh("onMouseEnter",["mouseout","mouseover"]);kh("onMouseLeave",["mouseout","mouseover"]);kh("onPointerEnter",["pointerout","pointerover"]);kh("onPointerLeave",["pointerout","pointerover"]);uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nd));function m2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,PE(n,e,void 0,t),t.currentTarget=null}function H5(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;m2(s,l,h),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;m2(s,l,h),i=c}}}if(Qm)throw t=Ay,Qm=!1,Ay=null,t}function gn(t,e){var r=e[vy];r===void 0&&(r=e[vy]=new Set);var n=t+"__bubble";r.has(n)||(K5(e,t,2,!1),r.add(n))}function H0(t,e,r){var n=0;e&&(n|=4),K5(r,t,n,e)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function mf(t){if(!t[Ep]){t[Ep]=!0,JB.forEach(function(r){r!=="selectionchange"&&(OF.has(r)||H0(r,!1,t),H0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ep]||(e[Ep]=!0,H0("selectionchange",!1,e))}}function K5(t,e,r,n){switch(N5(e)){case 1:var s=XE;break;case 4:s=YE;break;default:s=f1}r=s.bind(null,e,r,t),s=void 0,!oy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function K0(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Fc(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}h5(function(){var h=i,p=c1(r),g=[];e:{var w=M5.get(t);if(w!==void 0){var y=m1,F=t;switch(t){case"keypress":if(ym(r)===0)break e;case"keydown":case"keyup":y=fF;break;case"focusin":F="focus",y=P0;break;case"focusout":F="blur",y=P0;break;case"beforeblur":case"afterblur":y=P0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=s2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=rF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=gF;break;case T5:case O5:case R5:y=iF;break;case D5:y=yF;break;case"scroll":y=eF;break;case"wheel":y=xF;break;case"copy":case"cut":case"paste":y=oF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=a2}var S=(e&4)!==0,Q=!S&&t==="scroll",_=S?w!==null?w+"Capture":null:w;S=[];for(var B=h,j;B!==null;){j=B;var T=j.stateNode;if(j.tag===5&&T!==null&&(j=T,_!==null&&(T=cf(B,_),T!=null&&S.push(gf(B,T,j)))),Q)break;B=B.return}0<S.length&&(w=new y(w,F,null,r,p),g.push({event:w,listeners:S}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",w&&r!==iy&&(F=r.relatedTarget||r.fromElement)&&(Fc(F)||F[ZA]))break e;if((y||w)&&(w=p.window===p?p:(w=p.ownerDocument)?w.defaultView||w.parentWindow:window,y?(F=r.relatedTarget||r.toElement,y=h,F=F?Fc(F):null,F!==null&&(Q=hu(F),F!==Q||F.tag!==5&&F.tag!==6)&&(F=null)):(y=null,F=h),y!==F)){if(S=s2,T="onMouseLeave",_="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(S=a2,T="onPointerLeave",_="onPointerEnter",B="pointer"),Q=y==null?w:eh(y),j=F==null?w:eh(F),w=new S(T,B+"leave",y,r,p),w.target=Q,w.relatedTarget=j,T=null,Fc(p)===h&&(S=new S(_,B+"enter",F,r,p),S.target=j,S.relatedTarget=Q,T=S),Q=T,y&&F)t:{for(S=y,_=F,B=0,j=S;j;j=Cu(j))B++;for(j=0,T=_;T;T=Cu(T))j++;for(;0<B-j;)S=Cu(S),B--;for(;0<j-B;)_=Cu(_),j--;for(;B--;){if(S===_||_!==null&&S===_.alternate)break t;S=Cu(S),_=Cu(_)}S=null}else S=null;y!==null&&g2(g,w,y,S,!1),F!==null&&Q!==null&&g2(g,Q,F,S,!0)}}e:{if(w=h?eh(h):window,y=w.nodeName&&w.nodeName.toLowerCase(),y==="select"||y==="input"&&w.type==="file")var V=EF;else if(l2(w))if(k5)V=kF;else{V=jF;var K=FF}else(y=w.nodeName)&&y.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(V=UF);if(V&&(V=V(t,h))){U5(g,V,r,p);break e}K&&K(t,w,h),t==="focusout"&&(K=w._wrapperState)&&K.controlled&&w.type==="number"&&ey(w,"number",w.value)}switch(K=h?eh(h):window,t){case"focusin":(l2(K)||K.contentEditable==="true")&&(Xu=K,hy=h,Md=null);break;case"focusout":Md=hy=Xu=null;break;case"mousedown":dy=!0;break;case"contextmenu":case"mouseup":case"dragend":dy=!1,f2(g,r,p);break;case"selectionchange":if(IF)break;case"keydown":case"keyup":f2(g,r,p)}var G;if(v1)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Zu?F5(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(E5&&r.locale!=="ko"&&(Zu||M!=="onCompositionStart"?M==="onCompositionEnd"&&Zu&&(G=S5()):(Tl=p,p1="value"in Tl?Tl.value:Tl.textContent,Zu=!0)),K=Rm(h,M),0<K.length&&(M=new i2(M,t,null,r,p),g.push({event:M,listeners:K}),G?M.data=G:(G=j5(r),G!==null&&(M.data=G)))),(G=_F?BF(t,r):CF(t,r))&&(h=Rm(h,"onBeforeInput"),0<h.length&&(p=new i2("onBeforeInput","beforeinput",null,r,p),g.push({event:p,listeners:h}),p.data=G))}H5(g,e)})}function gf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Rm(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=cf(t,r),i!=null&&n.unshift(gf(t,i,s)),i=cf(t,e),i!=null&&n.push(gf(t,i,s))),t=t.return}return n}function Cu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function g2(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,h=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&h!==null&&(l=h,s?(c=cf(r,i),c!=null&&o.unshift(gf(r,c,l))):s||(c=cf(r,i),c!=null&&o.push(gf(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var RF=/\r\n?/g,DF=/\u0000|\uFFFD/g;function v2(t){return(typeof t=="string"?t:""+t).replace(RF,`
`).replace(DF,"")}function Fp(t,e,r){if(e=v2(e),v2(t)!==e&&r)throw Error(Et(425))}function Dm(){}var fy=null,py=null;function my(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gy=typeof setTimeout=="function"?setTimeout:void 0,MF=typeof clearTimeout=="function"?clearTimeout:void 0,y2=typeof Promise=="function"?Promise:void 0,HF=typeof queueMicrotask=="function"?queueMicrotask:typeof y2<"u"?function(t){return y2.resolve(null).then(t).catch(KF)}:gy;function KF(t){setTimeout(function(){throw t})}function q0(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),df(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);df(e)}function Wl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function w2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Vh=Math.random().toString(36).slice(2),hA="__reactFiber$"+Vh,vf="__reactProps$"+Vh,ZA="__reactContainer$"+Vh,vy="__reactEvents$"+Vh,qF="__reactListeners$"+Vh,zF="__reactHandles$"+Vh;function Fc(t){var e=t[hA];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ZA]||r[hA]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=w2(t);t!==null;){if(r=t[hA])return r;t=w2(t)}return e}t=r,r=t.parentNode}return null}function Gf(t){return t=t[hA]||t[ZA],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Et(33))}function jg(t){return t[vf]||null}var yy=[],th=-1;function lc(t){return{current:t}}function yn(t){0>th||(t.current=yy[th],yy[th]=null,th--)}function dn(t,e){th++,yy[th]=t.current,t.current=e}var sc={},wi=lc(sc),ia=lc(!1),tu=sc;function Lh(t,e){var r=t.type.contextTypes;if(!r)return sc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function aa(t){return t=t.childContextTypes,t!=null}function Mm(){yn(ia),yn(wi)}function x2(t,e,r){if(wi.current!==sc)throw Error(Et(168));dn(wi,e),dn(ia,r)}function q5(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Et(108,FE(t)||"Unknown",s));return Dn({},r,n)}function Hm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sc,tu=wi.current,dn(wi,t),dn(ia,ia.current),!0}function b2(t,e,r){var n=t.stateNode;if(!n)throw Error(Et(169));r?(t=q5(t,e,tu),n.__reactInternalMemoizedMergedChildContext=t,yn(ia),yn(wi),dn(wi,t)):yn(ia),dn(ia,r)}var OA=null,Ug=!1,z0=!1;function z5(t){OA===null?OA=[t]:OA.push(t)}function VF(t){Ug=!0,z5(t)}function cc(){if(!z0&&OA!==null){z0=!0;var t=0,e=en;try{var r=OA;for(en=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}OA=null,Ug=!1}catch(s){throw OA!==null&&(OA=OA.slice(t+1)),m5(u1,cc),s}finally{en=e,z0=!1}}return null}var rh=[],nh=0,Km=null,qm=0,eo=[],to=0,ru=null,KA=1,qA="";function xc(t,e){rh[nh++]=qm,rh[nh++]=Km,Km=t,qm=e}function V5(t,e,r){eo[to++]=KA,eo[to++]=qA,eo[to++]=ru,ru=t;var n=KA;t=qA;var s=32-Oo(n)-1;n&=~(1<<s),r+=1;var i=32-Oo(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,KA=1<<32-Oo(e)+s|r<<s|n,qA=i+t}else KA=1<<i|r<<s|n,qA=t}function w1(t){t.return!==null&&(xc(t,1),V5(t,1,0))}function x1(t){for(;t===Km;)Km=rh[--nh],rh[nh]=null,qm=rh[--nh],rh[nh]=null;for(;t===ru;)ru=eo[--to],eo[to]=null,qA=eo[--to],eo[to]=null,KA=eo[--to],eo[to]=null}var Qa=null,ka=null,Sn=!1,Po=null;function W5(t,e){var r=no(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function _2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qa=t,ka=Wl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qa=t,ka=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ru!==null?{id:KA,overflow:qA}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=no(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Qa=t,ka=null,!0):!1;default:return!1}}function wy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xy(t){if(Sn){var e=ka;if(e){var r=e;if(!_2(t,e)){if(wy(t))throw Error(Et(418));e=Wl(r.nextSibling);var n=Qa;e&&_2(t,e)?W5(n,r):(t.flags=t.flags&-4097|2,Sn=!1,Qa=t)}}else{if(wy(t))throw Error(Et(418));t.flags=t.flags&-4097|2,Sn=!1,Qa=t}}}function B2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qa=t}function jp(t){if(t!==Qa)return!1;if(!Sn)return B2(t),Sn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!my(t.type,t.memoizedProps)),e&&(e=ka)){if(wy(t))throw G5(),Error(Et(418));for(;e;)W5(t,e),e=Wl(e.nextSibling)}if(B2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ka=Wl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ka=null}}else ka=Qa?Wl(t.stateNode.nextSibling):null;return!0}function G5(){for(var t=ka;t;)t=Wl(t.nextSibling)}function Qh(){ka=Qa=null,Sn=!1}function b1(t){Po===null?Po=[t]:Po.push(t)}var WF=tl.ReactCurrentBatchConfig;function dd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Et(309));var n=r.stateNode}if(!n)throw Error(Et(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Et(284));if(!r._owner)throw Error(Et(290,t))}return t}function Up(t,e){throw t=Object.prototype.toString.call(e),Error(Et(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C2(t){var e=t._init;return e(t._payload)}function $5(t){function e(_,B){if(t){var j=_.deletions;j===null?(_.deletions=[B],_.flags|=16):j.push(B)}}function r(_,B){if(!t)return null;for(;B!==null;)e(_,B),B=B.sibling;return null}function n(_,B){for(_=new Map;B!==null;)B.key!==null?_.set(B.key,B):_.set(B.index,B),B=B.sibling;return _}function s(_,B){return _=Zl(_,B),_.index=0,_.sibling=null,_}function i(_,B,j){return _.index=j,t?(j=_.alternate,j!==null?(j=j.index,j<B?(_.flags|=2,B):j):(_.flags|=2,B)):(_.flags|=1048576,B)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,B,j,T){return B===null||B.tag!==6?(B=X0(j,_.mode,T),B.return=_,B):(B=s(B,j),B.return=_,B)}function c(_,B,j,T){var V=j.type;return V===Ju?p(_,B,j.props.children,T,j.key):B!==null&&(B.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wl&&C2(V)===B.type)?(T=s(B,j.props),T.ref=dd(_,B,j),T.return=_,T):(T=Nm(j.type,j.key,j.props,null,_.mode,T),T.ref=dd(_,B,j),T.return=_,T)}function h(_,B,j,T){return B===null||B.tag!==4||B.stateNode.containerInfo!==j.containerInfo||B.stateNode.implementation!==j.implementation?(B=Y0(j,_.mode,T),B.return=_,B):(B=s(B,j.children||[]),B.return=_,B)}function p(_,B,j,T,V){return B===null||B.tag!==7?(B=Wc(j,_.mode,T,V),B.return=_,B):(B=s(B,j),B.return=_,B)}function g(_,B,j){if(typeof B=="string"&&B!==""||typeof B=="number")return B=X0(""+B,_.mode,j),B.return=_,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case wp:return j=Nm(B.type,B.key,B.props,null,_.mode,j),j.ref=dd(_,null,B),j.return=_,j;case $u:return B=Y0(B,_.mode,j),B.return=_,B;case wl:var T=B._init;return g(_,T(B._payload),j)}if(Bd(B)||Ad(B))return B=Wc(B,_.mode,j,null),B.return=_,B;Up(_,B)}return null}function w(_,B,j,T){var V=B!==null?B.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return V!==null?null:l(_,B,""+j,T);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case wp:return j.key===V?c(_,B,j,T):null;case $u:return j.key===V?h(_,B,j,T):null;case wl:return V=j._init,w(_,B,V(j._payload),T)}if(Bd(j)||Ad(j))return V!==null?null:p(_,B,j,T,null);Up(_,j)}return null}function y(_,B,j,T,V){if(typeof T=="string"&&T!==""||typeof T=="number")return _=_.get(j)||null,l(B,_,""+T,V);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wp:return _=_.get(T.key===null?j:T.key)||null,c(B,_,T,V);case $u:return _=_.get(T.key===null?j:T.key)||null,h(B,_,T,V);case wl:var K=T._init;return y(_,B,j,K(T._payload),V)}if(Bd(T)||Ad(T))return _=_.get(j)||null,p(B,_,T,V,null);Up(B,T)}return null}function F(_,B,j,T){for(var V=null,K=null,G=B,M=B=0,Z=null;G!==null&&M<j.length;M++){G.index>M?(Z=G,G=null):Z=G.sibling;var oe=w(_,G,j[M],T);if(oe===null){G===null&&(G=Z);break}t&&G&&oe.alternate===null&&e(_,G),B=i(oe,B,M),K===null?V=oe:K.sibling=oe,K=oe,G=Z}if(M===j.length)return r(_,G),Sn&&xc(_,M),V;if(G===null){for(;M<j.length;M++)G=g(_,j[M],T),G!==null&&(B=i(G,B,M),K===null?V=G:K.sibling=G,K=G);return Sn&&xc(_,M),V}for(G=n(_,G);M<j.length;M++)Z=y(G,_,M,j[M],T),Z!==null&&(t&&Z.alternate!==null&&G.delete(Z.key===null?M:Z.key),B=i(Z,B,M),K===null?V=Z:K.sibling=Z,K=Z);return t&&G.forEach(function(D){return e(_,D)}),Sn&&xc(_,M),V}function S(_,B,j,T){var V=Ad(j);if(typeof V!="function")throw Error(Et(150));if(j=V.call(j),j==null)throw Error(Et(151));for(var K=V=null,G=B,M=B=0,Z=null,oe=j.next();G!==null&&!oe.done;M++,oe=j.next()){G.index>M?(Z=G,G=null):Z=G.sibling;var D=w(_,G,oe.value,T);if(D===null){G===null&&(G=Z);break}t&&G&&D.alternate===null&&e(_,G),B=i(D,B,M),K===null?V=D:K.sibling=D,K=D,G=Z}if(oe.done)return r(_,G),Sn&&xc(_,M),V;if(G===null){for(;!oe.done;M++,oe=j.next())oe=g(_,oe.value,T),oe!==null&&(B=i(oe,B,M),K===null?V=oe:K.sibling=oe,K=oe);return Sn&&xc(_,M),V}for(G=n(_,G);!oe.done;M++,oe=j.next())oe=y(G,_,M,oe.value,T),oe!==null&&(t&&oe.alternate!==null&&G.delete(oe.key===null?M:oe.key),B=i(oe,B,M),K===null?V=oe:K.sibling=oe,K=oe);return t&&G.forEach(function(R){return e(_,R)}),Sn&&xc(_,M),V}function Q(_,B,j,T){if(typeof j=="object"&&j!==null&&j.type===Ju&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case wp:e:{for(var V=j.key,K=B;K!==null;){if(K.key===V){if(V=j.type,V===Ju){if(K.tag===7){r(_,K.sibling),B=s(K,j.props.children),B.return=_,_=B;break e}}else if(K.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wl&&C2(V)===K.type){r(_,K.sibling),B=s(K,j.props),B.ref=dd(_,K,j),B.return=_,_=B;break e}r(_,K);break}else e(_,K);K=K.sibling}j.type===Ju?(B=Wc(j.props.children,_.mode,T,j.key),B.return=_,_=B):(T=Nm(j.type,j.key,j.props,null,_.mode,T),T.ref=dd(_,B,j),T.return=_,_=T)}return o(_);case $u:e:{for(K=j.key;B!==null;){if(B.key===K)if(B.tag===4&&B.stateNode.containerInfo===j.containerInfo&&B.stateNode.implementation===j.implementation){r(_,B.sibling),B=s(B,j.children||[]),B.return=_,_=B;break e}else{r(_,B);break}else e(_,B);B=B.sibling}B=Y0(j,_.mode,T),B.return=_,_=B}return o(_);case wl:return K=j._init,Q(_,B,K(j._payload),T)}if(Bd(j))return F(_,B,j,T);if(Ad(j))return S(_,B,j,T);Up(_,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,B!==null&&B.tag===6?(r(_,B.sibling),B=s(B,j),B.return=_,_=B):(r(_,B),B=X0(j,_.mode,T),B.return=_,_=B),o(_)):r(_,B)}return Q}var Ih=$5(!0),J5=$5(!1),zm=lc(null),Vm=null,sh=null,_1=null;function B1(){_1=sh=Vm=null}function C1(t){var e=zm.current;yn(zm),t._currentValue=e}function by(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function dh(t,e){Vm=t,_1=sh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sa=!0),t.firstContext=null)}function lo(t){var e=t._currentValue;if(_1!==t)if(t={context:t,memoizedValue:e,next:null},sh===null){if(Vm===null)throw Error(Et(308));sh=t,Vm.dependencies={lanes:0,firstContext:t}}else sh=sh.next=t;return e}var jc=null;function N1(t){jc===null?jc=[t]:jc.push(t)}function Z5(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,N1(e)):(r.next=s.next,s.next=r),e.interleaved=r,XA(t,n)}function XA(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var xl=!1;function S1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zA(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Tr&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,XA(t,r)}return s=n.interleaved,s===null?(e.next=e,N1(n)):(e.next=s.next,s.next=e),n.interleaved=e,XA(t,r)}function wm(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,h1(t,r)}}function N2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Wm(t,e,r,n){var s=t.updateQueue;xl=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?i=h:o.next=h,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(i!==null){var g=s.baseState;o=0,p=h=c=null,l=i;do{var w=l.lane,y=l.eventTime;if((n&w)===w){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var F=t,S=l;switch(w=e,y=r,S.tag){case 1:if(F=S.payload,typeof F=="function"){g=F.call(y,g,w);break e}g=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=S.payload,w=typeof F=="function"?F.call(y,g,w):F,w==null)break e;g=Dn({},g,w);break e;case 2:xl=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,w=s.effects,w===null?s.effects=[l]:w.push(l))}else y={eventTime:y,lane:w,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=y,c=g):p=p.next=y,o|=w;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;w=l,l=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(!0);if(p===null&&(c=g),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);su|=o,t.lanes=o,t.memoizedState=g}}function S2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Et(191,s));s.call(n)}}}var $f={},gA=lc($f),yf=lc($f),wf=lc($f);function Uc(t){if(t===$f)throw Error(Et(174));return t}function E1(t,e){switch(dn(wf,e),dn(yf,t),dn(gA,$f),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ry(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ry(e,t)}yn(gA),dn(gA,e)}function Ph(){yn(gA),yn(yf),yn(wf)}function Y5(t){Uc(wf.current);var e=Uc(gA.current),r=ry(e,t.type);e!==r&&(dn(yf,t),dn(gA,r))}function F1(t){yf.current===t&&(yn(gA),yn(yf))}var Tn=lc(0);function Gm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var V0=[];function j1(){for(var t=0;t<V0.length;t++)V0[t]._workInProgressVersionPrimary=null;V0.length=0}var xm=tl.ReactCurrentDispatcher,W0=tl.ReactCurrentBatchConfig,nu=0,On=null,Ns=null,Ds=null,$m=!1,Hd=!1,xf=0,GF=0;function ci(){throw Error(Et(321))}function U1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Do(t[r],e[r]))return!1;return!0}function k1(t,e,r,n,s,i){if(nu=i,On=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xm.current=t===null||t.memoizedState===null?XF:YF,t=r(n,s),Hd){i=0;do{if(Hd=!1,xf=0,25<=i)throw Error(Et(301));i+=1,Ds=Ns=null,e.updateQueue=null,xm.current=e3,t=r(n,s)}while(Hd)}if(xm.current=Jm,e=Ns!==null&&Ns.next!==null,nu=0,Ds=Ns=On=null,$m=!1,e)throw Error(Et(300));return t}function L1(){var t=xf!==0;return xf=0,t}function oA(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ds===null?On.memoizedState=Ds=t:Ds=Ds.next=t,Ds}function co(){if(Ns===null){var t=On.alternate;t=t!==null?t.memoizedState:null}else t=Ns.next;var e=Ds===null?On.memoizedState:Ds.next;if(e!==null)Ds=e,Ns=t;else{if(t===null)throw Error(Et(310));Ns=t,t={memoizedState:Ns.memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},Ds===null?On.memoizedState=Ds=t:Ds=Ds.next=t}return Ds}function bf(t,e){return typeof e=="function"?e(t):e}function G0(t){var e=co(),r=e.queue;if(r===null)throw Error(Et(311));r.lastRenderedReducer=t;var n=Ns,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,h=i;do{var p=h.lane;if((nu&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var g={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=g,o=n):c=c.next=g,On.lanes|=p,su|=p}h=h.next}while(h!==null&&h!==i);c===null?o=n:c.next=l,Do(n,e.memoizedState)||(sa=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,On.lanes|=i,su|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $0(t){var e=co(),r=e.queue;if(r===null)throw Error(Et(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Do(i,e.memoizedState)||(sa=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function eC(){}function tC(t,e){var r=On,n=co(),s=e(),i=!Do(n.memoizedState,s);if(i&&(n.memoizedState=s,sa=!0),n=n.queue,Q1(sC.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ds!==null&&Ds.memoizedState.tag&1){if(r.flags|=2048,_f(9,nC.bind(null,r,n,s,e),void 0,null),Ms===null)throw Error(Et(349));nu&30||rC(r,e,s)}return s}function rC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function nC(t,e,r,n){e.value=r,e.getSnapshot=n,iC(e)&&aC(t)}function sC(t,e,r){return r(function(){iC(e)&&aC(t)})}function iC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Do(t,r)}catch{return!0}}function aC(t){var e=XA(t,1);e!==null&&Ro(e,t,1,-1)}function E2(t){var e=oA();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bf,lastRenderedState:t},e.queue=t,t=t.dispatch=ZF.bind(null,On,t),[e.memoizedState,t]}function _f(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function oC(){return co().memoizedState}function bm(t,e,r,n){var s=oA();On.flags|=t,s.memoizedState=_f(1|e,r,void 0,n===void 0?null:n)}function kg(t,e,r,n){var s=co();n=n===void 0?null:n;var i=void 0;if(Ns!==null){var o=Ns.memoizedState;if(i=o.destroy,n!==null&&U1(n,o.deps)){s.memoizedState=_f(e,r,i,n);return}}On.flags|=t,s.memoizedState=_f(1|e,r,i,n)}function F2(t,e){return bm(8390656,8,t,e)}function Q1(t,e){return kg(2048,8,t,e)}function AC(t,e){return kg(4,2,t,e)}function lC(t,e){return kg(4,4,t,e)}function cC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uC(t,e,r){return r=r!=null?r.concat([t]):null,kg(4,4,cC.bind(null,e,t),r)}function I1(){}function hC(t,e){var r=co();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&U1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function dC(t,e){var r=co();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&U1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function fC(t,e,r){return nu&21?(Do(r,e)||(r=y5(),On.lanes|=r,su|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sa=!0),t.memoizedState=r)}function $F(t,e){var r=en;en=r!==0&&4>r?r:4,t(!0);var n=W0.transition;W0.transition={};try{t(!1),e()}finally{en=r,W0.transition=n}}function pC(){return co().memoizedState}function JF(t,e,r){var n=Jl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},mC(t))gC(e,r);else if(r=Z5(t,e,r,n),r!==null){var s=Ri();Ro(r,t,n,s),vC(r,e,n)}}function ZF(t,e,r){var n=Jl(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(mC(t))gC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Do(l,o)){var c=e.interleaved;c===null?(s.next=s,N1(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Z5(t,e,s,n),r!==null&&(s=Ri(),Ro(r,t,n,s),vC(r,e,n))}}function mC(t){var e=t.alternate;return t===On||e!==null&&e===On}function gC(t,e){Hd=$m=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function vC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,h1(t,r)}}var Jm={readContext:lo,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useInsertionEffect:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useSyncExternalStore:ci,useId:ci,unstable_isNewReconciler:!1},XF={readContext:lo,useCallback:function(t,e){return oA().memoizedState=[t,e===void 0?null:e],t},useContext:lo,useEffect:F2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,bm(4194308,4,cC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return bm(4194308,4,t,e)},useInsertionEffect:function(t,e){return bm(4,2,t,e)},useMemo:function(t,e){var r=oA();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=oA();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=JF.bind(null,On,t),[n.memoizedState,t]},useRef:function(t){var e=oA();return t={current:t},e.memoizedState=t},useState:E2,useDebugValue:I1,useDeferredValue:function(t){return oA().memoizedState=t},useTransition:function(){var t=E2(!1),e=t[0];return t=$F.bind(null,t[1]),oA().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=On,s=oA();if(Sn){if(r===void 0)throw Error(Et(407));r=r()}else{if(r=e(),Ms===null)throw Error(Et(349));nu&30||rC(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,F2(sC.bind(null,n,i,t),[t]),n.flags|=2048,_f(9,nC.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=oA(),e=Ms.identifierPrefix;if(Sn){var r=qA,n=KA;r=(n&~(1<<32-Oo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=xf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=GF++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YF={readContext:lo,useCallback:hC,useContext:lo,useEffect:Q1,useImperativeHandle:uC,useInsertionEffect:AC,useLayoutEffect:lC,useMemo:dC,useReducer:G0,useRef:oC,useState:function(){return G0(bf)},useDebugValue:I1,useDeferredValue:function(t){var e=co();return fC(e,Ns.memoizedState,t)},useTransition:function(){var t=G0(bf)[0],e=co().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:pC,unstable_isNewReconciler:!1},e3={readContext:lo,useCallback:hC,useContext:lo,useEffect:Q1,useImperativeHandle:uC,useInsertionEffect:AC,useLayoutEffect:lC,useMemo:dC,useReducer:$0,useRef:oC,useState:function(){return $0(bf)},useDebugValue:I1,useDeferredValue:function(t){var e=co();return Ns===null?e.memoizedState=t:fC(e,Ns.memoizedState,t)},useTransition:function(){var t=$0(bf)[0],e=co().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:pC,unstable_isNewReconciler:!1};function Eo(t,e){if(t&&t.defaultProps){e=Dn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function _y(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Dn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lg={isMounted:function(t){return(t=t._reactInternals)?hu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ri(),s=Jl(t),i=zA(n,s);i.payload=e,r!=null&&(i.callback=r),e=Gl(t,i,s),e!==null&&(Ro(e,t,s,n),wm(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ri(),s=Jl(t),i=zA(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Gl(t,i,s),e!==null&&(Ro(e,t,s,n),wm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ri(),n=Jl(t),s=zA(r,n);s.tag=2,e!=null&&(s.callback=e),e=Gl(t,s,n),e!==null&&(Ro(e,t,n,r),wm(e,t,n))}};function j2(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!pf(r,n)||!pf(s,i):!0}function yC(t,e,r){var n=!1,s=sc,i=e.contextType;return typeof i=="object"&&i!==null?i=lo(i):(s=aa(e)?tu:wi.current,n=e.contextTypes,i=(n=n!=null)?Lh(t,s):sc),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function U2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Lg.enqueueReplaceState(e,e.state,null)}function By(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},S1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=lo(i):(i=aa(e)?tu:wi.current,s.context=Lh(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(_y(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Lg.enqueueReplaceState(s,s.state,null),Wm(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Th(t,e){try{var r="",n=e;do r+=EE(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function J0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Cy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var t3=typeof WeakMap=="function"?WeakMap:Map;function wC(t,e,r){r=zA(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Xm||(Xm=!0,Iy=n),Cy(t,e)},r}function xC(t,e,r){r=zA(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Cy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Cy(t,e),typeof n!="function"&&($l===null?$l=new Set([this]):$l.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function k2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new t3;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=p3.bind(null,t,e,r),e.then(t,t))}function L2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q2(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=zA(-1,1),e.tag=2,Gl(r,e,1))),r.lanes|=1),t)}var r3=tl.ReactCurrentOwner,sa=!1;function Ti(t,e,r,n){e.child=t===null?J5(e,null,r,n):Ih(e,t.child,r,n)}function I2(t,e,r,n,s){r=r.render;var i=e.ref;return dh(e,s),n=k1(t,e,r,n,i,s),r=L1(),t!==null&&!sa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,YA(t,e,s)):(Sn&&r&&w1(e),e.flags|=1,Ti(t,e,n,s),e.child)}function P2(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!K1(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,bC(t,e,i,n,s)):(t=Nm(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:pf,r(o,n)&&t.ref===e.ref)return YA(t,e,s)}return e.flags|=1,t=Zl(i,n),t.ref=e.ref,t.return=e,e.child=t}function bC(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(pf(i,n)&&t.ref===e.ref)if(sa=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(sa=!0);else return e.lanes=t.lanes,YA(t,e,s)}return Ny(t,e,r,n,s)}function _C(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dn(ah,Na),Na|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dn(ah,Na),Na|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,dn(ah,Na),Na|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,dn(ah,Na),Na|=n;return Ti(t,e,s,r),e.child}function BC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ny(t,e,r,n,s){var i=aa(r)?tu:wi.current;return i=Lh(e,i),dh(e,s),r=k1(t,e,r,n,i,s),n=L1(),t!==null&&!sa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,YA(t,e,s)):(Sn&&n&&w1(e),e.flags|=1,Ti(t,e,r,s),e.child)}function T2(t,e,r,n,s){if(aa(r)){var i=!0;Hm(e)}else i=!1;if(dh(e,s),e.stateNode===null)_m(t,e),yC(e,r,n),By(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=lo(h):(h=aa(r)?tu:wi.current,h=Lh(e,h));var p=r.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==h)&&U2(e,o,n,h),xl=!1;var w=e.memoizedState;o.state=w,Wm(e,n,o,s),c=e.memoizedState,l!==n||w!==c||ia.current||xl?(typeof p=="function"&&(_y(e,r,p,n),c=e.memoizedState),(l=xl||j2(e,r,l,n,w,c,h))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=h,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,X5(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Eo(e.type,l),o.props=h,g=e.pendingProps,w=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=lo(c):(c=aa(r)?tu:wi.current,c=Lh(e,c));var y=r.getDerivedStateFromProps;(p=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||w!==c)&&U2(e,o,n,c),xl=!1,w=e.memoizedState,o.state=w,Wm(e,n,o,s);var F=e.memoizedState;l!==g||w!==F||ia.current||xl?(typeof y=="function"&&(_y(e,r,y,n),F=e.memoizedState),(h=xl||j2(e,r,h,n,w,F,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,F,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,F,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=F),o.props=n,o.state=F,o.context=c,n=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),n=!1)}return Sy(t,e,r,n,i,s)}function Sy(t,e,r,n,s,i){BC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&b2(e,r,!1),YA(t,e,i);n=e.stateNode,r3.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ih(e,t.child,null,i),e.child=Ih(e,null,l,i)):Ti(t,e,l,i),e.memoizedState=n.state,s&&b2(e,r,!0),e.child}function CC(t){var e=t.stateNode;e.pendingContext?x2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&x2(t,e.context,!1),E1(t,e.containerInfo)}function O2(t,e,r,n,s){return Qh(),b1(s),e.flags|=256,Ti(t,e,r,n),e.child}var Ey={dehydrated:null,treeContext:null,retryLane:0};function Fy(t){return{baseLanes:t,cachePool:null,transitions:null}}function NC(t,e,r){var n=e.pendingProps,s=Tn.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),dn(Tn,s&1),t===null)return xy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pg(o,n,0,null),t=Wc(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Fy(r),e.memoizedState=Ey,t):P1(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return n3(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Zl(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Zl(l,i):(i=Wc(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Fy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Ey,n}return i=t.child,t=i.sibling,n=Zl(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function P1(t,e){return e=Pg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kp(t,e,r,n){return n!==null&&b1(n),Ih(e,t.child,null,r),t=P1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n3(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=J0(Error(Et(422))),kp(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Pg({mode:"visible",children:n.children},s,0,null),i=Wc(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ih(e,t.child,null,o),e.child.memoizedState=Fy(o),e.memoizedState=Ey,i);if(!(e.mode&1))return kp(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Et(419)),n=J0(i,n,void 0),kp(t,e,o,n)}if(l=(o&t.childLanes)!==0,sa||l){if(n=Ms,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,XA(t,s),Ro(n,t,s,-1))}return H1(),n=J0(Error(Et(421))),kp(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=m3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ka=Wl(s.nextSibling),Qa=e,Sn=!0,Po=null,t!==null&&(eo[to++]=KA,eo[to++]=qA,eo[to++]=ru,KA=t.id,qA=t.overflow,ru=e),e=P1(e,n.children),e.flags|=4096,e)}function R2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),by(t.return,e,r)}function Z0(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function SC(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ti(t,e,n.children,r),n=Tn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R2(t,r,e);else if(t.tag===19)R2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(dn(Tn,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Gm(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Z0(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gm(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Z0(e,!0,r,null,i);break;case"together":Z0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _m(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function YA(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),su|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Et(153));if(e.child!==null){for(t=e.child,r=Zl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Zl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function s3(t,e,r){switch(e.tag){case 3:CC(e),Qh();break;case 5:Y5(e);break;case 1:aa(e.type)&&Hm(e);break;case 4:E1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;dn(zm,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(dn(Tn,Tn.current&1),e.flags|=128,null):r&e.child.childLanes?NC(t,e,r):(dn(Tn,Tn.current&1),t=YA(t,e,r),t!==null?t.sibling:null);dn(Tn,Tn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return SC(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),dn(Tn,Tn.current),n)break;return null;case 22:case 23:return e.lanes=0,_C(t,e,r)}return YA(t,e,r)}var EC,jy,FC,jC;EC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jy=function(){};FC=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Uc(gA.current);var i=null;switch(r){case"input":s=Xv(t,s),n=Xv(t,n),i=[];break;case"select":s=Dn({},s,{value:void 0}),n=Dn({},n,{value:void 0}),i=[];break;case"textarea":s=ty(t,s),n=ty(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Dm)}ny(r,n);var o;r=null;for(h in s)if(!n.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var l=s[h];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Af.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in n){var c=n[h];if(l=s!=null?s[h]:void 0,n.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Af.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&gn("scroll",t),i||l===c||(i=[])):(i=i||[]).push(h,c))}r&&(i=i||[]).push("style",r);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};jC=function(t,e,r,n){r!==n&&(e.flags|=4)};function fd(t,e){if(!Sn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ui(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function i3(t,e,r){var n=e.pendingProps;switch(x1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(e),null;case 1:return aa(e.type)&&Mm(),ui(e),null;case 3:return n=e.stateNode,Ph(),yn(ia),yn(wi),j1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(jp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Po!==null&&(Oy(Po),Po=null))),jy(t,e),ui(e),null;case 5:F1(e);var s=Uc(wf.current);if(r=e.type,t!==null&&e.stateNode!=null)FC(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Et(166));return ui(e),null}if(t=Uc(gA.current),jp(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[hA]=e,n[vf]=i,t=(e.mode&1)!==0,r){case"dialog":gn("cancel",n),gn("close",n);break;case"iframe":case"object":case"embed":gn("load",n);break;case"video":case"audio":for(s=0;s<Nd.length;s++)gn(Nd[s],n);break;case"source":gn("error",n);break;case"img":case"image":case"link":gn("error",n),gn("load",n);break;case"details":gn("toggle",n);break;case"input":Gx(n,i),gn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},gn("invalid",n);break;case"textarea":Jx(n,i),gn("invalid",n)}ny(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fp(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fp(n.textContent,l,t),s=["children",""+l]):Af.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&gn("scroll",n)}switch(r){case"input":xp(n),$x(n,i,!0);break;case"textarea":xp(n),Zx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Dm)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=s5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[hA]=e,t[vf]=n,EC(t,e,!1,!1),e.stateNode=t;e:{switch(o=sy(r,n),r){case"dialog":gn("cancel",t),gn("close",t),s=n;break;case"iframe":case"object":case"embed":gn("load",t),s=n;break;case"video":case"audio":for(s=0;s<Nd.length;s++)gn(Nd[s],t);s=n;break;case"source":gn("error",t),s=n;break;case"img":case"image":case"link":gn("error",t),gn("load",t),s=n;break;case"details":gn("toggle",t),s=n;break;case"input":Gx(t,n),s=Xv(t,n),gn("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Dn({},n,{value:void 0}),gn("invalid",t);break;case"textarea":Jx(t,n),s=ty(t,n),gn("invalid",t);break;default:s=n}ny(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?o5(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&i5(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&lf(t,c):typeof c=="number"&&lf(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Af.hasOwnProperty(i)?c!=null&&i==="onScroll"&&gn("scroll",t):c!=null&&a1(t,i,c,o))}switch(r){case"input":xp(t),$x(t,n,!1);break;case"textarea":xp(t),Zx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+nc(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?lh(t,!!n.multiple,i,!1):n.defaultValue!=null&&lh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Dm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ui(e),null;case 6:if(t&&e.stateNode!=null)jC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Et(166));if(r=Uc(wf.current),Uc(gA.current),jp(e)){if(n=e.stateNode,r=e.memoizedProps,n[hA]=e,(i=n.nodeValue!==r)&&(t=Qa,t!==null))switch(t.tag){case 3:Fp(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fp(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hA]=e,e.stateNode=n}return ui(e),null;case 13:if(yn(Tn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Sn&&ka!==null&&e.mode&1&&!(e.flags&128))G5(),Qh(),e.flags|=98560,i=!1;else if(i=jp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Et(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Et(317));i[hA]=e}else Qh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ui(e),i=!1}else Po!==null&&(Oy(Po),Po=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Tn.current&1?js===0&&(js=3):H1())),e.updateQueue!==null&&(e.flags|=4),ui(e),null);case 4:return Ph(),jy(t,e),t===null&&mf(e.stateNode.containerInfo),ui(e),null;case 10:return C1(e.type._context),ui(e),null;case 17:return aa(e.type)&&Mm(),ui(e),null;case 19:if(yn(Tn),i=e.memoizedState,i===null)return ui(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)fd(i,!1);else{if(js!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gm(t),o!==null){for(e.flags|=128,fd(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return dn(Tn,Tn.current&1|2),e.child}t=t.sibling}i.tail!==null&&is()>Oh&&(e.flags|=128,n=!0,fd(i,!1),e.lanes=4194304)}else{if(!n)if(t=Gm(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),fd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Sn)return ui(e),null}else 2*is()-i.renderingStartTime>Oh&&r!==1073741824&&(e.flags|=128,n=!0,fd(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=is(),e.sibling=null,r=Tn.current,dn(Tn,n?r&1|2:r&1),e):(ui(e),null);case 22:case 23:return M1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Na&1073741824&&(ui(e),e.subtreeFlags&6&&(e.flags|=8192)):ui(e),null;case 24:return null;case 25:return null}throw Error(Et(156,e.tag))}function a3(t,e){switch(x1(e),e.tag){case 1:return aa(e.type)&&Mm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ph(),yn(ia),yn(wi),j1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return F1(e),null;case 13:if(yn(Tn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Et(340));Qh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yn(Tn),null;case 4:return Ph(),null;case 10:return C1(e.type._context),null;case 22:case 23:return M1(),null;case 24:return null;default:return null}}var Lp=!1,vi=!1,o3=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function ih(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$n(t,e,n)}else r.current=null}function Uy(t,e,r){try{r()}catch(n){$n(t,e,n)}}var D2=!1;function A3(t,e){if(fy=Tm,t=I5(),y1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,h=0,p=0,g=t,w=null;t:for(;;){for(var y;g!==r||s!==0&&g.nodeType!==3||(l=o+s),g!==i||n!==0&&g.nodeType!==3||(c=o+n),g.nodeType===3&&(o+=g.nodeValue.length),(y=g.firstChild)!==null;)w=g,g=y;for(;;){if(g===t)break t;if(w===r&&++h===s&&(l=o),w===i&&++p===n&&(c=o),(y=g.nextSibling)!==null)break;g=w,w=g.parentNode}g=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(py={focusedElem:t,selectionRange:r},Tm=!1,Wt=e;Wt!==null;)if(e=Wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Wt=t;else for(;Wt!==null;){e=Wt;try{var F=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var S=F.memoizedProps,Q=F.memoizedState,_=e.stateNode,B=_.getSnapshotBeforeUpdate(e.elementType===e.type?S:Eo(e.type,S),Q);_.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Et(163))}}catch(T){$n(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Wt=t;break}Wt=e.return}return F=D2,D2=!1,F}function Kd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Uy(e,r,i)}s=s.next}while(s!==n)}}function Qg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ky(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function UC(t){var e=t.alternate;e!==null&&(t.alternate=null,UC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hA],delete e[vf],delete e[vy],delete e[qF],delete e[zF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kC(t){return t.tag===5||t.tag===3||t.tag===4}function M2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ly(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Dm));else if(n!==4&&(t=t.child,t!==null))for(Ly(t,e,r),t=t.sibling;t!==null;)Ly(t,e,r),t=t.sibling}function Qy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Qy(t,e,r),t=t.sibling;t!==null;)Qy(t,e,r),t=t.sibling}var Xs=null,Lo=!1;function dl(t,e,r){for(r=r.child;r!==null;)LC(t,e,r),r=r.sibling}function LC(t,e,r){if(mA&&typeof mA.onCommitFiberUnmount=="function")try{mA.onCommitFiberUnmount(Ng,r)}catch{}switch(r.tag){case 5:vi||ih(r,e);case 6:var n=Xs,s=Lo;Xs=null,dl(t,e,r),Xs=n,Lo=s,Xs!==null&&(Lo?(t=Xs,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xs.removeChild(r.stateNode));break;case 18:Xs!==null&&(Lo?(t=Xs,r=r.stateNode,t.nodeType===8?q0(t.parentNode,r):t.nodeType===1&&q0(t,r),df(t)):q0(Xs,r.stateNode));break;case 4:n=Xs,s=Lo,Xs=r.stateNode.containerInfo,Lo=!0,dl(t,e,r),Xs=n,Lo=s;break;case 0:case 11:case 14:case 15:if(!vi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Uy(r,e,o),s=s.next}while(s!==n)}dl(t,e,r);break;case 1:if(!vi&&(ih(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){$n(r,e,l)}dl(t,e,r);break;case 21:dl(t,e,r);break;case 22:r.mode&1?(vi=(n=vi)||r.memoizedState!==null,dl(t,e,r),vi=n):dl(t,e,r);break;default:dl(t,e,r)}}function H2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new o3),e.forEach(function(n){var s=g3.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _o(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xs=l.stateNode,Lo=!1;break e;case 3:Xs=l.stateNode.containerInfo,Lo=!0;break e;case 4:Xs=l.stateNode.containerInfo,Lo=!0;break e}l=l.return}if(Xs===null)throw Error(Et(160));LC(i,o,s),Xs=null,Lo=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){$n(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QC(e,t),e=e.sibling}function QC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_o(e,t),sA(t),n&4){try{Kd(3,t,t.return),Qg(3,t)}catch(S){$n(t,t.return,S)}try{Kd(5,t,t.return)}catch(S){$n(t,t.return,S)}}break;case 1:_o(e,t),sA(t),n&512&&r!==null&&ih(r,r.return);break;case 5:if(_o(e,t),sA(t),n&512&&r!==null&&ih(r,r.return),t.flags&32){var s=t.stateNode;try{lf(s,"")}catch(S){$n(t,t.return,S)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&r5(s,i),sy(l,o);var h=sy(l,i);for(o=0;o<c.length;o+=2){var p=c[o],g=c[o+1];p==="style"?o5(s,g):p==="dangerouslySetInnerHTML"?i5(s,g):p==="children"?lf(s,g):a1(s,p,g,h)}switch(l){case"input":Yv(s,i);break;case"textarea":n5(s,i);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?lh(s,!!i.multiple,y,!1):w!==!!i.multiple&&(i.defaultValue!=null?lh(s,!!i.multiple,i.defaultValue,!0):lh(s,!!i.multiple,i.multiple?[]:"",!1))}s[vf]=i}catch(S){$n(t,t.return,S)}}break;case 6:if(_o(e,t),sA(t),n&4){if(t.stateNode===null)throw Error(Et(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){$n(t,t.return,S)}}break;case 3:if(_o(e,t),sA(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{df(e.containerInfo)}catch(S){$n(t,t.return,S)}break;case 4:_o(e,t),sA(t);break;case 13:_o(e,t),sA(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(R1=is())),n&4&&H2(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(vi=(h=vi)||p,_o(e,t),vi=h):_o(e,t),sA(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(Wt=t,p=t.child;p!==null;){for(g=Wt=p;Wt!==null;){switch(w=Wt,y=w.child,w.tag){case 0:case 11:case 14:case 15:Kd(4,w,w.return);break;case 1:ih(w,w.return);var F=w.stateNode;if(typeof F.componentWillUnmount=="function"){n=w,r=w.return;try{e=n,F.props=e.memoizedProps,F.state=e.memoizedState,F.componentWillUnmount()}catch(S){$n(n,r,S)}}break;case 5:ih(w,w.return);break;case 22:if(w.memoizedState!==null){q2(g);continue}}y!==null?(y.return=w,Wt=y):q2(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=a5("display",o))}catch(S){$n(t,t.return,S)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(S){$n(t,t.return,S)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:_o(e,t),sA(t),n&4&&H2(t);break;case 21:break;default:_o(e,t),sA(t)}}function sA(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(kC(r)){var n=r;break e}r=r.return}throw Error(Et(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(lf(s,""),n.flags&=-33);var i=M2(t);Qy(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=M2(t);Ly(t,l,o);break;default:throw Error(Et(161))}}catch(c){$n(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function l3(t,e,r){Wt=t,IC(t)}function IC(t,e,r){for(var n=(t.mode&1)!==0;Wt!==null;){var s=Wt,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Lp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vi;l=Lp;var h=vi;if(Lp=o,(vi=c)&&!h)for(Wt=s;Wt!==null;)o=Wt,c=o.child,o.tag===22&&o.memoizedState!==null?z2(s):c!==null?(c.return=o,Wt=c):z2(s);for(;i!==null;)Wt=i,IC(i),i=i.sibling;Wt=s,Lp=l,vi=h}K2(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Wt=i):K2(t)}}function K2(t){for(;Wt!==null;){var e=Wt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vi||Qg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!vi)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Eo(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&S2(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}S2(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&df(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Et(163))}vi||e.flags&512&&ky(e)}catch(w){$n(e,e.return,w)}}if(e===t){Wt=null;break}if(r=e.sibling,r!==null){r.return=e.return,Wt=r;break}Wt=e.return}}function q2(t){for(;Wt!==null;){var e=Wt;if(e===t){Wt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Wt=r;break}Wt=e.return}}function z2(t){for(;Wt!==null;){var e=Wt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Qg(4,e)}catch(c){$n(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){$n(e,s,c)}}var i=e.return;try{ky(e)}catch(c){$n(e,i,c)}break;case 5:var o=e.return;try{ky(e)}catch(c){$n(e,o,c)}}}catch(c){$n(e,e.return,c)}if(e===t){Wt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Wt=l;break}Wt=e.return}}var c3=Math.ceil,Zm=tl.ReactCurrentDispatcher,T1=tl.ReactCurrentOwner,oo=tl.ReactCurrentBatchConfig,Tr=0,Ms=null,ys=null,ti=0,Na=0,ah=lc(0),js=0,Bf=null,su=0,Ig=0,O1=0,qd=null,na=null,R1=0,Oh=1/0,PA=null,Xm=!1,Iy=null,$l=null,Qp=!1,Ol=null,Ym=0,zd=0,Py=null,Bm=-1,Cm=0;function Ri(){return Tr&6?is():Bm!==-1?Bm:Bm=is()}function Jl(t){return t.mode&1?Tr&2&&ti!==0?ti&-ti:WF.transition!==null?(Cm===0&&(Cm=y5()),Cm):(t=en,t!==0||(t=window.event,t=t===void 0?16:N5(t.type)),t):1}function Ro(t,e,r,n){if(50<zd)throw zd=0,Py=null,Error(Et(185));Vf(t,r,n),(!(Tr&2)||t!==Ms)&&(t===Ms&&(!(Tr&2)&&(Ig|=r),js===4&&Cl(t,ti)),oa(t,n),r===1&&Tr===0&&!(e.mode&1)&&(Oh=is()+500,Ug&&cc()))}function oa(t,e){var r=t.callbackNode;WE(t,e);var n=Pm(t,t===Ms?ti:0);if(n===0)r!==null&&e2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&e2(r),e===1)t.tag===0?VF(V2.bind(null,t)):z5(V2.bind(null,t)),HF(function(){!(Tr&6)&&cc()}),r=null;else{switch(w5(n)){case 1:r=u1;break;case 4:r=g5;break;case 16:r=Im;break;case 536870912:r=v5;break;default:r=Im}r=KC(r,PC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function PC(t,e){if(Bm=-1,Cm=0,Tr&6)throw Error(Et(327));var r=t.callbackNode;if(fh()&&t.callbackNode!==r)return null;var n=Pm(t,t===Ms?ti:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=eg(t,n);else{e=n;var s=Tr;Tr|=2;var i=OC();(Ms!==t||ti!==e)&&(PA=null,Oh=is()+500,Vc(t,e));do try{d3();break}catch(l){TC(t,l)}while(!0);B1(),Zm.current=i,Tr=s,ys!==null?e=0:(Ms=null,ti=0,e=js)}if(e!==0){if(e===2&&(s=ly(t),s!==0&&(n=s,e=Ty(t,s))),e===1)throw r=Bf,Vc(t,0),Cl(t,n),oa(t,is()),r;if(e===6)Cl(t,n);else{if(s=t.current.alternate,!(n&30)&&!u3(s)&&(e=eg(t,n),e===2&&(i=ly(t),i!==0&&(n=i,e=Ty(t,i))),e===1))throw r=Bf,Vc(t,0),Cl(t,n),oa(t,is()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Et(345));case 2:bc(t,na,PA);break;case 3:if(Cl(t,n),(n&130023424)===n&&(e=R1+500-is(),10<e)){if(Pm(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ri(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gy(bc.bind(null,t,na,PA),e);break}bc(t,na,PA);break;case 4:if(Cl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Oo(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=is()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*c3(n/1960))-n,10<n){t.timeoutHandle=gy(bc.bind(null,t,na,PA),n);break}bc(t,na,PA);break;case 5:bc(t,na,PA);break;default:throw Error(Et(329))}}}return oa(t,is()),t.callbackNode===r?PC.bind(null,t):null}function Ty(t,e){var r=qd;return t.current.memoizedState.isDehydrated&&(Vc(t,e).flags|=256),t=eg(t,e),t!==2&&(e=na,na=r,e!==null&&Oy(e)),t}function Oy(t){na===null?na=t:na.push.apply(na,t)}function u3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Do(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cl(t,e){for(e&=~O1,e&=~Ig,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Oo(e),n=1<<r;t[r]=-1,e&=~n}}function V2(t){if(Tr&6)throw Error(Et(327));fh();var e=Pm(t,0);if(!(e&1))return oa(t,is()),null;var r=eg(t,e);if(t.tag!==0&&r===2){var n=ly(t);n!==0&&(e=n,r=Ty(t,n))}if(r===1)throw r=Bf,Vc(t,0),Cl(t,e),oa(t,is()),r;if(r===6)throw Error(Et(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bc(t,na,PA),oa(t,is()),null}function D1(t,e){var r=Tr;Tr|=1;try{return t(e)}finally{Tr=r,Tr===0&&(Oh=is()+500,Ug&&cc())}}function iu(t){Ol!==null&&Ol.tag===0&&!(Tr&6)&&fh();var e=Tr;Tr|=1;var r=oo.transition,n=en;try{if(oo.transition=null,en=1,t)return t()}finally{en=n,oo.transition=r,Tr=e,!(Tr&6)&&cc()}}function M1(){Na=ah.current,yn(ah)}function Vc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,MF(r)),ys!==null)for(r=ys.return;r!==null;){var n=r;switch(x1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mm();break;case 3:Ph(),yn(ia),yn(wi),j1();break;case 5:F1(n);break;case 4:Ph();break;case 13:yn(Tn);break;case 19:yn(Tn);break;case 10:C1(n.type._context);break;case 22:case 23:M1()}r=r.return}if(Ms=t,ys=t=Zl(t.current,null),ti=Na=e,js=0,Bf=null,O1=Ig=su=0,na=qd=null,jc!==null){for(e=0;e<jc.length;e++)if(r=jc[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}jc=null}return t}function TC(t,e){do{var r=ys;try{if(B1(),xm.current=Jm,$m){for(var n=On.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}$m=!1}if(nu=0,Ds=Ns=On=null,Hd=!1,xf=0,T1.current=null,r===null||r.return===null){js=1,Bf=e,ys=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=ti,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var w=p.alternate;w?(p.updateQueue=w.updateQueue,p.memoizedState=w.memoizedState,p.lanes=w.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=L2(o);if(y!==null){y.flags&=-257,Q2(y,o,l,i,e),y.mode&1&&k2(i,h,e),e=y,c=h;var F=e.updateQueue;if(F===null){var S=new Set;S.add(c),e.updateQueue=S}else F.add(c);break e}else{if(!(e&1)){k2(i,h,e),H1();break e}c=Error(Et(426))}}else if(Sn&&l.mode&1){var Q=L2(o);if(Q!==null){!(Q.flags&65536)&&(Q.flags|=256),Q2(Q,o,l,i,e),b1(Th(c,l));break e}}i=c=Th(c,l),js!==4&&(js=2),qd===null?qd=[i]:qd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=wC(i,c,e);N2(i,_);break e;case 1:l=c;var B=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof B.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&($l===null||!$l.has(j)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=xC(i,l,e);N2(i,T);break e}}i=i.return}while(i!==null)}DC(r)}catch(V){e=V,ys===r&&r!==null&&(ys=r=r.return);continue}break}while(!0)}function OC(){var t=Zm.current;return Zm.current=Jm,t===null?Jm:t}function H1(){(js===0||js===3||js===2)&&(js=4),Ms===null||!(su&268435455)&&!(Ig&268435455)||Cl(Ms,ti)}function eg(t,e){var r=Tr;Tr|=2;var n=OC();(Ms!==t||ti!==e)&&(PA=null,Vc(t,e));do try{h3();break}catch(s){TC(t,s)}while(!0);if(B1(),Tr=r,Zm.current=n,ys!==null)throw Error(Et(261));return Ms=null,ti=0,js}function h3(){for(;ys!==null;)RC(ys)}function d3(){for(;ys!==null&&!OE();)RC(ys)}function RC(t){var e=HC(t.alternate,t,Na);t.memoizedProps=t.pendingProps,e===null?DC(t):ys=e,T1.current=null}function DC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=a3(r,e),r!==null){r.flags&=32767,ys=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{js=6,ys=null;return}}else if(r=i3(r,e,Na),r!==null){ys=r;return}if(e=e.sibling,e!==null){ys=e;return}ys=e=t}while(e!==null);js===0&&(js=5)}function bc(t,e,r){var n=en,s=oo.transition;try{oo.transition=null,en=1,f3(t,e,r,n)}finally{oo.transition=s,en=n}return null}function f3(t,e,r,n){do fh();while(Ol!==null);if(Tr&6)throw Error(Et(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Et(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(GE(t,i),t===Ms&&(ys=Ms=null,ti=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qp||(Qp=!0,KC(Im,function(){return fh(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=oo.transition,oo.transition=null;var o=en;en=1;var l=Tr;Tr|=4,T1.current=null,A3(t,r),QC(r,t),QF(py),Tm=!!fy,py=fy=null,t.current=r,l3(r),RE(),Tr=l,en=o,oo.transition=i}else t.current=r;if(Qp&&(Qp=!1,Ol=t,Ym=s),i=t.pendingLanes,i===0&&($l=null),HE(r.stateNode),oa(t,is()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Xm)throw Xm=!1,t=Iy,Iy=null,t;return Ym&1&&t.tag!==0&&fh(),i=t.pendingLanes,i&1?t===Py?zd++:(zd=0,Py=t):zd=0,cc(),null}function fh(){if(Ol!==null){var t=w5(Ym),e=oo.transition,r=en;try{if(oo.transition=null,en=16>t?16:t,Ol===null)var n=!1;else{if(t=Ol,Ol=null,Ym=0,Tr&6)throw Error(Et(331));var s=Tr;for(Tr|=4,Wt=t.current;Wt!==null;){var i=Wt,o=i.child;if(Wt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Wt=h;Wt!==null;){var p=Wt;switch(p.tag){case 0:case 11:case 15:Kd(8,p,i)}var g=p.child;if(g!==null)g.return=p,Wt=g;else for(;Wt!==null;){p=Wt;var w=p.sibling,y=p.return;if(UC(p),p===h){Wt=null;break}if(w!==null){w.return=y,Wt=w;break}Wt=y}}}var F=i.alternate;if(F!==null){var S=F.child;if(S!==null){F.child=null;do{var Q=S.sibling;S.sibling=null,S=Q}while(S!==null)}}Wt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Wt=o;else e:for(;Wt!==null;){if(i=Wt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kd(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Wt=_;break e}Wt=i.return}}var B=t.current;for(Wt=B;Wt!==null;){o=Wt;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Wt=j;else e:for(o=B;Wt!==null;){if(l=Wt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qg(9,l)}}catch(V){$n(l,l.return,V)}if(l===o){Wt=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,Wt=T;break e}Wt=l.return}}if(Tr=s,cc(),mA&&typeof mA.onPostCommitFiberRoot=="function")try{mA.onPostCommitFiberRoot(Ng,t)}catch{}n=!0}return n}finally{en=r,oo.transition=e}}return!1}function W2(t,e,r){e=Th(r,e),e=wC(t,e,1),t=Gl(t,e,1),e=Ri(),t!==null&&(Vf(t,1,e),oa(t,e))}function $n(t,e,r){if(t.tag===3)W2(t,t,r);else for(;e!==null;){if(e.tag===3){W2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($l===null||!$l.has(n))){t=Th(r,t),t=xC(e,t,1),e=Gl(e,t,1),t=Ri(),e!==null&&(Vf(e,1,t),oa(e,t));break}}e=e.return}}function p3(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ri(),t.pingedLanes|=t.suspendedLanes&r,Ms===t&&(ti&r)===r&&(js===4||js===3&&(ti&130023424)===ti&&500>is()-R1?Vc(t,0):O1|=r),oa(t,e)}function MC(t,e){e===0&&(t.mode&1?(e=Bp,Bp<<=1,!(Bp&130023424)&&(Bp=4194304)):e=1);var r=Ri();t=XA(t,e),t!==null&&(Vf(t,e,r),oa(t,r))}function m3(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),MC(t,r)}function g3(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Et(314))}n!==null&&n.delete(e),MC(t,r)}var HC;HC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ia.current)sa=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return sa=!1,s3(t,e,r);sa=!!(t.flags&131072)}else sa=!1,Sn&&e.flags&1048576&&V5(e,qm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;_m(t,e),t=e.pendingProps;var s=Lh(e,wi.current);dh(e,r),s=k1(null,e,n,t,s,r);var i=L1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,aa(n)?(i=!0,Hm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,S1(e),s.updater=Lg,e.stateNode=s,s._reactInternals=e,By(e,n,t,r),e=Sy(null,e,n,!0,i,r)):(e.tag=0,Sn&&i&&w1(e),Ti(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(_m(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=y3(n),t=Eo(n,t),s){case 0:e=Ny(null,e,n,t,r);break e;case 1:e=T2(null,e,n,t,r);break e;case 11:e=I2(null,e,n,t,r);break e;case 14:e=P2(null,e,n,Eo(n.type,t),r);break e}throw Error(Et(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Eo(n,s),Ny(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Eo(n,s),T2(t,e,n,s,r);case 3:e:{if(CC(e),t===null)throw Error(Et(387));n=e.pendingProps,i=e.memoizedState,s=i.element,X5(t,e),Wm(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Th(Error(Et(423)),e),e=O2(t,e,n,r,s);break e}else if(n!==s){s=Th(Error(Et(424)),e),e=O2(t,e,n,r,s);break e}else for(ka=Wl(e.stateNode.containerInfo.firstChild),Qa=e,Sn=!0,Po=null,r=J5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qh(),n===s){e=YA(t,e,r);break e}Ti(t,e,n,r)}e=e.child}return e;case 5:return Y5(e),t===null&&xy(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,my(n,s)?o=null:i!==null&&my(n,i)&&(e.flags|=32),BC(t,e),Ti(t,e,o,r),e.child;case 6:return t===null&&xy(e),null;case 13:return NC(t,e,r);case 4:return E1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ih(e,null,n,r):Ti(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Eo(n,s),I2(t,e,n,s,r);case 7:return Ti(t,e,e.pendingProps,r),e.child;case 8:return Ti(t,e,e.pendingProps.children,r),e.child;case 12:return Ti(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,dn(zm,n._currentValue),n._currentValue=o,i!==null)if(Do(i.value,o)){if(i.children===s.children&&!ia.current){e=YA(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=zA(-1,r&-r),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),by(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Et(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),by(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ti(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,dh(e,r),s=lo(s),n=n(s),e.flags|=1,Ti(t,e,n,r),e.child;case 14:return n=e.type,s=Eo(n,e.pendingProps),s=Eo(n.type,s),P2(t,e,n,s,r);case 15:return bC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Eo(n,s),_m(t,e),e.tag=1,aa(n)?(t=!0,Hm(e)):t=!1,dh(e,r),yC(e,n,s),By(e,n,s,r),Sy(null,e,n,!0,t,r);case 19:return SC(t,e,r);case 22:return _C(t,e,r)}throw Error(Et(156,e.tag))};function KC(t,e){return m5(t,e)}function v3(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function no(t,e,r,n){return new v3(t,e,r,n)}function K1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y3(t){if(typeof t=="function")return K1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===A1)return 11;if(t===l1)return 14}return 2}function Zl(t,e){var r=t.alternate;return r===null?(r=no(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Nm(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")K1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ju:return Wc(r.children,s,i,e);case o1:o=8,s|=8;break;case Gv:return t=no(12,r,e,s|2),t.elementType=Gv,t.lanes=i,t;case $v:return t=no(13,r,e,s),t.elementType=$v,t.lanes=i,t;case Jv:return t=no(19,r,e,s),t.elementType=Jv,t.lanes=i,t;case YB:return Pg(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZB:o=10;break e;case XB:o=9;break e;case A1:o=11;break e;case l1:o=14;break e;case wl:o=16,n=null;break e}throw Error(Et(130,t==null?t:typeof t,""))}return e=no(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Wc(t,e,r,n){return t=no(7,t,n,e),t.lanes=r,t}function Pg(t,e,r,n){return t=no(22,t,n,e),t.elementType=YB,t.lanes=r,t.stateNode={isHidden:!1},t}function X0(t,e,r){return t=no(6,t,null,e),t.lanes=r,t}function Y0(t,e,r){return e=no(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function w3(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=L0(0),this.expirationTimes=L0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function q1(t,e,r,n,s,i,o,l,c){return t=new w3(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=no(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},S1(i),t}function x3(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$u,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function qC(t){if(!t)return sc;t=t._reactInternals;e:{if(hu(t)!==t||t.tag!==1)throw Error(Et(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(aa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Et(171))}if(t.tag===1){var r=t.type;if(aa(r))return q5(t,r,e)}return e}function zC(t,e,r,n,s,i,o,l,c){return t=q1(r,n,!0,t,s,i,o,l,c),t.context=qC(null),r=t.current,n=Ri(),s=Jl(r),i=zA(n,s),i.callback=e??null,Gl(r,i,s),t.current.lanes=s,Vf(t,s,n),oa(t,n),t}function Tg(t,e,r,n){var s=e.current,i=Ri(),o=Jl(s);return r=qC(r),e.context===null?e.context=r:e.pendingContext=r,e=zA(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gl(s,e,o),t!==null&&(Ro(t,s,o,i),wm(t,s,o)),o}function tg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function G2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function z1(t,e){G2(t,e),(t=t.alternate)&&G2(t,e)}function b3(){return null}var VC=typeof reportError=="function"?reportError:function(t){console.error(t)};function V1(t){this._internalRoot=t}Og.prototype.render=V1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Et(409));Tg(t,e,null,null)};Og.prototype.unmount=V1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;iu(function(){Tg(null,t,null,null)}),e[ZA]=null}};function Og(t){this._internalRoot=t}Og.prototype.unstable_scheduleHydration=function(t){if(t){var e=_5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Bl.length&&e!==0&&e<Bl[r].priority;r++);Bl.splice(r,0,t),r===0&&C5(t)}};function W1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $2(){}function _3(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var h=tg(o);i.call(h)}}var o=zC(e,n,t,0,null,!1,!1,"",$2);return t._reactRootContainer=o,t[ZA]=o.current,mf(t.nodeType===8?t.parentNode:t),iu(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var h=tg(c);l.call(h)}}var c=q1(t,0,!1,null,null,!1,!1,"",$2);return t._reactRootContainer=c,t[ZA]=c.current,mf(t.nodeType===8?t.parentNode:t),iu(function(){Tg(e,c,r,n)}),c}function Dg(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=tg(o);l.call(c)}}Tg(e,o,t,s)}else o=_3(r,e,t,s,n);return tg(o)}x5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Cd(e.pendingLanes);r!==0&&(h1(e,r|1),oa(e,is()),!(Tr&6)&&(Oh=is()+500,cc()))}break;case 13:iu(function(){var n=XA(t,1);if(n!==null){var s=Ri();Ro(n,t,1,s)}}),z1(t,1)}};d1=function(t){if(t.tag===13){var e=XA(t,134217728);if(e!==null){var r=Ri();Ro(e,t,134217728,r)}z1(t,134217728)}};b5=function(t){if(t.tag===13){var e=Jl(t),r=XA(t,e);if(r!==null){var n=Ri();Ro(r,t,e,n)}z1(t,e)}};_5=function(){return en};B5=function(t,e){var r=en;try{return en=t,e()}finally{en=r}};ay=function(t,e,r){switch(e){case"input":if(Yv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=jg(n);if(!s)throw Error(Et(90));t5(n),Yv(n,s)}}}break;case"textarea":n5(t,r);break;case"select":e=r.value,e!=null&&lh(t,!!r.multiple,e,!1)}};c5=D1;u5=iu;var B3={usingClientEntryPoint:!1,Events:[Gf,eh,jg,A5,l5,D1]},pd={findFiberByHostInstance:Fc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C3={bundleType:pd.bundleType,version:pd.version,rendererPackageName:pd.rendererPackageName,rendererConfig:pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=f5(t),t===null?null:t.stateNode},findFiberByHostInstance:pd.findFiberByHostInstance||b3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{Ng=Ip.inject(C3),mA=Ip}catch{}}Pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B3;Pa.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W1(e))throw Error(Et(200));return x3(t,e,null,r)};Pa.createRoot=function(t,e){if(!W1(t))throw Error(Et(299));var r=!1,n="",s=VC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=q1(t,1,!1,null,null,r,!1,n,s),t[ZA]=e.current,mf(t.nodeType===8?t.parentNode:t),new V1(e)};Pa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Et(188)):(t=Object.keys(t).join(","),Error(Et(268,t)));return t=f5(e),t=t===null?null:t.stateNode,t};Pa.flushSync=function(t){return iu(t)};Pa.hydrate=function(t,e,r){if(!Rg(e))throw Error(Et(200));return Dg(null,t,e,!0,r)};Pa.hydrateRoot=function(t,e,r){if(!W1(t))throw Error(Et(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=VC;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=zC(e,null,t,1,r??null,s,!1,i,o),t[ZA]=e.current,mf(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Og(e)};Pa.render=function(t,e,r){if(!Rg(e))throw Error(Et(200));return Dg(null,t,e,!1,r)};Pa.unmountComponentAtNode=function(t){if(!Rg(t))throw Error(Et(40));return t._reactRootContainer?(iu(function(){Dg(null,null,t,!1,function(){t._reactRootContainer=null,t[ZA]=null})}),!0):!1};Pa.unstable_batchedUpdates=D1;Pa.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Rg(r))throw Error(Et(200));if(t==null||t._reactInternals===void 0)throw Error(Et(38));return Dg(t,e,r,!1,n)};Pa.version="18.3.1-next-f1338f8080-20240426";function WC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WC)}catch(t){console.error(t)}}WC(),WB.exports=Pa;var N3=WB.exports,J2=N3;Vv.createRoot=J2.createRoot,Vv.hydrateRoot=J2.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cf.apply(this,arguments)}var Rl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rl||(Rl={}));const Z2="popstate";function S3(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:c=""}=du(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ry("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,h=c.indexOf("#");l=h===-1?c:c.slice(0,h)}return l+"#"+(typeof i=="string"?i:rg(i))}function n(s,i){Mg(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return F3(e,r,n,t)}function Rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E3(){return Math.random().toString(36).substr(2,8)}function X2(t,e){return{usr:t.state,key:t.key,idx:e}}function Ry(t,e,r,n){return r===void 0&&(r=null),Cf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?du(e):e,{state:r,key:e&&e.key||n||E3()})}function rg(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function du(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function F3(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Rl.Pop,c=null,h=p();h==null&&(h=0,o.replaceState(Cf({},o.state,{idx:h}),""));function p(){return(o.state||{idx:null}).idx}function g(){l=Rl.Pop;let Q=p(),_=Q==null?null:Q-h;h=Q,c&&c({action:l,location:S.location,delta:_})}function w(Q,_){l=Rl.Push;let B=Ry(S.location,Q,_);r&&r(B,Q),h=p()+1;let j=X2(B,h),T=S.createHref(B);try{o.pushState(j,"",T)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(T)}i&&c&&c({action:l,location:S.location,delta:1})}function y(Q,_){l=Rl.Replace;let B=Ry(S.location,Q,_);r&&r(B,Q),h=p();let j=X2(B,h),T=S.createHref(B);o.replaceState(j,"",T),i&&c&&c({action:l,location:S.location,delta:0})}function F(Q){let _=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof Q=="string"?Q:rg(Q);return B=B.replace(/ $/,"%20"),Rn(_,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,_)}let S={get action(){return l},get location(){return t(s,o)},listen(Q){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Z2,g),c=Q,()=>{s.removeEventListener(Z2,g),c=null}},createHref(Q){return e(s,Q)},createURL:F,encodeLocation(Q){let _=F(Q);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:y,go(Q){return o.go(Q)}};return S}var Y2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Y2||(Y2={}));function j3(t,e,r){return r===void 0&&(r="/"),U3(t,e,r)}function U3(t,e,r,n){let s=typeof e=="string"?du(e):e,i=Rh(s.pathname||"/",r);if(i==null)return null;let o=GC(t);k3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=K3(i);l=M3(o[c],h)}return l}function GC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Rn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let h=Xl([n,c.relativePath]),p=r.concat(c);i.children&&i.children.length>0&&(Rn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),GC(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:R3(h,i.index),routesMeta:p})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of $C(i.path))s(i,o,c)}),e}function $C(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=$C(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function k3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:D3(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const L3=/^:[\w-]+$/,Q3=3,I3=2,P3=1,T3=10,O3=-2,eb=t=>t==="*";function R3(t,e){let r=t.split("/"),n=r.length;return r.some(eb)&&(n+=O3),e&&(n+=I3),r.filter(s=>!eb(s)).reduce((s,i)=>s+(L3.test(i)?Q3:i===""?P3:T3),n)}function D3(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function M3(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],h=l===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=Dy({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),w=c.route;if(!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Xl([i,g.pathname]),pathnameBase:G3(Xl([i,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(i=Xl([i,g.pathnameBase]))}return o}function Dy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=H3(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((h,p,g)=>{let{paramName:w,isOptional:y}=p;if(w==="*"){let S=l[g]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const F=l[g];return y&&!F?h[w]=void 0:h[w]=(F||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function H3(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Mg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function K3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const q3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z3=t=>q3.test(t);function V3(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?du(t):t,i;if(r)if(z3(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Mg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=tb(r.substring(1),"/"):i=tb(r,e)}else i=e;return{pathname:i,search:$3(n),hash:J3(s)}}function tb(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ev(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function G1(t,e){let r=W3(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $1(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=du(t):(s=Cf({},t),Rn(!s.pathname||!s.pathname.includes("?"),ev("?","pathname","search",s)),Rn(!s.pathname||!s.pathname.includes("#"),ev("#","pathname","hash",s)),Rn(!s.search||!s.search.includes("#"),ev("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let g=e.length-1;if(!n&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),g-=1;s.pathname=w.join("/")}l=g>=0?e[g]:"/"}let c=V3(s,l),h=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const Xl=t=>t.join("/").replace(/\/\/+/g,"/"),G3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,J3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Z3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JC=["post","put","patch","delete"];new Set(JC);const X3=["get",...JC];new Set(X3);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nf.apply(this,arguments)}const Hg=le.createContext(null),ZC=le.createContext(null),rl=le.createContext(null),Kg=le.createContext(null),yA=le.createContext({outlet:null,matches:[],isDataRoute:!1}),XC=le.createContext(null);function Y3(t,e){let{relative:r}=e===void 0?{}:e;Wh()||Rn(!1);let{basename:n,navigator:s}=le.useContext(rl),{hash:i,pathname:o,search:l}=qg(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Xl([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Wh(){return le.useContext(Kg)!=null}function Gh(){return Wh()||Rn(!1),le.useContext(Kg).location}function YC(t){le.useContext(rl).static||le.useLayoutEffect(t)}function Us(){let{isDataRoute:t}=le.useContext(yA);return t?fj():ej()}function ej(){Wh()||Rn(!1);let t=le.useContext(Hg),{basename:e,future:r,navigator:n}=le.useContext(rl),{matches:s}=le.useContext(yA),{pathname:i}=Gh(),o=JSON.stringify(G1(s,r.v7_relativeSplatPath)),l=le.useRef(!1);return YC(()=>{l.current=!0}),le.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=$1(h,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Xl([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,o,i,t])}const tj=le.createContext(null);function rj(t){let e=le.useContext(yA).outlet;return e&&le.createElement(tj.Provider,{value:t},e)}function fu(){let{matches:t}=le.useContext(yA),e=t[t.length-1];return e?e.params:{}}function qg(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=le.useContext(rl),{matches:s}=le.useContext(yA),{pathname:i}=Gh(),o=JSON.stringify(G1(s,n.v7_relativeSplatPath));return le.useMemo(()=>$1(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function nj(t,e){return sj(t,e)}function sj(t,e,r,n){Wh()||Rn(!1);let{navigator:s}=le.useContext(rl),{matches:i}=le.useContext(yA),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=Gh(),p;if(e){var g;let Q=typeof e=="string"?du(e):e;c==="/"||(g=Q.pathname)!=null&&g.startsWith(c)||Rn(!1),p=Q}else p=h;let w=p.pathname||"/",y=w;if(c!=="/"){let Q=c.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(Q.length).join("/")}let F=j3(t,{pathname:y}),S=lj(F&&F.map(Q=>Object.assign({},Q,{params:Object.assign({},l,Q.params),pathname:Xl([c,s.encodeLocation?s.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?c:Xl([c,s.encodeLocation?s.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),i,r,n);return e&&S?le.createElement(Kg.Provider,{value:{location:Nf({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Rl.Pop}},S):S}function ij(){let t=dj(),e=Z3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),r?le.createElement("pre",{style:s},r):null,null)}const aj=le.createElement(ij,null);class oj extends le.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?le.createElement(yA.Provider,{value:this.props.routeContext},le.createElement(XC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Aj(t){let{routeContext:e,match:r,children:n}=t,s=le.useContext(Hg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),le.createElement(yA.Provider,{value:e},n)}function lj(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);p>=0||Rn(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:w,errors:y}=r,F=g.route.loader&&w[g.route.id]===void 0&&(!y||y[g.route.id]===void 0);if(g.route.lazy||F){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,g,w)=>{let y,F=!1,S=null,Q=null;r&&(y=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||aj,c&&(h<0&&w===0?(pj("route-fallback"),F=!0,Q=null):h===w&&(F=!0,Q=g.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,w+1)),B=()=>{let j;return y?j=S:F?j=Q:g.route.Component?j=le.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=p,le.createElement(Aj,{match:g,routeContext:{outlet:p,matches:_,isDataRoute:r!=null},children:j})};return r&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?le.createElement(oj,{location:r.location,revalidation:r.revalidation,component:S,error:y,children:B(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):B()},null)}var e4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(e4||{}),t4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(t4||{});function cj(t){let e=le.useContext(Hg);return e||Rn(!1),e}function uj(t){let e=le.useContext(ZC);return e||Rn(!1),e}function hj(t){let e=le.useContext(yA);return e||Rn(!1),e}function r4(t){let e=hj(),r=e.matches[e.matches.length-1];return r.route.id||Rn(!1),r.route.id}function dj(){var t;let e=le.useContext(XC),r=uj(),n=r4();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function fj(){let{router:t}=cj(e4.UseNavigateStable),e=r4(t4.UseNavigateStable),r=le.useRef(!1);return YC(()=>{r.current=!0}),le.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Nf({fromRouteId:e},i)))},[t,e])}const rb={};function pj(t,e,r){rb[t]||(rb[t]=!0)}function mj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function n4(t){let{to:e,replace:r,state:n,relative:s}=t;Wh()||Rn(!1);let{future:i,static:o}=le.useContext(rl),{matches:l}=le.useContext(yA),{pathname:c}=Gh(),h=Us(),p=$1(e,G1(l,i.v7_relativeSplatPath),c,s==="path"),g=JSON.stringify(p);return le.useEffect(()=>h(JSON.parse(g),{replace:r,state:n,relative:s}),[h,g,s,r,n]),null}function gj(t){return rj(t.context)}function Nn(t){Rn(!1)}function vj(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Rl.Pop,navigator:i,static:o=!1,future:l}=t;Wh()&&Rn(!1);let c=e.replace(/^\/*/,"/"),h=le.useMemo(()=>({basename:c,navigator:i,static:o,future:Nf({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=du(n));let{pathname:p="/",search:g="",hash:w="",state:y=null,key:F="default"}=n,S=le.useMemo(()=>{let Q=Rh(p,c);return Q==null?null:{location:{pathname:Q,search:g,hash:w,state:y,key:F},navigationType:s}},[c,p,g,w,y,F,s]);return S==null?null:le.createElement(rl.Provider,{value:h},le.createElement(Kg.Provider,{children:r,value:S}))}function yj(t){let{children:e,location:r}=t;return nj(My(e),r)}new Promise(()=>{});function My(t,e){e===void 0&&(e=[]);let r=[];return le.Children.forEach(t,(n,s)=>{if(!le.isValidElement(n))return;let i=[...e,s];if(n.type===le.Fragment){r.push.apply(r,My(n.props.children,i));return}n.type!==Nn&&Rn(!1),!n.props.index||!n.props.children||Rn(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=My(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ng.apply(this,arguments)}function s4(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function wj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xj(t,e){return t.button===0&&(!e||e==="_self")&&!wj(t)}const bj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_j=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Bj="6";try{window.__reactRouterVersion=Bj}catch{}const Cj=le.createContext({isTransitioning:!1}),Nj="startTransition",nb=pE[Nj];function Sj(t){let{basename:e,children:r,future:n,window:s}=t,i=le.useRef();i.current==null&&(i.current=S3({window:s,v5Compat:!0}));let o=i.current,[l,c]=le.useState({action:o.action,location:o.location}),{v7_startTransition:h}=n||{},p=le.useCallback(g=>{h&&nb?nb(()=>c(g)):c(g)},[c,h]);return le.useLayoutEffect(()=>o.listen(p),[o,p]),le.useEffect(()=>mj(n),[n]),le.createElement(vj,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Ej=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sd=le.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:h,preventScrollReset:p,viewTransition:g}=e,w=s4(e,bj),{basename:y}=le.useContext(rl),F,S=!1;if(typeof h=="string"&&Fj.test(h)&&(F=h,Ej))try{let j=new URL(window.location.href),T=h.startsWith("//")?new URL(j.protocol+h):new URL(h),V=Rh(T.pathname,y);T.origin===j.origin&&V!=null?h=V+T.search+T.hash:S=!0}catch{}let Q=Y3(h,{relative:s}),_=kj(h,{replace:o,state:l,target:c,preventScrollReset:p,relative:s,viewTransition:g});function B(j){n&&n(j),j.defaultPrevented||_(j)}return le.createElement("a",ng({},w,{href:F||Q,onClick:S||i?n:B,ref:r,target:c}))}),jj=le.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:h,children:p}=e,g=s4(e,_j),w=qg(c,{relative:g.relative}),y=Gh(),F=le.useContext(ZC),{navigator:S,basename:Q}=le.useContext(rl),_=F!=null&&Lj(w)&&h===!0,B=S.encodeLocation?S.encodeLocation(w).pathname:w.pathname,j=y.pathname,T=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;s||(j=j.toLowerCase(),T=T?T.toLowerCase():null,B=B.toLowerCase()),T&&Q&&(T=Rh(T,Q)||T);const V=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let K=j===B||!o&&j.startsWith(B)&&j.charAt(V)==="/",G=T!=null&&(T===B||!o&&T.startsWith(B)&&T.charAt(B.length)==="/"),M={isActive:K,isPending:G,isTransitioning:_},Z=K?n:void 0,oe;typeof i=="function"?oe=i(M):oe=[i,K?"active":null,G?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(M):l;return le.createElement(Sd,ng({},g,{"aria-current":Z,className:oe,ref:r,style:D,to:c,viewTransition:h}),typeof p=="function"?p(M):p)});var Hy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hy||(Hy={}));var sb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sb||(sb={}));function Uj(t){let e=le.useContext(Hg);return e||Rn(!1),e}function kj(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Us(),h=Gh(),p=qg(t,{relative:o});return le.useCallback(g=>{if(xj(g,r)){g.preventDefault();let w=n!==void 0?n:rg(h)===rg(p);c(t,{replace:w,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[h,c,p,n,s,r,t,i,o,l])}function Lj(t,e){e===void 0&&(e={});let r=le.useContext(Cj);r==null&&Rn(!1);let{basename:n}=Uj(Hy.useViewTransitionState),s=qg(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=Rh(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Rh(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Dy(s.pathname,o)!=null||Dy(s.pathname,i)!=null}var $h=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qj={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},El,Xw,BB,Ij=(BB=class{constructor(){tr(this,El,Qj);tr(this,Xw,!1)}setTimeoutProvider(t){Rt(this,El,t)}setTimeout(t,e){return Be(this,El).setTimeout(t,e)}clearTimeout(t){Be(this,El).clearTimeout(t)}setInterval(t,e){return Be(this,El).setInterval(t,e)}clearInterval(t){Be(this,El).clearInterval(t)}},El=new WeakMap,Xw=new WeakMap,BB),kc=new Ij;function Pj(t){setTimeout(t,0)}var au=typeof window>"u"||"Deno"in globalThis;function Oi(){}function Tj(t,e){return typeof t=="function"?t(e):t}function Ky(t){return typeof t=="number"&&t>=0&&t!==1/0}function i4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yl(t,e){return typeof t=="function"?t(e):t}function Ya(t,e){return typeof t=="function"?t(e):t}function ib(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==J1(o,e.options))return!1}else if(!Sf(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function ab(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(ou(e.options.mutationKey)!==ou(i))return!1}else if(!Sf(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function J1(t,e){return((e==null?void 0:e.queryKeyHashFn)||ou)(t)}function ou(t){return JSON.stringify(t,(e,r)=>qy(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Sf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Sf(t[r],e[r])):!1}var Oj=Object.prototype.hasOwnProperty;function a4(t,e){if(t===e)return t;const r=ob(t)&&ob(e);if(!r&&!(qy(t)&&qy(e)))return e;const s=(r?t:Object.keys(t)).length,i=r?e:Object.keys(e),o=i.length,l=r?new Array(o):{};let c=0;for(let h=0;h<o;h++){const p=r?h:i[h],g=t[p],w=e[p];if(g===w){l[p]=g,(r?h<s:Oj.call(t,p))&&c++;continue}if(g===null||w===null||typeof g!="object"||typeof w!="object"){l[p]=w;continue}const y=a4(g,w);l[p]=y,y===g&&c++}return s===o&&c===s?t:l}function sg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function ob(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function qy(t){if(!Ab(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Ab(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ab(t){return Object.prototype.toString.call(t)==="[object Object]"}function Rj(t){return new Promise(e=>{kc.setTimeout(e,t)})}function zy(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?a4(t,e):e}function Dj(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Mj(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Z1=Symbol();function o4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Z1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function A4(t,e){return typeof t=="function"?t(...e):!!t}var Tc,Fl,wh,CB,Hj=(CB=class extends $h{constructor(){super();tr(this,Tc);tr(this,Fl);tr(this,wh);Rt(this,wh,e=>{if(!au&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Be(this,Fl)||this.setEventListener(Be(this,wh))}onUnsubscribe(){var e;this.hasListeners()||((e=Be(this,Fl))==null||e.call(this),Rt(this,Fl,void 0))}setEventListener(e){var r;Rt(this,wh,e),(r=Be(this,Fl))==null||r.call(this),Rt(this,Fl,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Be(this,Tc)!==e&&(Rt(this,Tc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Be(this,Tc)=="boolean"?Be(this,Tc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Tc=new WeakMap,Fl=new WeakMap,wh=new WeakMap,CB),X1=new Hj;function Vy(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var Kj=Pj;function qj(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=Kj;const i=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Es=qj(),xh,jl,bh,NB,zj=(NB=class extends $h{constructor(){super();tr(this,xh,!0);tr(this,jl);tr(this,bh);Rt(this,bh,e=>{if(!au&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Be(this,jl)||this.setEventListener(Be(this,bh))}onUnsubscribe(){var e;this.hasListeners()||((e=Be(this,jl))==null||e.call(this),Rt(this,jl,void 0))}setEventListener(e){var r;Rt(this,bh,e),(r=Be(this,jl))==null||r.call(this),Rt(this,jl,e(this.setOnline.bind(this)))}setOnline(e){Be(this,xh)!==e&&(Rt(this,xh,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Be(this,xh)}},xh=new WeakMap,jl=new WeakMap,bh=new WeakMap,NB),ig=new zj;function Vj(t){return Math.min(1e3*2**t,3e4)}function l4(t){return(t??"online")==="online"?ig.isOnline():!0}var Wy=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function c4(t){let e=!1,r=0,n;const s=Vy(),i=()=>s.status!=="pending",o=S=>{var Q;if(!i()){const _=new Wy(S);w(_),(Q=t.onCancel)==null||Q.call(t,_)}},l=()=>{e=!0},c=()=>{e=!1},h=()=>X1.isFocused()&&(t.networkMode==="always"||ig.isOnline())&&t.canRun(),p=()=>l4(t.networkMode)&&t.canRun(),g=S=>{i()||(n==null||n(),s.resolve(S))},w=S=>{i()||(n==null||n(),s.reject(S))},y=()=>new Promise(S=>{var Q;n=_=>{(i()||h())&&S(_)},(Q=t.onPause)==null||Q.call(t)}).then(()=>{var S;n=void 0,i()||(S=t.onContinue)==null||S.call(t)}),F=()=>{if(i())return;let S;const Q=r===0?t.initialPromise:void 0;try{S=Q??t.fn()}catch(_){S=Promise.reject(_)}Promise.resolve(S).then(g).catch(_=>{var K;if(i())return;const B=t.retry??(au?0:3),j=t.retryDelay??Vj,T=typeof j=="function"?j(r,_):j,V=B===!0||typeof B=="number"&&r<B||typeof B=="function"&&B(r,_);if(e||!V){w(_);return}r++,(K=t.onFail)==null||K.call(t,r,_),Rj(T).then(()=>h()?void 0:y()).then(()=>{e?w(_):F()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:p,start:()=>(p()?F():y().then(F),s)}}var Oc,SB,u4=(SB=class{constructor(){tr(this,Oc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ky(this.gcTime)&&Rt(this,Oc,kc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(au?1/0:5*60*1e3))}clearGcTimeout(){Be(this,Oc)&&(kc.clearTimeout(Be(this,Oc)),Rt(this,Oc,void 0))}},Oc=new WeakMap,SB),Rc,_h,Xa,Dc,Rs,Df,Mc,Uo,IA,EB,Wj=(EB=class extends u4{constructor(e){super();tr(this,Uo);tr(this,Rc);tr(this,_h);tr(this,Xa);tr(this,Dc);tr(this,Rs);tr(this,Df);tr(this,Mc);Rt(this,Mc,!1),Rt(this,Df,e.defaultOptions),this.setOptions(e.options),this.observers=[],Rt(this,Dc,e.client),Rt(this,Xa,Be(this,Dc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Rt(this,Rc,cb(this.options)),this.state=e.state??Be(this,Rc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Be(this,Rs))==null?void 0:e.promise}setOptions(e){if(this.options={...Be(this,Df),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=cb(this.options);r.data!==void 0&&(this.setState(lb(r.data,r.dataUpdatedAt)),Rt(this,Rc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Be(this,Xa).remove(this)}setData(e,r){const n=zy(this.state.data,e,this.options);return Br(this,Uo,IA).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Br(this,Uo,IA).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=Be(this,Rs))==null?void 0:n.promise;return(s=Be(this,Rs))==null||s.cancel(e),r?r.then(Oi).catch(Oi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Be(this,Rc))}isActive(){return this.observers.some(e=>Ya(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Z1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Yl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!i4(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=Be(this,Rs))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=Be(this,Rs))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Be(this,Xa).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(Be(this,Rs)&&(Be(this,Mc)?Be(this,Rs).cancel({revert:!0}):Be(this,Rs).cancelRetry()),this.scheduleGc()),Be(this,Xa).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Br(this,Uo,IA).call(this,{type:"invalidate"})}async fetch(e,r){var c,h,p,g,w,y,F,S,Q,_,B,j;if(this.state.fetchStatus!=="idle"&&((c=Be(this,Rs))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Be(this,Rs))return Be(this,Rs).continueRetry(),Be(this,Rs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const T=this.observers.find(V=>V.options.queryFn);T&&this.setOptions(T.options)}const n=new AbortController,s=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(Rt(this,Mc,!0),n.signal)})},i=()=>{const T=o4(this.options,r),K=(()=>{const G={client:Be(this,Dc),queryKey:this.queryKey,meta:this.meta};return s(G),G})();return Rt(this,Mc,!1),this.options.persister?this.options.persister(T,K,this):T(K)},l=(()=>{const T={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Be(this,Dc),state:this.state,fetchFn:i};return s(T),T})();(h=this.options.behavior)==null||h.onFetch(l,this),Rt(this,_h,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&Br(this,Uo,IA).call(this,{type:"fetch",meta:(g=l.fetchOptions)==null?void 0:g.meta}),Rt(this,Rs,c4({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:T=>{T instanceof Wy&&T.revert&&this.setState({...Be(this,_h),fetchStatus:"idle"}),n.abort()},onFail:(T,V)=>{Br(this,Uo,IA).call(this,{type:"failed",failureCount:T,error:V})},onPause:()=>{Br(this,Uo,IA).call(this,{type:"pause"})},onContinue:()=>{Br(this,Uo,IA).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const T=await Be(this,Rs).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(y=(w=Be(this,Xa).config).onSuccess)==null||y.call(w,T,this),(S=(F=Be(this,Xa).config).onSettled)==null||S.call(F,T,this.state.error,this),T}catch(T){if(T instanceof Wy){if(T.silent)return Be(this,Rs).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw Br(this,Uo,IA).call(this,{type:"error",error:T}),(_=(Q=Be(this,Xa).config).onError)==null||_.call(Q,T,this),(j=(B=Be(this,Xa).config).onSettled)==null||j.call(B,this.state.data,T,this),T}finally{this.scheduleGc()}}},Rc=new WeakMap,_h=new WeakMap,Xa=new WeakMap,Dc=new WeakMap,Rs=new WeakMap,Df=new WeakMap,Mc=new WeakMap,Uo=new WeakSet,IA=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...h4(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...lb(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Rt(this,_h,e.manual?s:void 0),s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Es.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Be(this,Xa).notify({query:this,type:"updated",action:e})})},EB);function h4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:l4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lb(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function cb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Yi,Ir,Mf,Qi,Hc,Bh,RA,Ul,Hf,Ch,Nh,Kc,qc,kl,Sh,Wr,Ed,Gy,$y,Jy,Zy,Xy,Yy,ew,d4,FB,Gj=(FB=class extends $h{constructor(e,r){super();tr(this,Wr);tr(this,Yi);tr(this,Ir);tr(this,Mf);tr(this,Qi);tr(this,Hc);tr(this,Bh);tr(this,RA);tr(this,Ul);tr(this,Hf);tr(this,Ch);tr(this,Nh);tr(this,Kc);tr(this,qc);tr(this,kl);tr(this,Sh,new Set);this.options=r,Rt(this,Yi,e),Rt(this,Ul,null),Rt(this,RA,Vy()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Be(this,Ir).addObserver(this),ub(Be(this,Ir),this.options)?Br(this,Wr,Ed).call(this):this.updateResult(),Br(this,Wr,Zy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tw(Be(this,Ir),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tw(Be(this,Ir),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Br(this,Wr,Xy).call(this),Br(this,Wr,Yy).call(this),Be(this,Ir).removeObserver(this)}setOptions(e){const r=this.options,n=Be(this,Ir);if(this.options=Be(this,Yi).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ya(this.options.enabled,Be(this,Ir))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Br(this,Wr,ew).call(this),Be(this,Ir).setOptions(this.options),r._defaulted&&!sg(this.options,r)&&Be(this,Yi).getQueryCache().notify({type:"observerOptionsUpdated",query:Be(this,Ir),observer:this});const s=this.hasListeners();s&&hb(Be(this,Ir),n,this.options,r)&&Br(this,Wr,Ed).call(this),this.updateResult(),s&&(Be(this,Ir)!==n||Ya(this.options.enabled,Be(this,Ir))!==Ya(r.enabled,Be(this,Ir))||Yl(this.options.staleTime,Be(this,Ir))!==Yl(r.staleTime,Be(this,Ir)))&&Br(this,Wr,Gy).call(this);const i=Br(this,Wr,$y).call(this);s&&(Be(this,Ir)!==n||Ya(this.options.enabled,Be(this,Ir))!==Ya(r.enabled,Be(this,Ir))||i!==Be(this,kl))&&Br(this,Wr,Jy).call(this,i)}getOptimisticResult(e){const r=Be(this,Yi).getQueryCache().build(Be(this,Yi),e),n=this.createResult(r,e);return Jj(this,n)&&(Rt(this,Qi,n),Rt(this,Bh,this.options),Rt(this,Hc,Be(this,Ir).state)),n}getCurrentResult(){return Be(this,Qi)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Be(this,RA).status==="pending"&&Be(this,RA).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(e){Be(this,Sh).add(e)}getCurrentQuery(){return Be(this,Ir)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=Be(this,Yi).defaultQueryOptions(e),n=Be(this,Yi).getQueryCache().build(Be(this,Yi),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Br(this,Wr,Ed).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Be(this,Qi)))}createResult(e,r){var Z;const n=Be(this,Ir),s=this.options,i=Be(this,Qi),o=Be(this,Hc),l=Be(this,Bh),h=e!==n?e.state:Be(this,Mf),{state:p}=e;let g={...p},w=!1,y;if(r._optimisticResults){const oe=this.hasListeners(),D=!oe&&ub(e,r),R=oe&&hb(e,n,r,s);(D||R)&&(g={...g,...h4(p.data,e.options)}),r._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:F,errorUpdatedAt:S,status:Q}=g;y=g.data;let _=!1;if(r.placeholderData!==void 0&&y===void 0&&Q==="pending"){let oe;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(oe=i.data,_=!0):oe=typeof r.placeholderData=="function"?r.placeholderData((Z=Be(this,Nh))==null?void 0:Z.state.data,Be(this,Nh)):r.placeholderData,oe!==void 0&&(Q="success",y=zy(i==null?void 0:i.data,oe,r),w=!0)}if(r.select&&y!==void 0&&!_)if(i&&y===(o==null?void 0:o.data)&&r.select===Be(this,Hf))y=Be(this,Ch);else try{Rt(this,Hf,r.select),y=r.select(y),y=zy(i==null?void 0:i.data,y,r),Rt(this,Ch,y),Rt(this,Ul,null)}catch(oe){Rt(this,Ul,oe)}Be(this,Ul)&&(F=Be(this,Ul),y=Be(this,Ch),S=Date.now(),Q="error");const B=g.fetchStatus==="fetching",j=Q==="pending",T=Q==="error",V=j&&B,K=y!==void 0,M={status:Q,fetchStatus:g.fetchStatus,isPending:j,isSuccess:Q==="success",isError:T,isInitialLoading:V,isLoading:V,data:y,dataUpdatedAt:g.dataUpdatedAt,error:F,errorUpdatedAt:S,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:B,isRefetching:B&&!j,isLoadingError:T&&!K,isPaused:g.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:T&&K,isStale:Y1(e,r),refetch:this.refetch,promise:Be(this,RA),isEnabled:Ya(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const oe=re=>{M.status==="error"?re.reject(M.error):M.data!==void 0&&re.resolve(M.data)},D=()=>{const re=Rt(this,RA,M.promise=Vy());oe(re)},R=Be(this,RA);switch(R.status){case"pending":e.queryHash===n.queryHash&&oe(R);break;case"fulfilled":(M.status==="error"||M.data!==R.value)&&D();break;case"rejected":(M.status!=="error"||M.error!==R.reason)&&D();break}}return M}updateResult(){const e=Be(this,Qi),r=this.createResult(Be(this,Ir),this.options);if(Rt(this,Hc,Be(this,Ir).state),Rt(this,Bh,this.options),Be(this,Hc).data!==void 0&&Rt(this,Nh,Be(this,Ir)),sg(r,e))return;Rt(this,Qi,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Be(this,Sh).size)return!0;const o=new Set(i??Be(this,Sh));return this.options.throwOnError&&o.add("error"),Object.keys(Be(this,Qi)).some(l=>{const c=l;return Be(this,Qi)[c]!==e[c]&&o.has(c)})};Br(this,Wr,d4).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Br(this,Wr,Zy).call(this)}},Yi=new WeakMap,Ir=new WeakMap,Mf=new WeakMap,Qi=new WeakMap,Hc=new WeakMap,Bh=new WeakMap,RA=new WeakMap,Ul=new WeakMap,Hf=new WeakMap,Ch=new WeakMap,Nh=new WeakMap,Kc=new WeakMap,qc=new WeakMap,kl=new WeakMap,Sh=new WeakMap,Wr=new WeakSet,Ed=function(e){Br(this,Wr,ew).call(this);let r=Be(this,Ir).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Oi)),r},Gy=function(){Br(this,Wr,Xy).call(this);const e=Yl(this.options.staleTime,Be(this,Ir));if(au||Be(this,Qi).isStale||!Ky(e))return;const n=i4(Be(this,Qi).dataUpdatedAt,e)+1;Rt(this,Kc,kc.setTimeout(()=>{Be(this,Qi).isStale||this.updateResult()},n))},$y=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Be(this,Ir)):this.options.refetchInterval)??!1},Jy=function(e){Br(this,Wr,Yy).call(this),Rt(this,kl,e),!(au||Ya(this.options.enabled,Be(this,Ir))===!1||!Ky(Be(this,kl))||Be(this,kl)===0)&&Rt(this,qc,kc.setInterval(()=>{(this.options.refetchIntervalInBackground||X1.isFocused())&&Br(this,Wr,Ed).call(this)},Be(this,kl)))},Zy=function(){Br(this,Wr,Gy).call(this),Br(this,Wr,Jy).call(this,Br(this,Wr,$y).call(this))},Xy=function(){Be(this,Kc)&&(kc.clearTimeout(Be(this,Kc)),Rt(this,Kc,void 0))},Yy=function(){Be(this,qc)&&(kc.clearInterval(Be(this,qc)),Rt(this,qc,void 0))},ew=function(){const e=Be(this,Yi).getQueryCache().build(Be(this,Yi),this.options);if(e===Be(this,Ir))return;const r=Be(this,Ir);Rt(this,Ir,e),Rt(this,Mf,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},d4=function(e){Es.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(Be(this,Qi))}),Be(this,Yi).getQueryCache().notify({query:Be(this,Ir),type:"observerResultsUpdated"})})},FB);function $j(t,e){return Ya(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ub(t,e){return $j(t,e)||t.state.data!==void 0&&tw(t,e,e.refetchOnMount)}function tw(t,e,r){if(Ya(e.enabled,t)!==!1&&Yl(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Y1(t,e)}return!1}function hb(t,e,r,n){return(t!==e||Ya(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Y1(t,r)}function Y1(t,e){return Ya(e.enabled,t)!==!1&&t.isStaleByTime(Yl(e.staleTime,t))}function Jj(t,e){return!sg(t.getCurrentResult(),e)}function db(t){return{onFetch:(e,r)=>{var p,g,w,y,F;const n=e.options,s=(w=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:w.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((F=e.state.data)==null?void 0:F.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const h=async()=>{let S=!1;const Q=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?S=!0:e.signal.addEventListener("abort",()=>{S=!0}),e.signal)})},_=o4(e.options,e.fetchOptions),B=async(j,T,V)=>{if(S)return Promise.reject();if(T==null&&j.pages.length)return Promise.resolve(j);const G=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:T,direction:V?"backward":"forward",meta:e.options.meta};return Q(D),D})(),M=await _(G),{maxPages:Z}=e.options,oe=V?Mj:Dj;return{pages:oe(j.pages,M,Z),pageParams:oe(j.pageParams,T,Z)}};if(s&&i.length){const j=s==="backward",T=j?Zj:fb,V={pages:i,pageParams:o},K=T(n,V);l=await B(V,K,j)}else{const j=t??i.length;do{const T=c===0?o[0]??n.initialPageParam:fb(n,l);if(c>0&&T==null)break;l=await B(l,T),c++}while(c<j)}return l};e.options.persister?e.fetchFn=()=>{var S,Q;return(Q=(S=e.options).persister)==null?void 0:Q.call(S,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=h}}}function fb(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Zj(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Kf,AA,Ii,zc,lA,gl,jB,Xj=(jB=class extends u4{constructor(e){super();tr(this,lA);tr(this,Kf);tr(this,AA);tr(this,Ii);tr(this,zc);Rt(this,Kf,e.client),this.mutationId=e.mutationId,Rt(this,Ii,e.mutationCache),Rt(this,AA,[]),this.state=e.state||f4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Be(this,AA).includes(e)||(Be(this,AA).push(e),this.clearGcTimeout(),Be(this,Ii).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Rt(this,AA,Be(this,AA).filter(r=>r!==e)),this.scheduleGc(),Be(this,Ii).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Be(this,AA).length||(this.state.status==="pending"?this.scheduleGc():Be(this,Ii).remove(this))}continue(){var e;return((e=Be(this,zc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,h,p,g,w,y,F,S,Q,_,B,j,T,V,K,G,M,Z;const r=()=>{Br(this,lA,gl).call(this,{type:"continue"})},n={client:Be(this,Kf),meta:this.options.meta,mutationKey:this.options.mutationKey};Rt(this,zc,c4({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(oe,D)=>{Br(this,lA,gl).call(this,{type:"failed",failureCount:oe,error:D})},onPause:()=>{Br(this,lA,gl).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Be(this,Ii).canRun(this)}));const s=this.state.status==="pending",i=!Be(this,zc).canStart();try{if(s)r();else{Br(this,lA,gl).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(o=Be(this,Ii).config).onMutate)==null?void 0:l.call(o,e,this,n));const D=await((h=(c=this.options).onMutate)==null?void 0:h.call(c,e,n));D!==this.state.context&&Br(this,lA,gl).call(this,{type:"pending",context:D,variables:e,isPaused:i})}const oe=await Be(this,zc).start();return await((g=(p=Be(this,Ii).config).onSuccess)==null?void 0:g.call(p,oe,e,this.state.context,this,n)),await((y=(w=this.options).onSuccess)==null?void 0:y.call(w,oe,e,this.state.context,n)),await((S=(F=Be(this,Ii).config).onSettled)==null?void 0:S.call(F,oe,null,this.state.variables,this.state.context,this,n)),await((_=(Q=this.options).onSettled)==null?void 0:_.call(Q,oe,null,e,this.state.context,n)),Br(this,lA,gl).call(this,{type:"success",data:oe}),oe}catch(oe){try{throw await((j=(B=Be(this,Ii).config).onError)==null?void 0:j.call(B,oe,e,this.state.context,this,n)),await((V=(T=this.options).onError)==null?void 0:V.call(T,oe,e,this.state.context,n)),await((G=(K=Be(this,Ii).config).onSettled)==null?void 0:G.call(K,void 0,oe,this.state.variables,this.state.context,this,n)),await((Z=(M=this.options).onSettled)==null?void 0:Z.call(M,void 0,oe,e,this.state.context,n)),oe}finally{Br(this,lA,gl).call(this,{type:"error",error:oe})}}finally{Be(this,Ii).runNext(this)}}},Kf=new WeakMap,AA=new WeakMap,Ii=new WeakMap,zc=new WeakMap,lA=new WeakSet,gl=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Es.batch(()=>{Be(this,AA).forEach(n=>{n.onMutationUpdate(e)}),Be(this,Ii).notify({mutation:this,type:"updated",action:e})})},jB);function f4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var DA,ko,qf,UB,Yj=(UB=class extends $h{constructor(e={}){super();tr(this,DA);tr(this,ko);tr(this,qf);this.config=e,Rt(this,DA,new Set),Rt(this,ko,new Map),Rt(this,qf,0)}build(e,r,n){const s=new Xj({client:e,mutationCache:this,mutationId:++vp(this,qf)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){Be(this,DA).add(e);const r=Pp(e);if(typeof r=="string"){const n=Be(this,ko).get(r);n?n.push(e):Be(this,ko).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Be(this,DA).delete(e)){const r=Pp(e);if(typeof r=="string"){const n=Be(this,ko).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&Be(this,ko).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Pp(e);if(typeof r=="string"){const n=Be(this,ko).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Pp(e);if(typeof r=="string"){const s=(n=Be(this,ko).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Es.batch(()=>{Be(this,DA).forEach(e=>{this.notify({type:"removed",mutation:e})}),Be(this,DA).clear(),Be(this,ko).clear()})}getAll(){return Array.from(Be(this,DA))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ab(r,n))}findAll(e={}){return this.getAll().filter(r=>ab(e,r))}notify(e){Es.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Es.batch(()=>Promise.all(e.map(r=>r.continue().catch(Oi))))}},DA=new WeakMap,ko=new WeakMap,qf=new WeakMap,UB);function Pp(t){var e;return(e=t.options.scope)==null?void 0:e.id}var MA,Ll,ea,HA,$A,Sm,rw,kB,eU=(kB=class extends $h{constructor(r,n){super();tr(this,$A);tr(this,MA);tr(this,Ll);tr(this,ea);tr(this,HA);Rt(this,MA,r),this.setOptions(n),this.bindMethods(),Br(this,$A,Sm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=Be(this,MA).defaultMutationOptions(r),sg(this.options,n)||Be(this,MA).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Be(this,ea),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ou(n.mutationKey)!==ou(this.options.mutationKey)?this.reset():((s=Be(this,ea))==null?void 0:s.state.status)==="pending"&&Be(this,ea).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Be(this,ea))==null||r.removeObserver(this)}onMutationUpdate(r){Br(this,$A,Sm).call(this),Br(this,$A,rw).call(this,r)}getCurrentResult(){return Be(this,Ll)}reset(){var r;(r=Be(this,ea))==null||r.removeObserver(this),Rt(this,ea,void 0),Br(this,$A,Sm).call(this),Br(this,$A,rw).call(this)}mutate(r,n){var s;return Rt(this,HA,n),(s=Be(this,ea))==null||s.removeObserver(this),Rt(this,ea,Be(this,MA).getMutationCache().build(Be(this,MA),this.options)),Be(this,ea).addObserver(this),Be(this,ea).execute(r)}},MA=new WeakMap,Ll=new WeakMap,ea=new WeakMap,HA=new WeakMap,$A=new WeakSet,Sm=function(){var n;const r=((n=Be(this,ea))==null?void 0:n.state)??f4();Rt(this,Ll,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},rw=function(r){Es.batch(()=>{var n,s,i,o,l,c,h,p;if(Be(this,HA)&&this.hasListeners()){const g=Be(this,Ll).variables,w=Be(this,Ll).context,y={client:Be(this,MA),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=Be(this,HA)).onSuccess)==null||s.call(n,r.data,g,w,y),(o=(i=Be(this,HA)).onSettled)==null||o.call(i,r.data,null,g,w,y)):(r==null?void 0:r.type)==="error"&&((c=(l=Be(this,HA)).onError)==null||c.call(l,r.error,g,w,y),(p=(h=Be(this,HA)).onSettled)==null||p.call(h,void 0,r.error,g,w,y))}this.listeners.forEach(g=>{g(Be(this,Ll))})})},kB),cA,LB,tU=(LB=class extends $h{constructor(e={}){super();tr(this,cA);this.config=e,Rt(this,cA,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??J1(s,r);let o=this.get(i);return o||(o=new Wj({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Be(this,cA).has(e.queryHash)||(Be(this,cA).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Be(this,cA).get(e.queryHash);r&&(e.destroy(),r===e&&Be(this,cA).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Es.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Be(this,cA).get(e)}getAll(){return[...Be(this,cA).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ib(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>ib(e,n)):r}notify(e){Es.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Es.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Es.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},cA=new WeakMap,LB),Vn,Ql,Il,Eh,Fh,Pl,jh,Uh,QB,rU=(QB=class{constructor(t={}){tr(this,Vn);tr(this,Ql);tr(this,Il);tr(this,Eh);tr(this,Fh);tr(this,Pl);tr(this,jh);tr(this,Uh);Rt(this,Vn,t.queryCache||new tU),Rt(this,Ql,t.mutationCache||new Yj),Rt(this,Il,t.defaultOptions||{}),Rt(this,Eh,new Map),Rt(this,Fh,new Map),Rt(this,Pl,0)}mount(){vp(this,Pl)._++,Be(this,Pl)===1&&(Rt(this,jh,X1.subscribe(async t=>{t&&(await this.resumePausedMutations(),Be(this,Vn).onFocus())})),Rt(this,Uh,ig.subscribe(async t=>{t&&(await this.resumePausedMutations(),Be(this,Vn).onOnline())})))}unmount(){var t,e;vp(this,Pl)._--,Be(this,Pl)===0&&((t=Be(this,jh))==null||t.call(this),Rt(this,jh,void 0),(e=Be(this,Uh))==null||e.call(this),Rt(this,Uh,void 0))}isFetching(t){return Be(this,Vn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Be(this,Ql).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Be(this,Vn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=Be(this,Vn).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Yl(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return Be(this,Vn).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=Be(this,Vn).get(n.queryHash),i=s==null?void 0:s.state.data,o=Tj(e,i);if(o!==void 0)return Be(this,Vn).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Es.batch(()=>Be(this,Vn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Be(this,Vn).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Be(this,Vn);Es.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Be(this,Vn);return Es.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Es.batch(()=>Be(this,Vn).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Oi).catch(Oi)}invalidateQueries(t,e={}){return Es.batch(()=>(Be(this,Vn).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Es.batch(()=>Be(this,Vn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Oi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Oi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Be(this,Vn).build(this,e);return r.isStaleByTime(Yl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Oi).catch(Oi)}fetchInfiniteQuery(t){return t.behavior=db(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Oi).catch(Oi)}ensureInfiniteQueryData(t){return t.behavior=db(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ig.isOnline()?Be(this,Ql).resumePausedMutations():Promise.resolve()}getQueryCache(){return Be(this,Vn)}getMutationCache(){return Be(this,Ql)}getDefaultOptions(){return Be(this,Il)}setDefaultOptions(t){Rt(this,Il,t)}setQueryDefaults(t,e){Be(this,Eh).set(ou(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Be(this,Eh).values()],r={};return e.forEach(n=>{Sf(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){Be(this,Fh).set(ou(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Be(this,Fh).values()],r={};return e.forEach(n=>{Sf(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Be(this,Il).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=J1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Z1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Be(this,Il).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Be(this,Vn).clear(),Be(this,Ql).clear()}},Vn=new WeakMap,Ql=new WeakMap,Il=new WeakMap,Eh=new WeakMap,Fh=new WeakMap,Pl=new WeakMap,jh=new WeakMap,Uh=new WeakMap,QB),p4=le.createContext(void 0),uc=t=>{const e=le.useContext(p4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},nU=({client:t,children:e})=>(le.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),A.jsx(p4.Provider,{value:t,children:e})),m4=le.createContext(!1),sU=()=>le.useContext(m4);m4.Provider;function iU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var aU=le.createContext(iU()),oU=()=>le.useContext(aU),AU=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},lU=t=>{le.useEffect(()=>{t.clearReset()},[t])},cU=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||A4(r,[t.error,n])),uU=t=>{if(t.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},hU=(t,e)=>t.isLoading&&t.isFetching&&!e,dU=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,pb=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function fU(t,e,r){var g,w,y,F,S;const n=sU(),s=oU(),i=uc(),o=i.defaultQueryOptions(t);(w=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||w.call(g,o),o._optimisticResults=n?"isRestoring":"optimistic",uU(o),AU(o,s),lU(s);const l=!i.getQueryCache().get(o.queryHash),[c]=le.useState(()=>new e(i,o)),h=c.getOptimisticResult(o),p=!n&&t.subscribed!==!1;if(le.useSyncExternalStore(le.useCallback(Q=>{const _=p?c.subscribe(Es.batchCalls(Q)):Oi;return c.updateResult(),_},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),le.useEffect(()=>{c.setOptions(o)},[o,c]),dU(o,h))throw pb(o,c,s);if(cU({result:h,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw h.error;if((F=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||F.call(y,o,h),o.experimental_prefetchInRender&&!au&&hU(h,n)){const Q=l?pb(o,c,s):(S=i.getQueryCache().get(o.queryHash))==null?void 0:S.promise;Q==null||Q.catch(Oi).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?h:c.trackResult(h)}function ex(t,e){return fU(t,Gj)}function Jh(t,e){const r=uc(),[n]=le.useState(()=>new eU(r,t));le.useEffect(()=>{n.setOptions(t)},[n,t]);const s=le.useSyncExternalStore(le.useCallback(o=>n.subscribe(Es.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=le.useCallback((o,l)=>{n.mutate(o,l).catch(Oi)},[n]);if(s.error&&A4(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function zg(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function pU(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(p){try{h(n.next(p))}catch(g){o(g)}}function c(p){try{h(n.throw(p))}catch(g){o(g)}}function h(p){p.done?i(p.value):s(p.value).then(l,c)}h((n=n.apply(t,e||[])).next())})}const mU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class tx extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class gU extends tx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mb extends tx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gb extends tx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(nw||(nw={}));class vU{constructor(e,{headers:r={},customFetch:n,region:s=nw.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=mU(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return pU(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:h,signal:p,timeout:g}=n;let w={},{region:y}=n;y||(y=this.region);const F=new URL(`${this.url}/${r}`);y&&y!=="any"&&(w["x-region"]=y,F.searchParams.set("forceFunctionRegion",y));let S;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(w["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(w["Content-Type"]="application/json",S=JSON.stringify(h)):S=h;let Q=p;g&&(o=new AbortController,i=setTimeout(()=>o.abort(),g),p?(Q=o.signal,p.addEventListener("abort",()=>o.abort())):Q=o.signal);const _=yield this.fetch(F.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),l),body:S,signal:Q}).catch(V=>{throw new gU(V)}),B=_.headers.get("x-relay-error");if(B&&B==="true")throw new mb(_);if(!_.ok)throw new gb(_);let j=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return j==="application/json"?T=yield _.json():j==="application/octet-stream"||j==="application/pdf"?T=yield _.blob():j==="text/event-stream"?T=_:j==="multipart/form-data"?T=yield _.formData():T=yield _.text(),{data:T,error:null,response:_}}catch(l){return{data:null,error:l,response:l instanceof gb||l instanceof mb?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var yU=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},wU=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,h=i.status,p=i.statusText;if(i.ok){var g,w;if(r.method!=="HEAD"){var y;const _=await i.text();_===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?l=_:l=JSON.parse(_))}const S=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),Q=(w=i.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");S&&Q&&Q.length>1&&(c=parseInt(Q[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,h=406,p="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var F;const S=await i.text();try{o=JSON.parse(S),Array.isArray(o)&&i.status===404&&(l=[],o=null,h=200,p="OK")}catch{i.status===404&&S===""?(h=204,p="No Content"):o={message:S}}if(o&&r.isMaybeSingle&&(!(o==null||(F=o.details)===null||F===void 0)&&F.includes("0 rows"))&&(o=null,h=200,p="OK"),o&&r.shouldThrowOnError)throw new yU(o)}return{error:o,data:l,count:c,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var h,p,g,w;const F=(h=c==null?void 0:c.message)!==null&&h!==void 0?h:"",S=(p=c==null?void 0:c.code)!==null&&p!==void 0?p:"";l=`${(g=i==null?void 0:i.name)!==null&&g!==void 0?g:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(w=c==null?void 0:c.name)!==null&&w!==void 0?w:"Error"}: ${F}`,S&&(l+=` (${S})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var y;l=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},xU=class extends wU{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const vb=new RegExp("[,()]");var Hu=class extends xU{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&vb.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&vb.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},bU=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Hu({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Hu({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Hu({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Hu({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Hu({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},_U=class g4{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new bU(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new g4(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let h;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([g,w])=>w!==void 0).map(([g,w])=>[g,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([g,w])=>{c.searchParams.append(g,w)})):(l="POST",h=r);const p=new Headers(this.headers);return i&&p.set("Prefer",`count=${i}`),new Hu({method:l,url:c,headers:p,schema:this.schemaName,body:h,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class BU{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const CU="2.89.0",NU=`realtime-js/${CU}`,v4="1.0.0",SU="2.0.0",yb=v4,sw=1e4,EU=1e3,FU=100;var bl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(bl||(bl={}));var Cs;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Cs||(Cs={}));var Qo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qo||(Qo={}));var iw;(function(t){t.websocket="websocket"})(iw||(iw={}));var Nc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Nc||(Nc={}));class jU{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",h=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+h.length+g.length,y=new ArrayBuffer(this.HEADER_LENGTH+w);let F=new DataView(y),S=0;F.setUint8(S++,this.KINDS.userBroadcastPush),F.setUint8(S++,c.length),F.setUint8(S++,l.length),F.setUint8(S++,o.length),F.setUint8(S++,h.length),F.setUint8(S++,g.length),F.setUint8(S++,r),Array.from(c,_=>F.setUint8(S++,_.charCodeAt(0))),Array.from(l,_=>F.setUint8(S++,_.charCodeAt(0))),Array.from(o,_=>F.setUint8(S++,_.charCodeAt(0))),Array.from(h,_=>F.setUint8(S++,_.charCodeAt(0))),Array.from(g,_=>F.setUint8(S++,_.charCodeAt(0)));var Q=new Uint8Array(y.byteLength+n.byteLength);return Q.set(new Uint8Array(y),0),Q.set(new Uint8Array(n),y.byteLength),Q.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const h=n.decode(e.slice(c,c+s));c=c+s;const p=n.decode(e.slice(c,c+i));c=c+i;const g=n.decode(e.slice(c,c+o));c=c+o;const w=e.slice(c,e.byteLength),y=l===this.JSON_ENCODING?JSON.parse(n.decode(w)):w,F={type:this.BROADCAST_EVENT,event:p,payload:y};return o>0&&(F.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:F}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class y4{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var un;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(un||(un={}));const wb=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=UU(o,t,e,s),i),{}):{}},UU=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?w4(i,o):aw(o)},w4=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return IU(e,r)}switch(t){case un.bool:return kU(e);case un.float4:case un.float8:case un.int2:case un.int4:case un.int8:case un.numeric:case un.oid:return LU(e);case un.json:case un.jsonb:return QU(e);case un.timestamp:return PU(e);case un.abstime:case un.date:case un.daterange:case un.int4range:case un.int8range:case un.money:case un.reltime:case un.text:case un.time:case un.timestamptz:case un.timetz:case un.tsrange:case un.tstzrange:return aw(e);default:return aw(e)}},aw=t=>t,kU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},LU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},QU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},IU=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>w4(e,l))}return t},PU=t=>typeof t=="string"?t.replace(" ","T"):t,x4=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class tv{constructor(e,r,n={},s=sw){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xb||(xb={}));class Vd{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vd.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Vd.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Vd.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(h,p)=>{o[h]||(c[h]=p)}),this.map(o,(h,p)=>{const g=i[h];if(g){const w=p.map(Q=>Q.presence_ref),y=g.map(Q=>Q.presence_ref),F=p.filter(Q=>y.indexOf(Q.presence_ref)<0),S=g.filter(Q=>w.indexOf(Q.presence_ref)<0);F.length>0&&(l[h]=F),S.length>0&&(c[h]=S)}else l[h]=p}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var h;const p=(h=e[l])!==null&&h!==void 0?h:[];if(e[l]=this.cloneDeep(c),p.length>0){const g=e[l].map(y=>y.presence_ref),w=p.filter(y=>g.indexOf(y.presence_ref)<0);e[l].unshift(...w)}n(l,p,c)}),this.map(o,(l,c)=>{let h=e[l];if(!h)return;const p=c.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),e[l]=h,s(l,h,c),h.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bb||(bb={}));var Wd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Wd||(Wd={}));var TA;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(TA||(TA={}));class oh{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Cs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new tv(this,Qo.join,this.params,this.timeout),this.rejoinTimer=new y4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cs.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Cs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Cs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qo.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Vd(this),this.broadcastEndpointURL=x4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Cs.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,h=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[Wd.PRESENCE]&&this.bindings[Wd.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},w={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:p}),postgres_changes:h,private:c};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(TA.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(TA.CLOSED)),this.updateJoinPayload(Object.assign({config:w},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var F;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e==null||e(TA.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,Q=(F=S==null?void 0:S.length)!==null&&F!==void 0?F:0,_=[];for(let B=0;B<Q;B++){const j=S[B],{filter:{event:T,schema:V,table:K,filter:G}}=j,M=y&&y[B];if(M&&M.event===T&&oh.isFilterValueEqual(M.schema,V)&&oh.isFilterValueEqual(M.table,K)&&oh.isFilterValueEqual(M.filter,G))_.push(Object.assign(Object.assign({},j),{id:M.id}));else{this.unsubscribe(),this.state=Cs.errored,e==null||e(TA.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(TA.SUBSCRIBED);return}}).receive("error",y=>{this.state=Cs.errored,e==null||e(TA.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(TA.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Cs.joined&&e===Wd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const h=await l.json();c=h.error||h.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Cs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new tv(this,Qo.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Cs.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new tv(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>FU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:h,join:p}=Qo;if(n&&[l,c,h,p].indexOf(o)>=0&&n!==this._joinRef())return;let w=this._onMessage(o,r,n);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var F,S,Q;return((F=y.filter)===null||F===void 0?void 0:F.event)==="*"||((Q=(S=y.filter)===null||S===void 0?void 0:S.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())===o}).map(y=>y.callback(w,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var F,S,Q,_,B,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const T=y.id,V=(F=y.filter)===null||F===void 0?void 0:F.event;return T&&((S=r.ids)===null||S===void 0?void 0:S.includes(T))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((Q=r.data)===null||Q===void 0?void 0:Q.type.toLocaleLowerCase()))}else{const T=(B=(_=y==null?void 0:y.filter)===null||_===void 0?void 0:_.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return T==="*"||T===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof w=="object"&&"ids"in w){const F=w.data,{schema:S,table:Q,commit_timestamp:_,type:B,errors:j}=F;w=Object.assign(Object.assign({},{schema:S,table:Q,commit_timestamp:_,eventType:B,new:{},old:{},errors:j}),this._getPayloadRecords(F))}y.callback(w,n)})}_isClosed(){return this.state===Cs.closed}_isJoined(){return this.state===Cs.joined}_isJoining(){return this.state===Cs.joining}_isLeaving(){return this.state===Cs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&oh.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qo.close,{},e)}_onError(e){this._on(Qo.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=wb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=wb(e.columns,e.old_record)),r}}const rv=()=>{},Tp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TU=[1e3,2e3,5e3,1e4],OU=1e4,RU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DU{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sw,this.transport=null,this.heartbeatIntervalMs=Tp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rv,this.ref=0,this.reconnectTimer=null,this.vsn=yb,this.logger=rv,this.conn=null,this.sendBuffer=[],this.serializer=new jU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${iw.websocket}`,this.httpEndpoint=x4(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bl.connecting:return Nc.Connecting;case bl.open:return Nc.Open;case bl.closing:return Nc.Closing;default:return Nc.Closed}}isConnected(){return this.connectionState()===Nc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new oh(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(EU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Tp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===bl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bl.open||this.conn.readyState===bl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qo.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([RU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:NU};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Qo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new y4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Tp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,c,h,p,g,w,y;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:sw,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Tp.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:rv,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:yb,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:F=>TU[F-1]||OU,this.vsn){case v4:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(F,S)=>S(JSON.stringify(F)),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:(F,S)=>S(JSON.parse(F));break;case SU:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ef=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function MU(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function HU(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function KU(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=MU(t.baseUrl,n,s),c=await HU(t.auth),h=await e(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),p=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),w=g&&p?JSON.parse(p):p;if(!h.ok){const y=g?w:void 0,F=y==null?void 0:y.error;throw new Ef((F==null?void 0:F.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:F==null?void 0:F.type,icebergCode:F==null?void 0:F.code,details:y})}return{status:h.status,headers:h.headers,data:w}}}}function Op(t){return t.join("")}var qU=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Op(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Op(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Op(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Op(t.namespace)}`}),!0}catch(e){if(e instanceof Ef&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Ef&&r.status===409)return;throw r}}};function Nu(t){return t.join("")}var zU=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nu(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Ef&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Ef&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},VU=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=KU({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new qU(this.client,e),this.tableOps=new zU(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Vg=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Pn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var WU=class extends Vg{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ow=class extends Vg{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const rx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),GU=()=>Response,Aw=t=>{if(Array.isArray(t))return t.map(r=>Aw(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Aw(n)}),e},$U=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},JU=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function ZU(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XU(t){var e=ZU(t,"string");return Ff(e)=="symbol"?e:e+""}function YU(t,e,r){return(e=XU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_b(Object(r),!0).forEach(function(n){YU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const nv=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ek=async(t,e,r)=>{t instanceof await GU()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,i=(n==null?void 0:n.statusCode)||s+"";e(new WU(nv(n),s,i))}).catch(n=>{e(new ow(nv(n),n))}):e(new ow(nv(t),t))},tk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:($U(n)?(s.headers=ur({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),ur(ur({},s),r))};async function Jf(t,e,r,n,s,i){return new Promise((o,l)=>{t(r,tk(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ek(c,l,n))})}async function jf(t,e,r,n){return Jf(t,"GET",e,r,n)}async function Fo(t,e,r,n,s){return Jf(t,"POST",e,n,s,r)}async function lw(t,e,r,n,s){return Jf(t,"PUT",e,n,s,r)}async function rk(t,e,r,n){return Jf(t,"HEAD",e,ur(ur({},r),{},{noResolveJson:!0}),n)}async function nx(t,e,r,n,s){return Jf(t,"DELETE",e,n,s,r)}var nk=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Pn(e))return{data:null,error:e};throw e}}};let b4;b4=Symbol.toStringTag;var sk=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[b4]="BlobDownloadBuilder",this.promise=null}asStream(){return new nk(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Pn(e))return{data:null,error:e};throw e}}};const ik={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ak=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=rx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let i;const o=ur(ur({},Bb),n);let l=ur(ur({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=ur(ur({},l),n.headers));const h=s._removeEmptyFolders(e),p=s._getFinalPath(h),g=await(t=="PUT"?lw:Fo)(s.fetch,`${s.url}/object/${p}`,i,ur({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Pn(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",e);try{let c;const h=ur({upsert:Bb.upsert},n),p=ur(ur({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",h.cacheControl)):(c=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{data:{path:i,fullPath:(await lw(s.fetch,l.toString(),c,{headers:p})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Pn(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=ur({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await Fo(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Vg("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Fo(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await Fo(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),i=await Fo(n.fetch,`${n.url}/object/sign/${s}`,ur({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await Fo(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>ur(ur({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>jf(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new sk(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Aw(await jf(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await rk(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n)&&n instanceof ow){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(t){var e=this;try{return{data:await nx(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=ur(ur(ur({},ik),e),{},{prefix:t||""});return{data:await Fo(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=ur({},t);return{data:await Fo(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const _4="2.89.0",B4={"X-Client-Info":`storage-js/${_4}`};var ok=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ur(ur({},B4),e),this.fetch=rx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await jf(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await jf(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Fo(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await lw(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Fo(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await nx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Ak=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ur(ur({},B4),e),this.fetch=rx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Fo(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await jf(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await nx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!JU(t))throw new Vg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new VU({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const sx={"X-Client-Info":`storage-js/${_4}`,"Content-Type":"application/json"};var C4=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Sa(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var sv=class extends C4{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lk=class extends C4{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const ix=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ck=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uk=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new sv(Cb(i),n,o))}).catch(()=>{const i=n+"";e(new sv(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new sv(s.statusText||`HTTP ${n} error`,n,i))}}else e(new lk(Cb(t),t))},hk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(ck(n)?(s.headers=ur({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,ur(ur({},s),r)):s};async function dk(t,e,r,n,s,i){return new Promise((o,l)=>{t(r,hk(e,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const h=c.headers.get("content-type");return!h||!h.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>uk(c,l,n))})}async function Ea(t,e,r,n,s){return dk(t,"POST",e,n,s,r)}var fk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ur(ur({},sx),e),this.fetch=ix(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ea(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sa(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Ea(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Ea(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sa(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Ea(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Sa(n))return{data:null,error:n};throw n}}},pk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ur(ur({},sx),e),this.fetch=ix(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ea(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sa(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Ea(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sa(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ea(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sa(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Ea(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sa(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ea(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sa(r))return{data:null,error:r};throw r}}},mk=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ur(ur({},sx),e),this.fetch=ix(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ea(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sa(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ea(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sa(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Ea(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sa(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ea(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Sa(r))return{data:null,error:r};throw r}}},gk=class extends mk{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new vk(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},vk=class extends fk{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new yk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},yk=class extends pk{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,ur(ur({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},wk=class extends ok{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new ak(this.url,this.headers,t,this.fetch)}get vectors(){return new gk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ak(this.url+"/iceberg",this.headers,this.fetch)}};const N4="2.89.0",Ku=30*1e3,cw=3,iv=cw*Ku,xk="http://localhost:9999",bk="supabase.auth.token",_k={"X-Client-Info":`gotrue-js/${N4}`},uw="X-Supabase-Api-Version",S4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ck=10*60*1e3;class Uf extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Xt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Nk extends Uf{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Sk(t){return Xt(t)&&t.name==="AuthApiError"}class Sc extends Uf{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class nl extends Uf{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ba extends nl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ek(t){return Xt(t)&&t.name==="AuthSessionMissingError"}class Su extends nl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rp extends nl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Dp extends nl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fk(t){return Xt(t)&&t.name==="AuthImplicitGrantRedirectError"}class Nb extends nl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jk extends nl{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class hw extends nl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function av(t){return Xt(t)&&t.name==="AuthRetryableFetchError"}class Sb extends nl{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class dw extends nl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ag="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Eb=` 	
\r=`.split(""),Uk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Eb.length;e+=1)t[Eb[e].charCodeAt(0)]=-2;for(let e=0;e<ag.length;e+=1)t[ag[e].charCodeAt(0)]=e;return t})();function Fb(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ag[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ag[n]),e.queuedBits-=6}}function E4(t,e,r){const n=Uk[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function jb(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Qk(o,n,r)};for(let o=0;o<t.length;o+=1)E4(t.charCodeAt(o),s,i);return e.join("")}function kk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Lk(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}kk(n,e)}}function Qk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ph(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)E4(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Ik(t){const e=[];return Lk(t,r=>e.push(r)),new Uint8Array(e)}function Lc(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Fb(s,r,n)),Fb(null,r,n),e.join("")}function Pk(t){return Math.round(Date.now()/1e3)+t}function Tk(){return Symbol("auth-callback")}const Zs=()=>typeof window<"u"&&typeof document<"u",gc={tested:!1,writable:!1},F4=()=>{if(!Zs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gc.tested)return gc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gc.tested=!0,gc.writable=!0}catch{gc.tested=!0,gc.writable=!1}return gc.writable};function Ok(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const j4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Rk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},vc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Js=async(t,e)=>{await t.removeItem(e)};class Wg{constructor(){this.promise=new Wg.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Wg.promiseConstructor=Promise;function ov(t){const e=t.split(".");if(e.length!==3)throw new dw("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Bk.test(e[n]))throw new dw("JWT not in base64url format");return{header:JSON.parse(jb(e[0])),payload:JSON.parse(jb(e[1])),signature:ph(e[2]),raw:{header:e[0],payload:e[1]}}}async function Dk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Mk(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Hk(t){return("0"+t.toString(16)).substr(-2)}function Kk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Hk).join("")}async function qk(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function zk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await qk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Eu(t,e,r=!1){const n=Kk();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await qu(t,`${e}-code-verifier`,s);const i=await zk(n);return[i,n===i?"plain":"s256"]}const Vk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wk(t){const e=t.headers.get(uw);if(!e||!e.match(Vk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Gk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $k(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fu(t){if(!Jk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Av(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zk(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Ub(t){return JSON.parse(JSON.stringify(t))}const _c=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Xk=[502,503,504];async function kb(t){var e;if(!Rk(t))throw new hw(_c(t),0);if(Xk.includes(t.status))throw new hw(_c(t),t.status);let r;try{r=await t.json()}catch(i){throw new Sc(_c(i),i)}let n;const s=Wk(t);if(s&&s.getTime()>=S4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Sb(_c(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ba}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Sb(_c(r),t.status,r.weak_password.reasons);throw new Nk(_c(r),t.status||500,n)}const Yk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function cr(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[uw]||(i[uw]=S4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await eL(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function eL(t,e,r,n,s,i){const o=Yk(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new hw(_c(c),0)}if(l.ok||await kb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await kb(c)}}function No(t){var e;let r=null;nL(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Pk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Lb(t){const e=No(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Nl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tL(t){return{data:t,error:null}}function rL(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=zg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Qb(t){return t}function nL(t){return t.access_token&&t.refresh_token&&t.expires_in}const lv=["global","local","others"];class sL{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=j4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=lv[0]){if(lv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lv.join(", ")}`);try{return await cr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Xt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await cr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nl})}catch(n){if(Xt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=zg(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await cr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Xt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await cr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nl})}catch(r){if(Xt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const h={nextPage:null,lastPage:0,total:0},p=await cr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Qb});if(p.error)throw p.error;const g=await p.json(),w=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(F=>{const S=parseInt(F.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(F.split(";")[1].split("=")[1]);h[`${Q}Page`]=S}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Xt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Fu(e);try{return await cr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nl})}catch(r){if(Xt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Fu(e);try{return await cr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Nl})}catch(n){if(Xt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Fu(e);try{return await cr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nl})}catch(n){if(Xt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Fu(e.userId);try{const{data:r,error:n}=await cr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Xt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Fu(e.userId),Fu(e.id);try{return{data:await cr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Xt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,l,c;try{const h={nextPage:null,lastPage:0,total:0},p=await cr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Qb});if(p.error)throw p.error;const g=await p.json(),w=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(F=>{const S=parseInt(F.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(F.split(";")[1].split("=")[1]);h[`${Q}Page`]=S}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Xt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await cr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await cr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await cr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await cr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Xt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await cr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xt(r))return{data:null,error:r};throw r}}}function Ib(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ju={debug:!!(globalThis&&F4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class U4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class iL extends U4{}async function aL(t,e,r){ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ju.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new iL(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ju.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function oL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function k4(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function AL(t){return parseInt(t,16)}function lL(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function cL(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:h,scheme:p,uri:g,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=k4(t.address),F=p?`${p}://${n}`:n,S=t.statement?`${t.statement}
`:"",Q=`${F} wants you to sign in with your Ethereum account:
${y}

${S}`;let _=`URI: ${g}
Version: ${w}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),l&&(_+=`
Not Before: ${l.toISOString()}`),c&&(_+=`
Request ID: ${c}`),h){let B=`
Resources:`;for(const j of h){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);B+=`
- ${j}`}_+=B}return`${Q}
${_}`}class ps extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class og extends ps{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function uL({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ps({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ps({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ps({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ps({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ps({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ps({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ps({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ps({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(L4(o)){if(i.rp.id!==o)return new ps({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ps({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ps({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ps({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ps({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function hL({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ps({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ps({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(L4(n)){if(r.rpId!==n)return new ps({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ps({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ps({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ps({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class dL{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const fL=new dL;function pL(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=zg(t,["challenge","user","excludeCredentials"]),i=ph(e).buffer,o=Object.assign(Object.assign({},r),{id:ph(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},h),{id:ph(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function mL(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=zg(t,["challenge","allowCredentials"]),s=ph(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ph(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function gL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Lc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Lc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Lc(new Uint8Array(s.authenticatorData)),clientDataJSON:Lc(new Uint8Array(s.clientDataJSON)),signature:Lc(new Uint8Array(s.signature)),userHandle:s.userHandle?Lc(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function L4(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Pb(){var t,e;return!!(Zs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function yL(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new og("Browser returned unexpected credential type",e)}:{data:null,error:new og("Empty credential response",e)}}catch(e){return{data:null,error:uL({error:e,options:t})}}}async function wL(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new og("Browser returned unexpected credential type",e)}:{data:null,error:new og("Empty credential response",e)}}catch(e){return{data:null,error:hL({error:e,options:t})}}}const xL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},bL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ag(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const l=n[i];e(l)?n[i]=Ag(l,o):n[i]=Ag(o)}else n[i]=o}return n}function _L(t,e){return Ag(xL,t,e||{})}function BL(t,e){return Ag(bL,t,e||{})}class CL{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=s??fL.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=_L(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:p,error:g}=await yL({publicKey:h,signal:c});return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const h=BL(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:p,error:g}=await wL(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:c}));return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(o){return Xt(o)?{data:null,error:o}:{data:null,error:new Sc("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Uf("rpId is required for WebAuthn authentication")};try{if(!Pb())return{data:null,error:new Sc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Xt(o)?{data:null,error:o}:{data:null,error:new Sc("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Uf("rpId is required for WebAuthn registration")};try{if(!Pb())return{data:null,error:new Sc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:l};const{data:c,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:h}}catch(o){return Xt(o)?{data:null,error:o}:{data:null,error:new Sc("Unexpected error in register",o)}}}}oL();const NL={url:xk,storageKey:bk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_k,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Tb(t,e,r){return await r()}const Uu={};class kf{get jwks(){var e,r;return(r=(e=Uu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Uu[this.storageKey]=Object.assign(Object.assign({},Uu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Uu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Uu[this.storageKey]=Object.assign(Object.assign({},Uu[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},NL),e);if(this.storageKey=i.storageKey,this.instanceID=(r=kf.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,kf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Zs()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=j4(i.fetch),this.lock=i.lock||Tb,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Zs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=aL:this.lock=Tb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:F4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ib(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ib(this.memoryStorage)),Zs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${N4}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Zs()&&(r=Ok(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Zs()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fk(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Xt(r)?this._returnResult({error:r}):this._returnResult({error:new Sc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:No}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(i){if(Xt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:p,password:g,options:w}=e;let y=null,F=null;this.flowType==="pkce"&&([y,F]=await Eu(this.storage,this.storageKey)),i=await cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:p,password:g,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:y,code_challenge_method:F},xform:No})}else if("phone"in e){const{phone:p,password:g,options:w}=e;i=await cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},channel:(s=w==null?void 0:w.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:No})}else throw new Rp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Js(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(i){if(await Js(this.storage,`${this.storageKey}-code-verifier`),Xt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await cr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lb})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await cr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lb})}else throw new Rp("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Su;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Xt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,l,c,h,p,g,w;let y,F;if("message"in e)y=e.message,F=e.signature;else{const{chain:S,wallet:Q,statement:_,options:B}=e;let j;if(Zs())if(typeof Q=="object")j=Q;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")j=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof Q!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=Q}const T=new URL((r=B==null?void 0:B.url)!==null&&r!==void 0?r:window.location.href),V=await j.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=k4(V[0]);let G=(n=B==null?void 0:B.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!G){const Z=await j.request({method:"eth_chainId"});G=AL(Z)}const M={domain:T.host,address:K,statement:_,uri:T.href,version:"1",chainId:G,nonce:(s=B==null?void 0:B.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=B==null?void 0:B.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=B==null?void 0:B.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=B==null?void 0:B.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(h=B==null?void 0:B.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=B==null?void 0:B.signInWithEthereum)===null||p===void 0?void 0:p.resources};y=cL(M),F=await j.request({method:"personal_sign",params:[lL(y),K]})}try{const{data:S,error:Q}=await cr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:F},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:No});if(Q)throw Q;if(!S||!S.session||!S.user){const _=new Su;return this._returnResult({data:{user:null,session:null},error:_})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:Q})}catch(S){if(Xt(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,n,s,i,o,l,c,h,p,g,w,y;let F,S;if("message"in e)F=e.message,S=e.signature;else{const{chain:Q,wallet:_,statement:B,options:j}=e;let T;if(Zs())if(typeof _=="object")T=_;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))T=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const V=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const K=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),B?{statement:B}:null));let G;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")G=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)G=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)F=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),S=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");F=[`${V.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(s=(n=j==null?void 0:j.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((g=(p=j==null?void 0:j.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...j.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const K=await T.signMessage(new TextEncoder().encode(F),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=K}}try{const{data:Q,error:_}=await cr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:F,signature:Lc(S)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:No});if(_)throw _;if(!Q||!Q.session||!Q.user){const B=new Su;return this._returnResult({data:{user:null,session:null},error:B})}return Q.session&&(await this._saveSession(Q.session),await this._notifyAllSubscribers("SIGNED_IN",Q.session)),this._returnResult({data:Object.assign({},Q),error:_})}catch(Q){if(Xt(Q))return this._returnResult({data:{user:null,session:null},error:Q});throw Q}}async _exchangeCodeForSession(e){const r=await vc(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new jk;const{data:i,error:o}=await cr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:No});if(await Js(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Su;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Js(this.storage,`${this.storageKey}-code-verifier`),Xt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await cr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:No}),{data:c,error:h}=l;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c||!c.session||!c.user){const p=new Su;return this._returnResult({data:{user:null,session:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:h})}catch(r){if(Xt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Eu(this.storage,this.storageKey));const{error:g}=await cr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:l,options:c}=e,{data:h,error:p}=await cr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new Rp("You must provide either an email or phone number.")}catch(l){if(await Js(this.storage,`${this.storageKey}-code-verifier`),Xt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await cr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:No});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,h=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(s){if(Xt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Eu(this.storage,this.storageKey));const h=await cr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:tL});return!((i=h.data)===null||i===void 0)&&i.url&&Zs()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(l){if(await Js(this.storage,`${this.storageKey}-code-verifier`),Xt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ba;const{error:s}=await cr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Xt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await cr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await cr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Rp("You must provide either an email or phone number and a type")}catch(r){if(Xt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await vc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<iv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await vc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Av()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Zk(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await cr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nl}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ba}:await cr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Nl})})}catch(r){if(Xt(r))return Ek(r)&&(await this._removeSession(),await Js(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ba;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Eu(this.storage,this.storageKey));const{data:h,error:p}=await cr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Nl});if(p)throw p;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Js(this.storage,`${this.storageKey}-code-verifier`),Xt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ba;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ov(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Xt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ba;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Xt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Zs())throw new Dp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Dp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nb("No code detected.");const{data:B,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:h}=e;if(!i||!l||!o||!h)throw new Dp("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(l);let w=p+g;c&&(w=parseInt(c));const y=w-p;y*1e3<=Ku&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const F=w-g;p-F>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",F,w,p):p-F<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",F,w,p);const{data:S,error:Q}=await this._getUser(i);if(Q)throw Q;const _={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:w,refresh_token:o,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(n){if(Xt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await vc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Sk(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Js(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Tk(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Eu(this.storage,this.storageKey,!0));try{return await cr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Js(this.storage,`${this.storageKey}-code-verifier`),Xt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Xt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,h,p;const{data:g,error:w}=i;if(w)throw w;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await cr(this.fetch,"GET",y,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return Zs()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Xt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:h,nonce:p}=e,g=await cr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:No}),{data:w,error:y}=g;return y?this._returnResult({data:{user:null,session:null},error:y}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Su}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:y}))}catch(s){if(await Js(this.storage,`${this.storageKey}-code-verifier`),Xt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await cr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Xt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Mk(async s=>(s>0&&await Dk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await cr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:No})),(s,i)=>{const o=200*Math.pow(2,s);return i&&av(i)&&Date.now()+o-n<Ku})}catch(n){if(this._debug(r,"error",n),Xt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Zs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await vc(this.storage,this.storageKey);if(s&&this.userStorage){let o=await vc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await qu(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Av()}else if(s&&!s.user&&!s.user){const o=await vc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Js(this.storage,this.storageKey+"-user"),await qu(this.storage,this.storageKey,s)):s.user=Av()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<iv;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${iv}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),av(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ba;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Wg;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ba;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Xt(i)){const o={data:null,error:i};return av(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Js(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await qu(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Ub(s);await qu(this.storage,this.storageKey,i)}else{const s=Ub(r);await qu(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Js(this.storage,this.storageKey),await Js(this.storage,this.storageKey+"-code-verifier"),await Js(this.storage,this.storageKey+"-user"),this.userStorage&&await Js(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Zs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ku);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ku);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ku}ms, refresh threshold is ${cw} ticks`),s<=cw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof U4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Eu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await cr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Xt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:h}=await cr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Xt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?gL(e.webauthn.credential_response):vL(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await cr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Xt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await cr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:pL(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:mL(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Xt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ov(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await cr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ba})})}catch(r){if(Xt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ba});const o=await cr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Zs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Xt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ba});const o=await cr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Zs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Xt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await cr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ba})})}catch(e){if(Xt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await cr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ba})})}catch(r){if(Xt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Ck>s)return n;const{data:i,error:o}=await cr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:F}=await this.getSession();if(F||!y.session)return this._returnResult({data:null,error:F});n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=ov(n);r!=null&&r.allowExpired||Gk(i.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const p=$k(s.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,o,Ik(`${l}.${c}`)))throw new dw("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Xt(n))return this._returnResult({data:null,error:n});throw n}}}kf.nextInstanceID={};const SL=kf,EL="2.89.0";let Fd="";typeof Deno<"u"?Fd="deno":typeof document<"u"?Fd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fd="react-native":Fd="node";const FL={"X-Client-Info":`supabase-js-${Fd}/${EL}`},jL={headers:FL},UL={schema:"public"},kL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LL={};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function QL(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IL(t){var e=QL(t,"string");return Lf(e)=="symbol"?e:e+""}function PL(t,e,r){return(e=IL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ob(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ob(Object(r),!0).forEach(function(n){PL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const TL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),OL=()=>Headers,RL=(t,e,r)=>{const n=TL(r),s=OL();return async(i,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let h=new s(o==null?void 0:o.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),n(i,Gn(Gn({},o),{},{headers:h}))}};function DL(t){return t.endsWith("/")?t:t+"/"}function ML(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:h,realtime:p,global:g}=e,w={db:Gn(Gn({},c),s),auth:Gn(Gn({},h),i),realtime:Gn(Gn({},p),o),storage:{},global:Gn(Gn(Gn({},g),l),{},{headers:Gn(Gn({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function HL(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var KL=class extends SL{constructor(t){super(t)}},qL=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=HL(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:UL,realtime:LL,auth:Gn(Gn({},kL),{},{storageKey:o}),global:jL},c=ML(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=c.auth)!==null&&h!==void 0?h:{},this.headers,c.global.fetch)}this.fetch=RL(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Gn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new _U(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new wk(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new vU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:h},p,g){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KL({url:this.authUrl.href,headers:Gn(Gn({},w),p),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new DU(this.realtimeUrl.href,Gn(Gn({},t),{},{params:Gn(Gn({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const zL=(t,e,r)=>new qL(t,e,r);function VL(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}VL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const WL="https://luaiyowmrtxtplvundfs.supabase.co",GL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx1YWl5b3dtcnR4dHBsdnVuZGZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY0MDg2NzIsImV4cCI6MjA4MTk4NDY3Mn0.Nn60UBu9yEy8YvqxfiAUFDFUYnGHw_ZtdXVsxqWws6w",Ft=zL(WL,GL,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),$L=async(t,e,r)=>{try{const{data:n,error:s}=await Ft.storage.from(t).upload(e,r,{cacheControl:"3600",upsert:!0});if(s)return console.error("Storage upload error:",{bucket:t,path:e,error:s.message}),null;const{data:i}=Ft.storage.from(t).getPublicUrl(n.path);return i.publicUrl}catch(n){return console.error("Error uploading file:",n),null}},yc={async signIn(t,e){const{data:r,error:n}=await Ft.auth.signInWithPassword({email:t,password:e});if(n)throw n;return r},async signUp(t,e,r,n="technicien"){const{data:s,error:i}=await Ft.auth.signUp({email:t,password:e,options:{data:{full_name:r}}});if(i)throw i;if(s.user){const{error:o}=await Ft.from("profiles").update({role:n,full_name:r}).eq("id",s.user.id);if(o)throw o}return s},async signOut(){const{error:t}=await Ft.auth.signOut();if(t)throw t},async getCurrentUser(){var n,s;const{data:{session:t}}=await Ft.auth.getSession();if(!t)return null;const{data:{user:e},error:r}=await Ft.auth.getUser();if(r){if((n=r.message)!=null&&n.includes("session_not_found")||r.code==="session_not_found"||(s=r.message)!=null&&s.includes("Auth session missing"))return await Ft.auth.signOut(),null;throw r}return e},async getCurrentProfile(){const t=await this.getCurrentUser();if(!t)return null;const{data:e,error:r}=await Ft.from("profiles").select("*").eq("id",t.id).maybeSingle();if(r)throw r;return e},onAuthStateChange(t){return Ft.auth.onAuthStateChange((e,r)=>{t((r==null?void 0:r.user)??null)})}},Q4=le.createContext(void 0);function JL({children:t}){const[e,r]=le.useState(null),[n,s]=le.useState(null),[i,o]=le.useState(!0);le.useEffect(()=>{yc.getCurrentUser().then(w=>{if(r(w),w)return yc.getCurrentProfile().then(s)}).catch(w=>{console.error("Error loading user:",w),r(null),s(null)}).finally(()=>{o(!1)});const{data:g}=yc.onAuthStateChange(w=>{r(w),w?(async()=>{try{const y=await yc.getCurrentProfile();s(y)}catch(y){console.error("Error loading profile:",y),s(null)}})():s(null)});return()=>{g==null||g.subscription.unsubscribe()}},[]);const l=async(g,w)=>{await yc.signIn(g,w)},c=async(g,w,y)=>{await yc.signUp(g,w,y)},h=async()=>{await yc.signOut(),r(null),s(null)},p=(n==null?void 0:n.role)==="admin";return A.jsx(Q4.Provider,{value:{user:e,profile:n,loading:i,signIn:l,signUp:c,signOut:h,isAdmin:p},children:t})}function uo(){const t=le.useContext(Q4);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function ZL(t=6e4){const[e,r]=le.useState(!1),[n,s]=le.useState(null);return le.useEffect(()=>{let o=!0;const l=async()=>{try{const p=await fetch("/version.json?t="+Date.now(),{cache:"no-cache",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!p.ok)return;const g=p.headers.get("content-type");if(!g||!g.includes("application/json"))return;const w=await p.text();if(!w||w.trim().startsWith("<!"))return;const y=JSON.parse(w);if(!n){s(y),localStorage.setItem("app_version",JSON.stringify(y));return}y.buildTime>n.buildTime&&o&&r(!0)}catch(p){console.error("Version check failed:",p)}},c=localStorage.getItem("app_version");if(c)try{s(JSON.parse(c))}catch(p){console.error("Failed to parse stored version:",p)}l();const h=setInterval(l,t);return()=>{o=!1,clearInterval(h)}},[t,n]),{hasUpdate:e,reloadApp:()=>{localStorage.removeItem("app_version"),window.location.reload()}}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fr=(t,e)=>{const r=le.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...h},p)=>le.createElement("svg",{ref:p,...XL,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${YL(t)}`,l].join(" "),...h},[...e.map(([g,w])=>le.createElement(g,w)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=fr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=fr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=fr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=fr("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=fr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=fr("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=fr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=fr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=fr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=fr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=fr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=fr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=fr("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=fr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=fr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=fr("FileBarChart",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=fr("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=fr("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=fr("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=fr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=fr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=fr("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=fr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=fr("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=fr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=fr("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=fr("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=fr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=fr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=fr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=fr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=fr("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=fr("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=fr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=fr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=fr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=fr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=fr("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=fr("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=fr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=fr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=fr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=fr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=fr("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=fr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=fr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=fr("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=fr("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=fr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var z4={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(zv,function(){var r=function(f,x){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,k){E.__proto__=k}||function(E,k){for(var O in k)Object.prototype.hasOwnProperty.call(k,O)&&(E[O]=k[O])})(f,x)},n=function(){return(n=Object.assign||function(f){for(var x,E=1,k=arguments.length;E<k;E++)for(var O in x=arguments[E])Object.prototype.hasOwnProperty.call(x,O)&&(f[O]=x[O]);return f}).apply(this,arguments)};function s(f,x,E){for(var k,O=0,W=x.length;O<W;O++)!k&&O in x||((k=k||Array.prototype.slice.call(x,0,O))[O]=x[O]);return f.concat(k||Array.prototype.slice.call(x))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:zv,o=Object.keys,l=Array.isArray;function c(f,x){return typeof x!="object"||o(x).forEach(function(E){f[E]=x[E]}),f}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var h=Object.getPrototypeOf,p={}.hasOwnProperty;function g(f,x){return p.call(f,x)}function w(f,x){typeof x=="function"&&(x=x(h(f))),(typeof Reflect>"u"?o:Reflect.ownKeys)(x).forEach(function(E){F(f,E,x[E])})}var y=Object.defineProperty;function F(f,x,E,k){y(f,x,c(E&&g(E,"get")&&typeof E.get=="function"?{get:E.get,set:E.set,configurable:!0}:{value:E,configurable:!0,writable:!0},k))}function S(f){return{from:function(x){return f.prototype=Object.create(x.prototype),F(f.prototype,"constructor",f),{extend:w.bind(null,f.prototype)}}}}var Q=Object.getOwnPropertyDescriptor,_=[].slice;function B(f,x,E){return _.call(f,x,E)}function j(f,x){return x(f)}function T(f){if(!f)throw new Error("Assertion Failed")}function V(f){i.setImmediate?setImmediate(f):setTimeout(f,0)}function K(f,x){if(typeof x=="string"&&g(f,x))return f[x];if(!x)return f;if(typeof x!="string"){for(var E=[],k=0,O=x.length;k<O;++k){var W=K(f,x[k]);E.push(W)}return E}var Ae=x.indexOf(".");if(Ae!==-1){var ge=f[x.substr(0,Ae)];return ge==null?void 0:K(ge,x.substr(Ae+1))}}function G(f,x,E){if(f&&x!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof x!="string"&&"length"in x){T(typeof E!="string"&&"length"in E);for(var k=0,O=x.length;k<O;++k)G(f,x[k],E[k])}else{var W,Ae,ge=x.indexOf(".");ge!==-1?(W=x.substr(0,ge),(Ae=x.substr(ge+1))===""?E===void 0?l(f)&&!isNaN(parseInt(W))?f.splice(W,1):delete f[W]:f[W]=E:G(ge=!(ge=f[W])||!g(f,W)?f[W]={}:ge,Ae,E)):E===void 0?l(f)&&!isNaN(parseInt(x))?f.splice(x,1):delete f[x]:f[x]=E}}function M(f){var x,E={};for(x in f)g(f,x)&&(E[x]=f[x]);return E}var Z=[].concat;function oe(f){return Z.apply([],f)}var lt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(oe([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(x){return x+f+"Array"})}))).filter(function(f){return i[f]}),D=new Set(lt.map(function(f){return i[f]})),R=null;function re(f){return R=new WeakMap,f=function x(E){if(!E||typeof E!="object")return E;var k=R.get(E);if(k)return k;if(l(E)){k=[],R.set(E,k);for(var O=0,W=E.length;O<W;++O)k.push(x(E[O]))}else if(D.has(E.constructor))k=E;else{var Ae,ge=h(E);for(Ae in k=ge===Object.prototype?{}:Object.create(ge),R.set(E,k),E)g(E,Ae)&&(k[Ae]=x(E[Ae]))}return k}(f),R=null,f}var ae={}.toString;function Se(f){return ae.call(f).slice(8,-1)}var ve=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ue=typeof ve=="symbol"?function(f){var x;return f!=null&&(x=f[ve])&&x.apply(f)}:function(){return null};function H(f,x){return x=f.indexOf(x),0<=x&&f.splice(x,1),0<=x}var ue={};function ee(f){var x,E,k,O;if(arguments.length===1){if(l(f))return f.slice();if(this===ue&&typeof f=="string")return[f];if(O=Ue(f)){for(E=[];!(k=O.next()).done;)E.push(k.value);return E}if(f==null)return[f];if(typeof(x=f.length)!="number")return[f];for(E=new Array(x);x--;)E[x]=f[x];return E}for(x=arguments.length,E=new Array(x);x--;)E[x]=arguments[x];return E}var me=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},rt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],us=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(rt),P={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $(f,x){this.name=f,this.message=x}function se(f,x){return f+". Errors: "+Object.keys(x).map(function(E){return x[E].toString()}).filter(function(E,k,O){return O.indexOf(E)===k}).join(`
`)}function ce(f,x,E,k){this.failures=x,this.failedKeys=k,this.successCount=E,this.message=se(f,x)}function fe(f,x){this.name="BulkError",this.failures=Object.keys(x).map(function(E){return x[E]}),this.failuresByPos=x,this.message=se(f,this.failures)}S($).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(ce).from($),S(fe).from($);var Te=us.reduce(function(f,x){return f[x]=x+"Error",f},{}),ze=$,_e=us.reduce(function(f,x){var E=x+"Error";function k(O,W){this.name=E,O?typeof O=="string"?(this.message="".concat(O).concat(W?`
 `+W:""),this.inner=W||null):typeof O=="object"&&(this.message="".concat(O.name," ").concat(O.message),this.inner=O):(this.message=P[x]||E,this.inner=null)}return S(k).from(ze),f[x]=k,f},{});_e.Syntax=SyntaxError,_e.Type=TypeError,_e.Range=RangeError;var wt=rt.reduce(function(f,x){return f[x+"Error"]=_e[x],f},{}),Ke=us.reduce(function(f,x){return["Syntax","Type","Range"].indexOf(x)===-1&&(f[x+"Error"]=_e[x]),f},{});function we(){}function Ye(f){return f}function et(f,x){return f==null||f===Ye?x:function(E){return x(f(E))}}function pe(f,x){return function(){f.apply(this,arguments),x.apply(this,arguments)}}function ne(f,x){return f===we?x:function(){var E=f.apply(this,arguments);E!==void 0&&(arguments[0]=E);var k=this.onsuccess,O=this.onerror;this.onsuccess=null,this.onerror=null;var W=x.apply(this,arguments);return k&&(this.onsuccess=this.onsuccess?pe(k,this.onsuccess):k),O&&(this.onerror=this.onerror?pe(O,this.onerror):O),W!==void 0?W:E}}function it(f,x){return f===we?x:function(){f.apply(this,arguments);var E=this.onsuccess,k=this.onerror;this.onsuccess=this.onerror=null,x.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?pe(E,this.onsuccess):E),k&&(this.onerror=this.onerror?pe(k,this.onerror):k)}}function Xe(f,x){return f===we?x:function(E){var k=f.apply(this,arguments);c(E,k);var O=this.onsuccess,W=this.onerror;return this.onsuccess=null,this.onerror=null,E=x.apply(this,arguments),O&&(this.onsuccess=this.onsuccess?pe(O,this.onsuccess):O),W&&(this.onerror=this.onerror?pe(W,this.onerror):W),k===void 0?E===void 0?void 0:E:c(k,E)}}function Ze(f,x){return f===we?x:function(){return x.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function ot(f,x){return f===we?x:function(){var E=f.apply(this,arguments);if(E&&typeof E.then=="function"){for(var k=this,O=arguments.length,W=new Array(O);O--;)W[O]=arguments[O];return E.then(function(){return x.apply(k,W)})}return x.apply(this,arguments)}}Ke.ModifyError=ce,Ke.DexieError=$,Ke.BulkError=fe;var At=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ee(f){At=f}var Ie={},We=100,lt=typeof Promise>"u"?[]:function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,h(f),f];var x=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[x,h(x),f]}(),rt=lt[0],us=lt[1],lt=lt[2],us=us&&us.then,Jt=rt&&rt.constructor,Zt=!!lt,ht=function(f,x){Kr.push([f,x]),ut&&(queueMicrotask(Jn),ut=!1)},kt=!0,ut=!0,wr=[],Pt=[],Or=Ye,Ut={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:we,pgp:!1,env:{},finalize:we},_t=Ut,Kr=[],rr=0,ls=[];function xt(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var x=this._PSD=_t;if(typeof f!="function"){if(f!==Ie)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&tn(this,this._value))}this._state=null,this._value=null,++x.ref,function E(k,O){try{O(function(W){if(k._state===null){if(W===k)throw new TypeError("A promise cannot be resolved with itself.");var Ae=k._lib&&ws();W&&typeof W.then=="function"?E(k,function(ge,Ce){W instanceof xt?W._then(ge,Ce):W.then(ge,Ce)}):(k._state=!0,k._value=W,hr(k)),Ae&&Zn()}},tn.bind(null,k))}catch(W){tn(k,W)}}(this,f)}var cs={get:function(){var f=_t,x=Hi;function E(k,O){var W=this,Ae=!f.global&&(f!==_t||x!==Hi),ge=Ae&&!Fn(),Ce=new xt(function(be,Re){jr(W,new xi(fo(k,f,Ae,ge),fo(O,f,Ae,ge),be,Re,f))});return this._consoleTask&&(Ce._consoleTask=this._consoleTask),Ce}return E.prototype=Ie,E},set:function(f){F(this,"then",f&&f.prototype===Ie?cs:{get:function(){return f},set:cs.set})}};function xi(f,x,E,k,O){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof x=="function"?x:null,this.resolve=E,this.reject=k,this.psd=O}function tn(f,x){var E,k;Pt.push(x),f._state===null&&(E=f._lib&&ws(),x=Or(x),f._state=!1,f._value=x,k=f,wr.some(function(O){return O._value===k._value})||wr.push(k),hr(f),E&&Zn())}function hr(f){var x=f._listeners;f._listeners=[];for(var E=0,k=x.length;E<k;++E)jr(f,x[E]);var O=f._PSD;--O.ref||O.finalize(),rr===0&&(++rr,ht(function(){--rr==0&&Yt()},[]))}function jr(f,x){if(f._state!==null){var E=f._state?x.onFulfilled:x.onRejected;if(E===null)return(f._state?x.resolve:x.reject)(f._value);++x.psd.ref,++rr,ht(ho,[E,f,x])}else f._listeners.push(x)}function ho(f,x,E){try{var k,O=x._value;!x._state&&Pt.length&&(Pt=[]),k=At&&x._consoleTask?x._consoleTask.run(function(){return f(O)}):f(O),x._state||Pt.indexOf(O)!==-1||function(W){for(var Ae=wr.length;Ae;)if(wr[--Ae]._value===W._value)return wr.splice(Ae,1)}(x),E.resolve(k)}catch(W){E.reject(W)}finally{--rr==0&&Yt(),--E.psd.ref||E.psd.finalize()}}function Jn(){ni(Ut,function(){ws()&&Zn()})}function ws(){var f=kt;return ut=kt=!1,f}function Zn(){var f,x,E;do for(;0<Kr.length;)for(f=Kr,Kr=[],E=f.length,x=0;x<E;++x){var k=f[x];k[0].apply(null,k[1])}while(0<Kr.length);ut=kt=!0}function Yt(){var f=wr;wr=[],f.forEach(function(k){k._PSD.onunhandled.call(null,k._value,k)});for(var x=ls.slice(0),E=x.length;E;)x[--E]()}function ks(f){return new xt(Ie,!1,f)}function Nr(f,x){var E=_t;return function(){var k=ws(),O=_t;try{return Yn(E,!0),f.apply(this,arguments)}catch(W){x&&x(W)}finally{Yn(O,!1),k&&Zn()}}}w(xt.prototype,{then:cs,_then:function(f,x){jr(this,new xi(null,null,f,x,_t))},catch:function(f){if(arguments.length===1)return this.then(null,f);var x=f,E=arguments[1];return typeof x=="function"?this.then(null,function(k){return(k instanceof x?E:ks)(k)}):this.then(null,function(k){return(k&&k.name===x?E:ks)(k)})},finally:function(f){return this.then(function(x){return xt.resolve(f()).then(function(){return x})},function(x){return xt.resolve(f()).then(function(){return ks(x)})})},timeout:function(f,x){var E=this;return f<1/0?new xt(function(k,O){var W=setTimeout(function(){return O(new _e.Timeout(x))},f);E.then(k,O).finally(clearTimeout.bind(null,W))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&F(xt.prototype,Symbol.toStringTag,"Dexie.Promise"),Ut.env=Oa(),w(xt,{all:function(){var f=ee.apply(null,arguments).map(Hn);return new xt(function(x,E){f.length===0&&x([]);var k=f.length;f.forEach(function(O,W){return xt.resolve(O).then(function(Ae){f[W]=Ae,--k||x(f)},E)})})},resolve:function(f){return f instanceof xt?f:f&&typeof f.then=="function"?new xt(function(x,E){f.then(x,E)}):new xt(Ie,!0,f)},reject:ks,race:function(){var f=ee.apply(null,arguments).map(Hn);return new xt(function(x,E){f.map(function(k){return xt.resolve(k).then(x,E)})})},PSD:{get:function(){return _t},set:function(f){return _t=f}},totalEchoes:{get:function(){return Hi}},newPSD:En,usePSD:ni,scheduler:{get:function(){return ht},set:function(f){ht=f}},rejectionMapper:{get:function(){return Or},set:function(f){Or=f}},follow:function(f,x){return new xt(function(E,k){return En(function(O,W){var Ae=_t;Ae.unhandleds=[],Ae.onunhandled=W,Ae.finalize=pe(function(){var ge,Ce=this;ge=function(){Ce.unhandleds.length===0?O():W(Ce.unhandleds[0])},ls.push(function be(){ge(),ls.splice(ls.indexOf(be),1)}),++rr,ht(function(){--rr==0&&Yt()},[])},Ae.finalize),f()},x,E,k)})}}),Jt&&(Jt.allSettled&&F(xt,"allSettled",function(){var f=ee.apply(null,arguments).map(Hn);return new xt(function(x){f.length===0&&x([]);var E=f.length,k=new Array(E);f.forEach(function(O,W){return xt.resolve(O).then(function(Ae){return k[W]={status:"fulfilled",value:Ae}},function(Ae){return k[W]={status:"rejected",reason:Ae}}).then(function(){return--E||x(k)})})})}),Jt.any&&typeof AggregateError<"u"&&F(xt,"any",function(){var f=ee.apply(null,arguments).map(Hn);return new xt(function(x,E){f.length===0&&E(new AggregateError([]));var k=f.length,O=new Array(k);f.forEach(function(W,Ae){return xt.resolve(W).then(function(ge){return x(ge)},function(ge){O[Ae]=ge,--k||E(new AggregateError(O))})})})}),Jt.withResolvers&&(xt.withResolvers=Jt.withResolvers));var Qr={awaits:0,echoes:0,id:0},Rr=0,Lt=[],Xn=0,Hi=0,Ki=0;function En(f,x,E,k){var O=_t,W=Object.create(O);return W.parent=O,W.ref=0,W.global=!1,W.id=++Ki,Ut.env,W.env=Zt?{Promise:xt,PromiseProp:{value:xt,configurable:!0,writable:!0},all:xt.all,race:xt.race,allSettled:xt.allSettled,any:xt.any,resolve:xt.resolve,reject:xt.reject}:{},x&&c(W,x),++O.ref,W.finalize=function(){--this.parent.ref||this.parent.finalize()},k=ni(W,f,E,k),W.ref===0&&W.finalize(),k}function Mn(){return Qr.id||(Qr.id=++Rr),++Qr.awaits,Qr.echoes+=We,Qr.id}function Fn(){return!!Qr.awaits&&(--Qr.awaits==0&&(Qr.id=0),Qr.echoes=Qr.awaits*We,!0)}function Hn(f){return Qr.echoes&&f&&f.constructor===Jt?(Mn(),f.then(function(x){return Fn(),x},function(x){return Fn(),qr(x)})):f}function Hs(){var f=Lt[Lt.length-1];Lt.pop(),Yn(f,!1)}function Yn(f,x){var E,k=_t;(x?!Qr.echoes||Xn++&&f===_t:!Xn||--Xn&&f===_t)||queueMicrotask(x?(function(O){++Hi,Qr.echoes&&--Qr.echoes!=0||(Qr.echoes=Qr.awaits=Qr.id=0),Lt.push(_t),Yn(O,!0)}).bind(null,f):Hs),f!==_t&&(_t=f,k===Ut&&(Ut.env=Oa()),Zt&&(E=Ut.env.Promise,x=f.env,(k.global||f.global)&&(Object.defineProperty(i,"Promise",x.PromiseProp),E.all=x.all,E.race=x.race,E.resolve=x.resolve,E.reject=x.reject,x.allSettled&&(E.allSettled=x.allSettled),x.any&&(E.any=x.any))))}function Oa(){var f=i.Promise;return Zt?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function ni(f,x,E,k,O){var W=_t;try{return Yn(f,!0),x(E,k,O)}finally{Yn(W,!1)}}function fo(f,x,E,k){return typeof f!="function"?f:function(){var O=_t;E&&Mn(),Yn(x,!0);try{return f.apply(this,arguments)}finally{Yn(O,!1),k&&queueMicrotask(Fn)}}}function la(f){Promise===Jt&&Qr.echoes===0?Xn===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+us).indexOf("[native code]")===-1&&(Mn=Fn=we);var qr=xt.reject,Ks="",bi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",sl="String expected.",_i=[],po="__dbnames",_A="readonly",ca="readwrite";function qs(f,x){return f?x?function(){return f.apply(this,arguments)&&x.apply(this,arguments)}:f:x}var Vo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function mo(f){return typeof f!="string"||/\./.test(f)?function(x){return x}:function(x){return x[f]===void 0&&f in x&&delete(x=re(x))[f],x}}function Bi(){throw _e.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Dt(f,x){try{var E=pr(f),k=pr(x);if(E!==k)return E==="Array"?1:k==="Array"?-1:E==="binary"?1:k==="binary"?-1:E==="string"?1:k==="string"?-1:E==="Date"?1:k!=="Date"?NaN:-1;switch(E){case"number":case"Date":case"string":return x<f?1:f<x?-1:0;case"binary":return function(O,W){for(var Ae=O.length,ge=W.length,Ce=Ae<ge?Ae:ge,be=0;be<Ce;++be)if(O[be]!==W[be])return O[be]<W[be]?-1:1;return Ae===ge?0:Ae<ge?-1:1}(Ra(f),Ra(x));case"Array":return function(O,W){for(var Ae=O.length,ge=W.length,Ce=Ae<ge?Ae:ge,be=0;be<Ce;++be){var Re=Dt(O[be],W[be]);if(Re!==0)return Re}return Ae===ge?0:Ae<ge?-1:1}(f,x)}}catch{}return NaN}function pr(f){var x=typeof f;return x!="object"?x:ArrayBuffer.isView(f)?"binary":(f=Se(f),f==="ArrayBuffer"?"binary":f)}function Ra(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}function si(f,x,E){var k=f.schema.yProps;return k?(x&&0<E.numFailures&&(x=x.filter(function(O,W){return!E.failures[W]})),Promise.all(k.map(function(O){return O=O.updatesTable,x?f.db.table(O).where("k").anyOf(x).delete():f.db.table(O).clear()})).then(function(){return E})):E}var zs=(Da.prototype.execute=function(f){var x=this["@@propmod"];if(x.add!==void 0){var E=x.add;if(l(E))return s(s([],l(f)?f:[],!0),E).sort();if(typeof E=="number")return(Number(f)||0)+E;if(typeof E=="bigint")try{return BigInt(f)+E}catch{return BigInt(0)+E}throw new TypeError("Invalid term ".concat(E))}if(x.remove!==void 0){var k=x.remove;if(l(k))return l(f)?f.filter(function(O){return!k.includes(O)}).sort():[];if(typeof k=="number")return Number(f)-k;if(typeof k=="bigint")try{return BigInt(f)-k}catch{return BigInt(0)-k}throw new TypeError("Invalid subtrahend ".concat(k))}return E=(E=x.replacePrefix)===null||E===void 0?void 0:E[0],E&&typeof f=="string"&&f.startsWith(E)?x.replacePrefix[1]+f.substring(E.length):f},Da);function Da(f){this["@@propmod"]=f}function mr(f,x){for(var E=o(x),k=E.length,O=!1,W=0;W<k;++W){var Ae=E[W],ge=x[Ae],Ce=K(f,Ae);ge instanceof zs?(G(f,Ae,ge.execute(Ce)),O=!0):Ce!==ge&&(G(f,Ae,ge),O=!0)}return O}var Ur=(Sr.prototype._trans=function(f,x,E){var k=this._tx||_t.trans,O=this.name,W=At&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function Ae(be,Re,ye){if(!ye.schema[O])throw new _e.NotFound("Table "+O+" not part of transaction");return x(ye.idbtrans,ye)}var ge=ws();try{var Ce=k&&k.db._novip===this.db._novip?k===_t.trans?k._promise(f,Ae,E):En(function(){return k._promise(f,Ae,E)},{trans:k,transless:_t.transless||_t}):function be(Re,ye,De,Fe){if(Re.idbdb&&(Re._state.openComplete||_t.letThrough||Re._vip)){var Le=Re._createTransaction(ye,De,Re._dbSchema);try{Le.create(),Re._state.PR1398_maxLoop=3}catch(Qe){return Qe.name===Te.InvalidState&&Re.isOpen()&&0<--Re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Re.close({disableAutoOpen:!1}),Re.open().then(function(){return be(Re,ye,De,Fe)})):qr(Qe)}return Le._promise(ye,function(Qe,Pe){return En(function(){return _t.trans=Le,Fe(Qe,Pe,Le)})}).then(function(Qe){if(ye==="readwrite")try{Le.idbtrans.commit()}catch{}return ye==="readonly"?Qe:Le._completion.then(function(){return Qe})})}if(Re._state.openComplete)return qr(new _e.DatabaseClosed(Re._state.dbOpenError));if(!Re._state.isBeingOpened){if(!Re._state.autoOpen)return qr(new _e.DatabaseClosed);Re.open().catch(we)}return Re._state.dbReadyPromise.then(function(){return be(Re,ye,De,Fe)})}(this.db,f,[this.name],Ae);return W&&(Ce._consoleTask=W,Ce=Ce.catch(function(be){return console.trace(be),qr(be)})),Ce}finally{ge&&Zn()}},Sr.prototype.get=function(f,x){var E=this;return f&&f.constructor===Object?this.where(f).first(x):f==null?qr(new _e.Type("Invalid argument to Table.get()")):this._trans("readonly",function(k){return E.core.get({trans:k,key:f}).then(function(O){return E.hook.reading.fire(O)})}).then(x)},Sr.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(l(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var x=o(f);if(x.length===1)return this.where(x[0]).equals(f[x[0]]);var E=this.schema.indexes.concat(this.schema.primKey).filter(function(ge){if(ge.compound&&x.every(function(be){return 0<=ge.keyPath.indexOf(be)})){for(var Ce=0;Ce<x.length;++Ce)if(x.indexOf(ge.keyPath[Ce])===-1)return!1;return!0}return!1}).sort(function(ge,Ce){return ge.keyPath.length-Ce.keyPath.length})[0];if(E&&this.db._maxKey!==Ks){var W=E.keyPath.slice(0,x.length);return this.where(W).equals(W.map(function(Ce){return f[Ce]}))}!E&&At&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(x.join("+"),"]"));var k=this.schema.idxByName;function O(ge,Ce){return Dt(ge,Ce)===0}var Ae=x.reduce(function(ye,Ce){var be=ye[0],Re=ye[1],ye=k[Ce],De=f[Ce];return[be||ye,be||!ye?qs(Re,ye&&ye.multi?function(Fe){return Fe=K(Fe,Ce),l(Fe)&&Fe.some(function(Le){return O(De,Le)})}:function(Fe){return O(De,K(Fe,Ce))}):Re]},[null,null]),W=Ae[0],Ae=Ae[1];return W?this.where(W.name).equals(f[W.keyPath]).filter(Ae):E?this.filter(Ae):this.where(x).equals("")},Sr.prototype.filter=function(f){return this.toCollection().and(f)},Sr.prototype.count=function(f){return this.toCollection().count(f)},Sr.prototype.offset=function(f){return this.toCollection().offset(f)},Sr.prototype.limit=function(f){return this.toCollection().limit(f)},Sr.prototype.each=function(f){return this.toCollection().each(f)},Sr.prototype.toArray=function(f){return this.toCollection().toArray(f)},Sr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Sr.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,l(f)?"[".concat(f.join("+"),"]"):f))},Sr.prototype.reverse=function(){return this.toCollection().reverse()},Sr.prototype.mapToClass=function(f){var x,E=this.db,k=this.name;function O(){return x!==null&&x.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof Bi&&(function(Ce,be){if(typeof be!="function"&&be!==null)throw new TypeError("Class extends value "+String(be)+" is not a constructor or null");function Re(){this.constructor=Ce}r(Ce,be),Ce.prototype=be===null?Object.create(be):(Re.prototype=be.prototype,new Re)}(O,x=f),Object.defineProperty(O.prototype,"db",{get:function(){return E},enumerable:!1,configurable:!0}),O.prototype.table=function(){return k},f=O);for(var W=new Set,Ae=f.prototype;Ae;Ae=h(Ae))Object.getOwnPropertyNames(Ae).forEach(function(Ce){return W.add(Ce)});function ge(Ce){if(!Ce)return Ce;var be,Re=Object.create(f.prototype);for(be in Ce)if(!W.has(be))try{Re[be]=Ce[be]}catch{}return Re}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ge,this.hook("reading",ge),f},Sr.prototype.defineClass=function(){return this.mapToClass(function(f){c(this,f)})},Sr.prototype.add=function(f,x){var E=this,k=this.schema.primKey,O=k.auto,W=k.keyPath,Ae=f;return W&&O&&(Ae=mo(W)(f)),this._trans("readwrite",function(ge){return E.core.mutate({trans:ge,type:"add",keys:x!=null?[x]:null,values:[Ae]})}).then(function(ge){return ge.numFailures?xt.reject(ge.failures[0]):ge.lastResult}).then(function(ge){if(W)try{G(f,W,ge)}catch{}return ge})},Sr.prototype.upsert=function(f,x){var E=this,k=this.schema.primKey.keyPath;return this._trans("readwrite",function(O){return E.core.get({trans:O,key:f}).then(function(W){var Ae=W??{};return mr(Ae,x),k&&G(Ae,k,f),E.core.mutate({trans:O,type:"put",values:[Ae],keys:[f],upsert:!0,updates:{keys:[f],changeSpecs:[x]}}).then(function(ge){return ge.numFailures?xt.reject(ge.failures[0]):!!W})})})},Sr.prototype.update=function(f,x){return typeof f!="object"||l(f)?this.where(":id").equals(f).modify(x):(f=K(f,this.schema.primKey.keyPath),f===void 0?qr(new _e.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(x))},Sr.prototype.put=function(f,x){var E=this,k=this.schema.primKey,O=k.auto,W=k.keyPath,Ae=f;return W&&O&&(Ae=mo(W)(f)),this._trans("readwrite",function(ge){return E.core.mutate({trans:ge,type:"put",values:[Ae],keys:x!=null?[x]:null})}).then(function(ge){return ge.numFailures?xt.reject(ge.failures[0]):ge.lastResult}).then(function(ge){if(W)try{G(f,W,ge)}catch{}return ge})},Sr.prototype.delete=function(f){var x=this;return this._trans("readwrite",function(E){return x.core.mutate({trans:E,type:"delete",keys:[f]}).then(function(k){return si(x,[f],k)}).then(function(k){return k.numFailures?xt.reject(k.failures[0]):void 0})})},Sr.prototype.clear=function(){var f=this;return this._trans("readwrite",function(x){return f.core.mutate({trans:x,type:"deleteRange",range:Vo}).then(function(E){return si(f,null,E)})}).then(function(x){return x.numFailures?xt.reject(x.failures[0]):void 0})},Sr.prototype.bulkGet=function(f){var x=this;return this._trans("readonly",function(E){return x.core.getMany({keys:f,trans:E}).then(function(k){return k.map(function(O){return x.hook.reading.fire(O)})})})},Sr.prototype.bulkAdd=function(f,x,E){var k=this,O=Array.isArray(x)?x:void 0,W=(E=E||(O?void 0:x))?E.allKeys:void 0;return this._trans("readwrite",function(Ae){var be=k.schema.primKey,ge=be.auto,be=be.keyPath;if(be&&O)throw new _e.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(O&&O.length!==f.length)throw new _e.InvalidArgument("Arguments objects and keys must have the same length");var Ce=f.length,be=be&&ge?f.map(mo(be)):f;return k.core.mutate({trans:Ae,type:"add",keys:O,values:be,wantResults:W}).then(function(Le){var ye=Le.numFailures,De=Le.results,Fe=Le.lastResult,Le=Le.failures;if(ye===0)return W?De:Fe;throw new fe("".concat(k.name,".bulkAdd(): ").concat(ye," of ").concat(Ce," operations failed"),Le)})})},Sr.prototype.bulkPut=function(f,x,E){var k=this,O=Array.isArray(x)?x:void 0,W=(E=E||(O?void 0:x))?E.allKeys:void 0;return this._trans("readwrite",function(Ae){var be=k.schema.primKey,ge=be.auto,be=be.keyPath;if(be&&O)throw new _e.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(O&&O.length!==f.length)throw new _e.InvalidArgument("Arguments objects and keys must have the same length");var Ce=f.length,be=be&&ge?f.map(mo(be)):f;return k.core.mutate({trans:Ae,type:"put",keys:O,values:be,wantResults:W}).then(function(Le){var ye=Le.numFailures,De=Le.results,Fe=Le.lastResult,Le=Le.failures;if(ye===0)return W?De:Fe;throw new fe("".concat(k.name,".bulkPut(): ").concat(ye," of ").concat(Ce," operations failed"),Le)})})},Sr.prototype.bulkUpdate=function(f){var x=this,E=this.core,k=f.map(function(Ae){return Ae.key}),O=f.map(function(Ae){return Ae.changes}),W=[];return this._trans("readwrite",function(Ae){return E.getMany({trans:Ae,keys:k,cache:"clone"}).then(function(ge){var Ce=[],be=[];f.forEach(function(ye,De){var Fe=ye.key,Le=ye.changes,Qe=ge[De];if(Qe){for(var Pe=0,qe=Object.keys(Le);Pe<qe.length;Pe++){var Ge=qe[Pe],st=Le[Ge];if(Ge===x.schema.primKey.keyPath){if(Dt(st,Fe)!==0)throw new _e.Constraint("Cannot update primary key in bulkUpdate()")}else G(Qe,Ge,st)}W.push(De),Ce.push(Fe),be.push(Qe)}});var Re=Ce.length;return E.mutate({trans:Ae,type:"put",keys:Ce,values:be,updates:{keys:k,changeSpecs:O}}).then(function(ye){var De=ye.numFailures,Fe=ye.failures;if(De===0)return Re;for(var Le=0,Qe=Object.keys(Fe);Le<Qe.length;Le++){var Pe,qe=Qe[Le],Ge=W[Number(qe)];Ge!=null&&(Pe=Fe[qe],delete Fe[qe],Fe[Ge]=Pe)}throw new fe("".concat(x.name,".bulkUpdate(): ").concat(De," of ").concat(Re," operations failed"),Fe)})})})},Sr.prototype.bulkDelete=function(f){var x=this,E=f.length;return this._trans("readwrite",function(k){return x.core.mutate({trans:k,type:"delete",keys:f}).then(function(O){return si(x,f,O)})}).then(function(Ae){var O=Ae.numFailures,W=Ae.lastResult,Ae=Ae.failures;if(O===0)return W;throw new fe("".concat(x.name,".bulkDelete(): ").concat(O," of ").concat(E," operations failed"),Ae)})},Sr);function Sr(){}function fn(f){function x(Ae,ge){if(ge){for(var Ce=arguments.length,be=new Array(Ce-1);--Ce;)be[Ce-1]=arguments[Ce];return E[Ae].subscribe.apply(null,be),f}if(typeof Ae=="string")return E[Ae]}var E={};x.addEventType=W;for(var k=1,O=arguments.length;k<O;++k)W(arguments[k]);return x;function W(Ae,ge,Ce){if(typeof Ae!="object"){var be;ge=ge||Ze;var Re={subscribers:[],fire:Ce=Ce||we,subscribe:function(ye){Re.subscribers.indexOf(ye)===-1&&(Re.subscribers.push(ye),Re.fire=ge(Re.fire,ye))},unsubscribe:function(ye){Re.subscribers=Re.subscribers.filter(function(De){return De!==ye}),Re.fire=Re.subscribers.reduce(ge,Ce)}};return E[Ae]=x[Ae]=Re}o(be=Ae).forEach(function(ye){var De=be[ye];if(l(De))W(ye,be[ye][0],be[ye][1]);else{if(De!=="asap")throw new _e.InvalidArgument("Invalid event config");var Fe=W(ye,Ye,function(){for(var Le=arguments.length,Qe=new Array(Le);Le--;)Qe[Le]=arguments[Le];Fe.subscribers.forEach(function(Pe){V(function(){Pe.apply(null,Qe)})})})}})}}function wn(f,x){return S(x).from({prototype:f}),x}function ua(f,x){return!(f.filter||f.algorithm||f.or)&&(x?f.justLimit:!f.replayFilter)}function Ma(f,x){f.filter=qs(f.filter,x)}function ii(f,x,E){var k=f.replayFilter;f.replayFilter=k?function(){return qs(k(),x())}:x,f.justLimit=E&&!k}function Gr(f,x){if(f.isPrimKey)return x.primaryKey;var E=x.getIndexByKeyPath(f.index);if(!E)throw new _e.Schema("KeyPath "+f.index+" on object store "+x.name+" is not indexed");return E}function Ci(f,x,E){var k=Gr(f,x.schema);return x.openCursor({trans:E,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:k,range:f.range}})}function qi(f,x,E,k){var O=f.replayFilter?qs(f.filter,f.replayFilter()):f.filter;if(f.or){var W={},Ae=function(ge,Ce,be){var Re,ye;O&&!O(Ce,be,function(De){return Ce.stop(De)},function(De){return Ce.fail(De)})||((ye=""+(Re=Ce.primaryKey))=="[object ArrayBuffer]"&&(ye=""+new Uint8Array(Re)),g(W,ye)||(W[ye]=!0,x(ge,Ce,be)))};return Promise.all([f.or._iterate(Ae,E),zi(Ci(f,k,E),f.algorithm,Ae,!f.keysOnly&&f.valueMapper)])}return zi(Ci(f,k,E),qs(f.algorithm,O),x,!f.keysOnly&&f.valueMapper)}function zi(f,x,E,k){var O=Nr(k?function(W,Ae,ge){return E(k(W),Ae,ge)}:E);return f.then(function(W){if(W)return W.start(function(){var Ae=function(){return W.continue()};x&&!x(W,function(ge){return Ae=ge},function(ge){W.stop(ge),Ae=we},function(ge){W.fail(ge),Ae=we})||O(W.value,W,function(ge){return Ae=ge}),Ae()})})}var BA=(xr.prototype._read=function(f,x){var E=this._ctx;return E.error?E.table._trans(null,qr.bind(null,E.error)):E.table._trans("readonly",f).then(x)},xr.prototype._write=function(f){var x=this._ctx;return x.error?x.table._trans(null,qr.bind(null,x.error)):x.table._trans("readwrite",f,"locked")},xr.prototype._addAlgorithm=function(f){var x=this._ctx;x.algorithm=qs(x.algorithm,f)},xr.prototype._iterate=function(f,x){return qi(this._ctx,f,x,this._ctx.table.core)},xr.prototype.clone=function(f){var x=Object.create(this.constructor.prototype),E=Object.create(this._ctx);return f&&c(E,f),x._ctx=E,x},xr.prototype.raw=function(){return this._ctx.valueMapper=null,this},xr.prototype.each=function(f){var x=this._ctx;return this._read(function(E){return qi(x,f,E,x.table.core)})},xr.prototype.count=function(f){var x=this;return this._read(function(E){var k=x._ctx,O=k.table.core;if(ua(k,!0))return O.count({trans:E,query:{index:Gr(k,O.schema),range:k.range}}).then(function(Ae){return Math.min(Ae,k.limit)});var W=0;return qi(k,function(){return++W,!1},E,O).then(function(){return W})}).then(f)},xr.prototype.sortBy=function(f,x){var E=f.split(".").reverse(),k=E[0],O=E.length-1;function W(Ce,be){return be?W(Ce[E[be]],be-1):Ce[k]}var Ae=this._ctx.dir==="next"?1:-1;function ge(Ce,be){return Dt(W(Ce,O),W(be,O))*Ae}return this.toArray(function(Ce){return Ce.sort(ge)}).then(x)},xr.prototype.toArray=function(f){var x=this;return this._read(function(E){var k=x._ctx;if(k.dir==="next"&&ua(k,!0)&&0<k.limit){var O=k.valueMapper,W=Gr(k,k.table.core.schema);return k.table.core.query({trans:E,limit:k.limit,values:!0,query:{index:W,range:k.range}}).then(function(ge){return ge=ge.result,O?ge.map(O):ge})}var Ae=[];return qi(k,function(ge){return Ae.push(ge)},E,k.table.core).then(function(){return Ae})},f)},xr.prototype.offset=function(f){var x=this._ctx;return f<=0||(x.offset+=f,ua(x)?ii(x,function(){var E=f;return function(k,O){return E===0||(E===1?--E:O(function(){k.advance(E),E=0}),!1)}}):ii(x,function(){var E=f;return function(){return--E<0}})),this},xr.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),ii(this._ctx,function(){var x=f;return function(E,k,O){return--x<=0&&k(O),0<=x}},!0),this},xr.prototype.until=function(f,x){return Ma(this._ctx,function(E,k,O){return!f(E.value)||(k(O),x)}),this},xr.prototype.first=function(f){return this.limit(1).toArray(function(x){return x[0]}).then(f)},xr.prototype.last=function(f){return this.reverse().first(f)},xr.prototype.filter=function(f){var x;return Ma(this._ctx,function(E){return f(E.value)}),(x=this._ctx).isMatch=qs(x.isMatch,f),this},xr.prototype.and=function(f){return this.filter(f)},xr.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},xr.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},xr.prototype.desc=function(){return this.reverse()},xr.prototype.eachKey=function(f){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(E,k){f(k.key,k)})},xr.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},xr.prototype.eachPrimaryKey=function(f){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(E,k){f(k.primaryKey,k)})},xr.prototype.keys=function(f){var x=this._ctx;x.keysOnly=!x.isMatch;var E=[];return this.each(function(k,O){E.push(O.key)}).then(function(){return E}).then(f)},xr.prototype.primaryKeys=function(f){var x=this._ctx;if(x.dir==="next"&&ua(x,!0)&&0<x.limit)return this._read(function(k){var O=Gr(x,x.table.core.schema);return x.table.core.query({trans:k,values:!1,limit:x.limit,query:{index:O,range:x.range}})}).then(function(k){return k.result}).then(f);x.keysOnly=!x.isMatch;var E=[];return this.each(function(k,O){E.push(O.primaryKey)}).then(function(){return E}).then(f)},xr.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},xr.prototype.firstKey=function(f){return this.limit(1).keys(function(x){return x[0]}).then(f)},xr.prototype.lastKey=function(f){return this.reverse().firstKey(f)},xr.prototype.distinct=function(){var f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];if(!f||!f.multi)return this;var x={};return Ma(this._ctx,function(O){var k=O.primaryKey.toString(),O=g(x,k);return x[k]=!0,!O}),this},xr.prototype.modify=function(f){var x=this,E=this._ctx;return this._write(function(k){var O=typeof f=="function"?f:function(Qe){return mr(Qe,f)},W=E.table.core,be=W.schema.primaryKey,Ae=be.outbound,ge=be.extractKey,Ce=200,be=x.db._options.modifyChunkSize;be&&(Ce=typeof be=="object"?be[W.name]||be["*"]||200:be);function Re(Qe,Ge){var qe=Ge.failures,Ge=Ge.numFailures;De+=Qe-Ge;for(var st=0,ct=o(qe);st<ct.length;st++){var Ct=ct[st];ye.push(qe[Ct])}}var ye=[],De=0,Fe=[],Le=f===Wo;return x.clone().primaryKeys().then(function(Qe){function Pe(Ge){var st=Math.min(Ce,Qe.length-Ge),ct=Qe.slice(Ge,Ge+st);return(Le?Promise.resolve([]):W.getMany({trans:k,keys:ct,cache:"immutable"})).then(function(Ct){var jt=[],bt=[],Bt=Ae?[]:null,Nt=Le?ct:[];if(!Le)for(var mt=0;mt<st;++mt){var St=Ct[mt],Vt={value:re(St),primKey:Qe[Ge+mt]};O.call(Vt,Vt.value,Vt)!==!1&&(Vt.value==null?Nt.push(Qe[Ge+mt]):Ae||Dt(ge(St),ge(Vt.value))===0?(bt.push(Vt.value),Ae&&Bt.push(Qe[Ge+mt])):(Nt.push(Qe[Ge+mt]),jt.push(Vt.value)))}return Promise.resolve(0<jt.length&&W.mutate({trans:k,type:"add",values:jt}).then(function(Kt){for(var or in Kt.failures)Nt.splice(parseInt(or),1);Re(jt.length,Kt)})).then(function(){return(0<bt.length||qe&&typeof f=="object")&&W.mutate({trans:k,type:"put",keys:Bt,values:bt,criteria:qe,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<Ge}).then(function(Kt){return Re(bt.length,Kt)})}).then(function(){return(0<Nt.length||qe&&Le)&&W.mutate({trans:k,type:"delete",keys:Nt,criteria:qe,isAdditionalChunk:0<Ge}).then(function(Kt){return si(E.table,Nt,Kt)}).then(function(Kt){return Re(Nt.length,Kt)})}).then(function(){return Qe.length>Ge+st&&Pe(Ge+Ce)})})}var qe=ua(E)&&E.limit===1/0&&(typeof f!="function"||Le)&&{index:E.index,range:E.range};return Pe(0).then(function(){if(0<ye.length)throw new ce("Error modifying one or more objects",ye,De,Fe);return Qe.length})})})},xr.prototype.delete=function(){var f=this._ctx,x=f.range;return!ua(f)||f.table.schema.yProps||!f.isPrimKey&&x.type!==3?this.modify(Wo):this._write(function(E){var k=f.table.core.schema.primaryKey,O=x;return f.table.core.count({trans:E,query:{index:k,range:O}}).then(function(W){return f.table.core.mutate({trans:E,type:"deleteRange",range:O}).then(function(Ce){var ge=Ce.failures,Ce=Ce.numFailures;if(Ce)throw new ce("Could not delete some values",Object.keys(ge).map(function(be){return ge[be]}),W-Ce);return W-Ce})})})},xr);function xr(){}var Wo=function(f,x){return x.value=null};function Ni(f,x){return f<x?-1:f===x?0:1}function ha(f,x){return x<f?-1:f===x?0:1}function xn(f,x,E){return f=f instanceof Ar?new f.Collection(f):f,f._ctx.error=new(E||TypeError)(x),f}function Si(f){return new f.Collection(f,function(){return go("")}).limit(0)}function cn(f,x,E,k){var O,W,Ae,ge,Ce,be,Re,ye=E.length;if(!E.every(function(Le){return typeof Le=="string"}))return xn(f,sl);function De(Le){O=Le==="next"?function(Pe){return Pe.toUpperCase()}:function(Pe){return Pe.toLowerCase()},W=Le==="next"?function(Pe){return Pe.toLowerCase()}:function(Pe){return Pe.toUpperCase()},Ae=Le==="next"?Ni:ha;var Qe=E.map(function(Pe){return{lower:W(Pe),upper:O(Pe)}}).sort(function(Pe,qe){return Ae(Pe.lower,qe.lower)});ge=Qe.map(function(Pe){return Pe.upper}),Ce=Qe.map(function(Pe){return Pe.lower}),Re=(be=Le)==="next"?"":k}De("next"),f=new f.Collection(f,function(){return Ei(ge[0],Ce[ye-1]+k)}),f._ondirectionchange=function(Le){De(Le)};var Fe=0;return f._addAlgorithm(function(Le,Qe,Pe){var qe=Le.key;if(typeof qe!="string")return!1;var Ge=W(qe);if(x(Ge,Ce,Fe))return!0;for(var st=null,ct=Fe;ct<ye;++ct){var Ct=function(jt,bt,Bt,Nt,mt,St){for(var Vt=Math.min(jt.length,Nt.length),Kt=-1,or=0;or<Vt;++or){var qn=bt[or];if(qn!==Nt[or])return mt(jt[or],Bt[or])<0?jt.substr(0,or)+Bt[or]+Bt.substr(or+1):mt(jt[or],Nt[or])<0?jt.substr(0,or)+Nt[or]+Bt.substr(or+1):0<=Kt?jt.substr(0,Kt)+bt[Kt]+Bt.substr(Kt+1):null;mt(jt[or],qn)<0&&(Kt=or)}return Vt<Nt.length&&St==="next"?jt+Bt.substr(jt.length):Vt<jt.length&&St==="prev"?jt.substr(0,Bt.length):Kt<0?null:jt.substr(0,Kt)+Nt[Kt]+Bt.substr(Kt+1)}(qe,Ge,ge[ct],Ce[ct],Ae,be);Ct===null&&st===null?Fe=ct+1:(st===null||0<Ae(st,Ct))&&(st=Ct)}return Qe(st!==null?function(){Le.continue(st+Re)}:Pe),!1}),f}function Ei(f,x,E,k){return{type:2,lower:f,upper:x,lowerOpen:E,upperOpen:k}}function go(f){return{type:1,lower:f,upper:f}}var Ar=(Object.defineProperty(Gt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Gt.prototype.between=function(f,x,E,k){E=E!==!1,k=k===!0;try{return 0<this._cmp(f,x)||this._cmp(f,x)===0&&(E||k)&&(!E||!k)?Si(this):new this.Collection(this,function(){return Ei(f,x,!E,!k)})}catch{return xn(this,bi)}},Gt.prototype.equals=function(f){return f==null?xn(this,bi):new this.Collection(this,function(){return go(f)})},Gt.prototype.above=function(f){return f==null?xn(this,bi):new this.Collection(this,function(){return Ei(f,void 0,!0)})},Gt.prototype.aboveOrEqual=function(f){return f==null?xn(this,bi):new this.Collection(this,function(){return Ei(f,void 0,!1)})},Gt.prototype.below=function(f){return f==null?xn(this,bi):new this.Collection(this,function(){return Ei(void 0,f,!1,!0)})},Gt.prototype.belowOrEqual=function(f){return f==null?xn(this,bi):new this.Collection(this,function(){return Ei(void 0,f)})},Gt.prototype.startsWith=function(f){return typeof f!="string"?xn(this,sl):this.between(f,f+Ks,!0,!0)},Gt.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):cn(this,function(x,E){return x.indexOf(E[0])===0},[f],Ks)},Gt.prototype.equalsIgnoreCase=function(f){return cn(this,function(x,E){return x===E[0]},[f],"")},Gt.prototype.anyOfIgnoreCase=function(){var f=ee.apply(ue,arguments);return f.length===0?Si(this):cn(this,function(x,E){return E.indexOf(x)!==-1},f,"")},Gt.prototype.startsWithAnyOfIgnoreCase=function(){var f=ee.apply(ue,arguments);return f.length===0?Si(this):cn(this,function(x,E){return E.some(function(k){return x.indexOf(k)===0})},f,Ks)},Gt.prototype.anyOf=function(){var f=this,x=ee.apply(ue,arguments),E=this._cmp;try{x.sort(E)}catch{return xn(this,bi)}if(x.length===0)return Si(this);var k=new this.Collection(this,function(){return Ei(x[0],x[x.length-1])});k._ondirectionchange=function(W){E=W==="next"?f._ascending:f._descending,x.sort(E)};var O=0;return k._addAlgorithm(function(W,Ae,ge){for(var Ce=W.key;0<E(Ce,x[O]);)if(++O===x.length)return Ae(ge),!1;return E(Ce,x[O])===0||(Ae(function(){W.continue(x[O])}),!1)}),k},Gt.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Gt.prototype.noneOf=function(){var f=ee.apply(ue,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return xn(this,bi)}var x=f.reduce(function(E,k){return E?E.concat([[E[E.length-1][1],k]]):[[-1/0,k]]},null);return x.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(x,{includeLowers:!1,includeUppers:!1})},Gt.prototype.inAnyRange=function(qe,x){var E=this,k=this._cmp,O=this._ascending,W=this._descending,Ae=this._min,ge=this._max;if(qe.length===0)return Si(this);if(!qe.every(function(Ge){return Ge[0]!==void 0&&Ge[1]!==void 0&&O(Ge[0],Ge[1])<=0}))return xn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",_e.InvalidArgument);var Ce=!x||x.includeLowers!==!1,be=x&&x.includeUppers===!0,Re,ye=O;function De(Ge,st){return ye(Ge[0],st[0])}try{(Re=qe.reduce(function(Ge,st){for(var ct=0,Ct=Ge.length;ct<Ct;++ct){var jt=Ge[ct];if(k(st[0],jt[1])<0&&0<k(st[1],jt[0])){jt[0]=Ae(jt[0],st[0]),jt[1]=ge(jt[1],st[1]);break}}return ct===Ct&&Ge.push(st),Ge},[])).sort(De)}catch{return xn(this,bi)}var Fe=0,Le=be?function(Ge){return 0<O(Ge,Re[Fe][1])}:function(Ge){return 0<=O(Ge,Re[Fe][1])},Qe=Ce?function(Ge){return 0<W(Ge,Re[Fe][0])}:function(Ge){return 0<=W(Ge,Re[Fe][0])},Pe=Le,qe=new this.Collection(this,function(){return Ei(Re[0][0],Re[Re.length-1][1],!Ce,!be)});return qe._ondirectionchange=function(Ge){ye=Ge==="next"?(Pe=Le,O):(Pe=Qe,W),Re.sort(De)},qe._addAlgorithm(function(Ge,st,ct){for(var Ct,jt=Ge.key;Pe(jt);)if(++Fe===Re.length)return st(ct),!1;return!Le(Ct=jt)&&!Qe(Ct)||(E._cmp(jt,Re[Fe][1])===0||E._cmp(jt,Re[Fe][0])===0||st(function(){ye===O?Ge.continue(Re[Fe][0]):Ge.continue(Re[Fe][1])}),!1)}),qe},Gt.prototype.startsWithAnyOf=function(){var f=ee.apply(ue,arguments);return f.every(function(x){return typeof x=="string"})?f.length===0?Si(this):this.inAnyRange(f.map(function(x){return[x,x+Ks]})):xn(this,"startsWithAnyOf() only works with strings")},Gt);function Gt(){}function pn(f){return Nr(function(x){return yr(x),f(x.target.error),!1})}function yr(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var da="storagemutated",Ha="x-storagemutated-1",xs=fn(null,da),vo=(Kn.prototype._lock=function(){return T(!_t.global),++this._reculock,this._reculock!==1||_t.global||(_t.lockOwnerFor=this),this},Kn.prototype._unlock=function(){if(T(!_t.global),--this._reculock==0)for(_t.global||(_t.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{ni(f[1],f[0])}catch{}}return this},Kn.prototype._locked=function(){return this._reculock&&_t.lockOwnerFor!==this},Kn.prototype.create=function(f){var x=this;if(!this.mode)return this;var E=this.db.idbdb,k=this.db._state.dbOpenError;if(T(!this.idbtrans),!f&&!E)switch(k&&k.name){case"DatabaseClosedError":throw new _e.DatabaseClosed(k);case"MissingAPIError":throw new _e.MissingAPI(k.message,k);default:throw new _e.OpenFailed(k)}if(!this.active)throw new _e.TransactionInactive;return T(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||E).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Nr(function(O){yr(O),x._reject(f.error)}),f.onabort=Nr(function(O){yr(O),x.active&&x._reject(new _e.Abort(f.error)),x.active=!1,x.on("abort").fire(O)}),f.oncomplete=Nr(function(){x.active=!1,x._resolve(),"mutatedParts"in f&&xs.storagemutated.fire(f.mutatedParts)}),this},Kn.prototype._promise=function(f,x,E){var k=this;if(f==="readwrite"&&this.mode!=="readwrite")return qr(new _e.ReadOnly("Transaction is readonly"));if(!this.active)return qr(new _e.TransactionInactive);if(this._locked())return new xt(function(W,Ae){k._blockedFuncs.push([function(){k._promise(f,x,E).then(W,Ae)},_t])});if(E)return En(function(){var W=new xt(function(Ae,ge){k._lock();var Ce=x(Ae,ge,k);Ce&&Ce.then&&Ce.then(Ae,ge)});return W.finally(function(){return k._unlock()}),W._lib=!0,W});var O=new xt(function(W,Ae){var ge=x(W,Ae,k);ge&&ge.then&&ge.then(W,Ae)});return O._lib=!0,O},Kn.prototype._root=function(){return this.parent?this.parent._root():this},Kn.prototype.waitFor=function(f){var x,E=this._root(),k=xt.resolve(f);E._waitingFor?E._waitingFor=E._waitingFor.then(function(){return k}):(E._waitingFor=k,E._waitingQueue=[],x=E.idbtrans.objectStore(E.storeNames[0]),function W(){for(++E._spinCount;E._waitingQueue.length;)E._waitingQueue.shift()();E._waitingFor&&(x.get(-1/0).onsuccess=W)}());var O=E._waitingFor;return new xt(function(W,Ae){k.then(function(ge){return E._waitingQueue.push(Nr(W.bind(null,ge)))},function(ge){return E._waitingQueue.push(Nr(Ae.bind(null,ge)))}).finally(function(){E._waitingFor===O&&(E._waitingFor=null)})})},Kn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new _e.Abort))},Kn.prototype.table=function(f){var x=this._memoizedTables||(this._memoizedTables={});if(g(x,f))return x[f];var E=this.schema[f];if(!E)throw new _e.NotFound("Table "+f+" not part of transaction");return E=new this.db.Table(f,E,this),E.core=this.db.core.table(f),x[f]=E},Kn);function Kn(){}function yo(f,x,E,k,O,W,Ae,ge){return{name:f,keyPath:x,unique:E,multi:k,auto:O,compound:W,src:(E&&!Ae?"&":"")+(k?"*":"")+(O?"++":"")+Ka(x),type:ge}}function Ka(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function an(f,x,E){return{name:f,primKey:x,indexes:E,mappedClass:null,idxByName:(k=function(O){return[O.name,O]},E.reduce(function(O,W,Ae){return Ae=k(W,Ae),Ae&&(O[Ae[0]]=Ae[1]),O},{}))};var k}var es=function(f){try{return f.only([[]]),es=function(){return[[]]},[[]]}catch{return es=function(){return Ks},Ks}};function Fi(f){return f==null?function(){}:typeof f=="string"?(x=f).split(".").length===1?function(E){return E[x]}:function(E){return K(E,x)}:function(E){return K(E,f)};var x}function CA(f){return[].slice.call(f)}var wo=0;function Vi(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function qa(f,x,Ce){function k(Pe){if(Pe.type===3)return null;if(Pe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Fe=Pe.lower,Le=Pe.upper,Qe=Pe.lowerOpen,Pe=Pe.upperOpen;return Fe===void 0?Le===void 0?null:x.upperBound(Le,!!Pe):Le===void 0?x.lowerBound(Fe,!!Qe):x.bound(Fe,Le,!!Qe,!!Pe)}function O(De){var Fe,Le=De.name;return{name:Le,schema:De,mutate:function(Qe){var Pe=Qe.trans,qe=Qe.type,Ge=Qe.keys,st=Qe.values,ct=Qe.range;return new Promise(function(Ct,jt){Ct=Nr(Ct);var bt=Pe.objectStore(Le),Bt=bt.keyPath==null,Nt=qe==="put"||qe==="add";if(!Nt&&qe!=="delete"&&qe!=="deleteRange")throw new Error("Invalid operation type: "+qe);var mt,St=(Ge||st||{length:1}).length;if(Ge&&st&&Ge.length!==st.length)throw new Error("Given keys array must have same length as given values array.");if(St===0)return Ct({numFailures:0,failures:{},results:[],lastResult:void 0});function Vt(Dr){++qn,yr(Dr)}var Kt=[],or=[],qn=0;if(qe==="deleteRange"){if(ct.type===4)return Ct({numFailures:qn,failures:or,results:[],lastResult:void 0});ct.type===3?Kt.push(mt=bt.clear()):Kt.push(mt=bt.delete(k(ct)))}else{var Bt=Nt?Bt?[st,Ge]:[st,null]:[Ge,null],er=Bt[0],Qn=Bt[1];if(Nt)for(var mn=0;mn<St;++mn)Kt.push(mt=Qn&&Qn[mn]!==void 0?bt[qe](er[mn],Qn[mn]):bt[qe](er[mn])),mt.onerror=Vt;else for(mn=0;mn<St;++mn)Kt.push(mt=bt[qe](er[mn])),mt.onerror=Vt}function ki(Dr){Dr=Dr.target.result,Kt.forEach(function(In,tA){return In.error!=null&&(or[tA]=In.error)}),Ct({numFailures:qn,failures:or,results:qe==="delete"?Ge:Kt.map(function(In){return In.result}),lastResult:Dr})}mt.onerror=function(Dr){Vt(Dr),ki(Dr)},mt.onsuccess=ki})},getMany:function(Qe){var Pe=Qe.trans,qe=Qe.keys;return new Promise(function(Ge,st){Ge=Nr(Ge);for(var ct,Ct=Pe.objectStore(Le),jt=qe.length,bt=new Array(jt),Bt=0,Nt=0,mt=function(Kt){Kt=Kt.target,bt[Kt._pos]=Kt.result,++Nt===Bt&&Ge(bt)},St=pn(st),Vt=0;Vt<jt;++Vt)qe[Vt]!=null&&((ct=Ct.get(qe[Vt]))._pos=Vt,ct.onsuccess=mt,ct.onerror=St,++Bt);Bt===0&&Ge(bt)})},get:function(Qe){var Pe=Qe.trans,qe=Qe.key;return new Promise(function(Ge,st){Ge=Nr(Ge);var ct=Pe.objectStore(Le).get(qe);ct.onsuccess=function(Ct){return Ge(Ct.target.result)},ct.onerror=pn(st)})},query:(Fe=be,function(Qe){return new Promise(function(Pe,qe){Pe=Nr(Pe);var Ge,st,ct,Bt=Qe.trans,Ct=Qe.values,jt=Qe.limit,mt=Qe.query,bt=jt===1/0?void 0:jt,Nt=mt.index,mt=mt.range,Bt=Bt.objectStore(Le),Nt=Nt.isPrimaryKey?Bt:Bt.index(Nt.name),mt=k(mt);if(jt===0)return Pe({result:[]});Fe?((bt=Ct?Nt.getAll(mt,bt):Nt.getAllKeys(mt,bt)).onsuccess=function(St){return Pe({result:St.target.result})},bt.onerror=pn(qe)):(Ge=0,st=!Ct&&"openKeyCursor"in Nt?Nt.openKeyCursor(mt):Nt.openCursor(mt),ct=[],st.onsuccess=function(St){var Vt=st.result;return Vt?(ct.push(Ct?Vt.value:Vt.primaryKey),++Ge===jt?Pe({result:ct}):void Vt.continue()):Pe({result:ct})},st.onerror=pn(qe))})}),openCursor:function(Qe){var Pe=Qe.trans,qe=Qe.values,Ge=Qe.query,st=Qe.reverse,ct=Qe.unique;return new Promise(function(Ct,jt){Ct=Nr(Ct);var Nt=Ge.index,bt=Ge.range,Bt=Pe.objectStore(Le),Bt=Nt.isPrimaryKey?Bt:Bt.index(Nt.name),Nt=st?ct?"prevunique":"prev":ct?"nextunique":"next",mt=!qe&&"openKeyCursor"in Bt?Bt.openKeyCursor(k(bt),Nt):Bt.openCursor(k(bt),Nt);mt.onerror=pn(jt),mt.onsuccess=Nr(function(St){var Vt,Kt,or,qn,er=mt.result;er?(er.___id=++wo,er.done=!1,Vt=er.continue.bind(er),Kt=(Kt=er.continuePrimaryKey)&&Kt.bind(er),or=er.advance.bind(er),qn=function(){throw new Error("Cursor not stopped")},er.trans=Pe,er.stop=er.continue=er.continuePrimaryKey=er.advance=function(){throw new Error("Cursor not started")},er.fail=Nr(jt),er.next=function(){var Qn=this,mn=1;return this.start(function(){return mn--?Qn.continue():Qn.stop()}).then(function(){return Qn})},er.start=function(Qn){function mn(){if(mt.result)try{Qn()}catch(Dr){er.fail(Dr)}else er.done=!0,er.start=function(){throw new Error("Cursor behind last entry")},er.stop()}var ki=new Promise(function(Dr,In){Dr=Nr(Dr),mt.onerror=pn(In),er.fail=In,er.stop=function(tA){er.stop=er.continue=er.continuePrimaryKey=er.advance=qn,Dr(tA)}});return mt.onsuccess=Nr(function(Dr){mt.onsuccess=mn,mn()}),er.continue=Vt,er.continuePrimaryKey=Kt,er.advance=or,mn(),ki},Ct(er)):Ct(null)},jt)})},count:function(Qe){var Pe=Qe.query,qe=Qe.trans,Ge=Pe.index,st=Pe.range;return new Promise(function(ct,Ct){var jt=qe.objectStore(Le),bt=Ge.isPrimaryKey?jt:jt.index(Ge.name),jt=k(st),bt=jt?bt.count(jt):bt.count();bt.onsuccess=Nr(function(Bt){return ct(Bt.target.result)}),bt.onerror=pn(Ct)})}}}var W,Ae,ge,Re=(Ae=Ce,ge=CA((W=f).objectStoreNames),{schema:{name:W.name,tables:ge.map(function(De){return Ae.objectStore(De)}).map(function(De){var Fe=De.keyPath,Pe=De.autoIncrement,Le=l(Fe),Qe={},Pe={name:De.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Fe==null,compound:Le,keyPath:Fe,autoIncrement:Pe,unique:!0,extractKey:Fi(Fe)},indexes:CA(De.indexNames).map(function(qe){return De.index(qe)}).map(function(ct){var Ge=ct.name,st=ct.unique,Ct=ct.multiEntry,ct=ct.keyPath,Ct={name:Ge,compound:l(ct),keyPath:ct,unique:st,multiEntry:Ct,extractKey:Fi(ct)};return Qe[Vi(ct)]=Ct}),getIndexByKeyPath:function(qe){return Qe[Vi(qe)]}};return Qe[":id"]=Pe.primaryKey,Fe!=null&&(Qe[Vi(Fe)]=Pe.primaryKey),Pe})},hasGetAll:0<ge.length&&"getAll"in Ae.objectStore(ge[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Ce=Re.schema,be=Re.hasGetAll,Re=Ce.tables.map(O),ye={};return Re.forEach(function(De){return ye[De.name]=De}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(De){if(!ye[De])throw new Error("Table '".concat(De,"' not found"));return ye[De]},MIN_KEY:-1/0,MAX_KEY:es(x),schema:Ce}}function il(f,x,E,k){var O=E.IDBKeyRange;return E.indexedDB,{dbcore:(k=qa(x,O,k),f.dbcore.reduce(function(W,Ae){return Ae=Ae.create,n(n({},W),Ae(W))},k))}}function za(f,k){var E=k.db,k=il(f._middlewares,E,f._deps,k);f.core=k.dbcore,f.tables.forEach(function(O){var W=O.name;f.core.schema.tables.some(function(Ae){return Ae.name===W})&&(O.core=f.core.table(W),f[W]instanceof f.Table&&(f[W].core=O.core))})}function gr(f,x,E,k){E.forEach(function(O){var W=k[O];x.forEach(function(Ae){var ge=function Ce(be,Re){return Q(be,Re)||(be=h(be))&&Ce(be,Re)}(Ae,O);(!ge||"value"in ge&&ge.value===void 0)&&(Ae===f.Transaction.prototype||Ae instanceof f.Transaction?F(Ae,O,{get:function(){return this.table(O)},set:function(Ce){y(this,O,{value:Ce,writable:!0,configurable:!0,enumerable:!0})}}):Ae[O]=new f.Table(O,W))})})}function Go(f,x){x.forEach(function(E){for(var k in E)E[k]instanceof f.Table&&delete E[k]})}function bn(f,x){return f._cfg.version-x._cfg.version}function Vs(f,x,E,k){var O=f._dbSchema;E.objectStoreNames.contains("$meta")&&!O.$meta&&(O.$meta=an("$meta",Zo("")[0],[]),f._storeNames.push("$meta"));var W=f._createTransaction("readwrite",f._storeNames,O);W.create(E),W._completion.catch(k);var Ae=W._reject.bind(W),ge=_t.transless||_t;En(function(){return _t.trans=W,_t.transless=ge,x!==0?(za(f,E),be=x,((Ce=W).storeNames.includes("$meta")?Ce.table("$meta").get("version").then(function(Re){return Re??be}):xt.resolve(be)).then(function(Re){return De=Re,Fe=W,Le=E,Qe=[],Re=(ye=f)._versions,Pe=ye._dbSchema=Jo(0,ye.idbdb,Le),(Re=Re.filter(function(qe){return qe._cfg.version>=De})).length!==0?(Re.forEach(function(qe){Qe.push(function(){var Ge=Pe,st=qe._cfg.dbschema;fa(ye,Ge,Le),fa(ye,st,Le),Pe=ye._dbSchema=st;var ct=Wi(Ge,st);ct.add.forEach(function(Nt){bs(Le,Nt[0],Nt[1].primKey,Nt[1].indexes)}),ct.change.forEach(function(Nt){if(Nt.recreate)throw new _e.Upgrade("Not yet support for changing primary key");var mt=Le.objectStore(Nt.name);Nt.add.forEach(function(St){return ji(mt,St)}),Nt.change.forEach(function(St){mt.deleteIndex(St.name),ji(mt,St)}),Nt.del.forEach(function(St){return mt.deleteIndex(St)})});var Ct=qe._cfg.contentUpgrade;if(Ct&&qe._cfg.version>De){za(ye,Le),Fe._memoizedTables={};var jt=M(st);ct.del.forEach(function(Nt){jt[Nt]=Ge[Nt]}),Go(ye,[ye.Transaction.prototype]),gr(ye,[ye.Transaction.prototype],o(jt),jt),Fe.schema=jt;var bt,Bt=me(Ct);return Bt&&Mn(),ct=xt.follow(function(){var Nt;(bt=Ct(Fe))&&Bt&&(Nt=Fn.bind(null,null),bt.then(Nt,Nt))}),bt&&typeof bt.then=="function"?xt.resolve(bt):ct.then(function(){return bt})}}),Qe.push(function(Ge){var st,ct,Ct=qe._cfg.dbschema;st=Ct,ct=Ge,[].slice.call(ct.db.objectStoreNames).forEach(function(jt){return st[jt]==null&&ct.db.deleteObjectStore(jt)}),Go(ye,[ye.Transaction.prototype]),gr(ye,[ye.Transaction.prototype],ye._storeNames,ye._dbSchema),Fe.schema=ye._dbSchema}),Qe.push(function(Ge){ye.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ye.idbdb.version/10)===qe._cfg.version?(ye.idbdb.deleteObjectStore("$meta"),delete ye._dbSchema.$meta,ye._storeNames=ye._storeNames.filter(function(st){return st!=="$meta"})):Ge.objectStore("$meta").put(qe._cfg.version,"version"))})}),function qe(){return Qe.length?xt.resolve(Qe.shift()(Fe.idbtrans)).then(qe):xt.resolve()}().then(function(){$o(Pe,Le)})):xt.resolve();var ye,De,Fe,Le,Qe,Pe}).catch(Ae)):(o(O).forEach(function(Re){bs(E,Re,O[Re].primKey,O[Re].indexes)}),za(f,E),void xt.follow(function(){return f.on.populate.fire(W)}).catch(Ae));var Ce,be})}function al(f,x){$o(f._dbSchema,x),x.db.version%10!=0||x.objectStoreNames.contains("$meta")||x.db.createObjectStore("$meta").add(Math.ceil(x.db.version/10-1),"version");var E=Jo(0,f.idbdb,x);fa(f,f._dbSchema,x);for(var k=0,O=Wi(E,f._dbSchema).change;k<O.length;k++){var W=function(Ae){if(Ae.change.length||Ae.recreate)return console.warn("Unable to patch indexes of table ".concat(Ae.name," because it has changes on the type of index or primary key.")),{value:void 0};var ge=x.objectStore(Ae.name);Ae.add.forEach(function(Ce){At&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Ae.name,".").concat(Ce.src)),ji(ge,Ce)})}(O[k]);if(typeof W=="object")return W.value}}function Wi(f,x){var E,k={del:[],add:[],change:[]};for(E in f)x[E]||k.del.push(E);for(E in x){var O=f[E],W=x[E];if(O){var Ae={name:E,def:W,recreate:!1,del:[],add:[],change:[]};if(""+(O.primKey.keyPath||"")!=""+(W.primKey.keyPath||"")||O.primKey.auto!==W.primKey.auto)Ae.recreate=!0,k.change.push(Ae);else{var ge=O.idxByName,Ce=W.idxByName,be=void 0;for(be in ge)Ce[be]||Ae.del.push(be);for(be in Ce){var Re=ge[be],ye=Ce[be];Re?Re.src!==ye.src&&Ae.change.push(ye):Ae.add.push(ye)}(0<Ae.del.length||0<Ae.add.length||0<Ae.change.length)&&k.change.push(Ae)}}else k.add.push([E,W])}return k}function bs(f,x,E,k){var O=f.db.createObjectStore(x,E.keyPath?{keyPath:E.keyPath,autoIncrement:E.auto}:{autoIncrement:E.auto});return k.forEach(function(W){return ji(O,W)}),O}function $o(f,x){o(f).forEach(function(E){x.db.objectStoreNames.contains(E)||(At&&console.debug("Dexie: Creating missing table",E),bs(x,E,f[E].primKey,f[E].indexes))})}function ji(f,x){f.createIndex(x.name,x.keyPath,{unique:x.unique,multiEntry:x.multi})}function Jo(f,x,E){var k={};return B(x.objectStoreNames,0).forEach(function(O){for(var W=E.objectStore(O),Ae=yo(Ka(be=W.keyPath),be||"",!0,!1,!!W.autoIncrement,be&&typeof be!="string",!0),ge=[],Ce=0;Ce<W.indexNames.length;++Ce){var Re=W.index(W.indexNames[Ce]),be=Re.keyPath,Re=yo(Re.name,be,!!Re.unique,!!Re.multiEntry,!1,be&&typeof be!="string",!1);ge.push(Re)}k[O]=an(O,Ae,ge)}),k}function fa(f,x,E){for(var k=E.db.objectStoreNames,O=0;O<k.length;++O){var W=k[O],Ae=E.objectStore(W);f._hasGetAll="getAll"in Ae;for(var ge=0;ge<Ae.indexNames.length;++ge){var Ce=Ae.indexNames[ge],be=Ae.index(Ce).keyPath,Re=typeof be=="string"?be:"["+B(be).join("+")+"]";!x[W]||(be=x[W].idxByName[Re])&&(be.name=Ce,delete x[W].idxByName[Re],x[W].idxByName[Ce]=be)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function Zo(f){return f.split(",").map(function(x,E){var W=x.split(":"),k=(O=W[1])===null||O===void 0?void 0:O.trim(),O=(x=W[0].trim()).replace(/([&*]|\+\+)/g,""),W=/^\[/.test(O)?O.match(/^\[(.*)\]$/)[1].split("+"):O;return yo(O,W||null,/\&/.test(x),/\*/.test(x),/\+\+/.test(x),l(W),E===0,k)})}var NA=(jn.prototype._createTableSchema=an,jn.prototype._parseIndexSyntax=Zo,jn.prototype._parseStoresSpec=function(f,x){var E=this;o(f).forEach(function(k){if(f[k]!==null){var O=E._parseIndexSyntax(f[k]),W=O.shift();if(!W)throw new _e.Schema("Invalid schema for table "+k+": "+f[k]);if(W.unique=!0,W.multi)throw new _e.Schema("Primary key cannot be multiEntry*");O.forEach(function(Ae){if(Ae.auto)throw new _e.Schema("Only primary key can be marked as autoIncrement (++)");if(!Ae.keyPath)throw new _e.Schema("Index must have a name and cannot be an empty string")}),O=E._createTableSchema(k,W,O),x[k]=O}})},jn.prototype.stores=function(E){var x=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,E):E;var E=x._versions,k={},O={};return E.forEach(function(W){c(k,W._cfg.storesSource),O=W._cfg.dbschema={},W._parseStoresSpec(k,O)}),x._dbSchema=O,Go(x,[x._allTables,x,x.Transaction.prototype]),gr(x,[x._allTables,x,x.Transaction.prototype,this._cfg.tables],o(O),O),x._storeNames=o(O),this},jn.prototype.upgrade=function(f){return this._cfg.contentUpgrade=ot(this._cfg.contentUpgrade||we,f),this},jn);function jn(){}function Xo(f,x){var E=f._dbNamesDB;return E||(E=f._dbNamesDB=new Qs(po,{addons:[],indexedDB:f,IDBKeyRange:x})).version(1).stores({dbnames:"name"}),E.table("dbnames")}function pa(f){return f&&typeof f.databases=="function"}function Ls(f){return En(function(){return _t.letThrough=!0,f()})}function Va(f){return!("from"in f)}var _n=function(f,x){if(!this){var E=new _n;return f&&"d"in f&&c(E,f),E}c(this,arguments.length?{d:1,from:f,to:1<arguments.length?x:f}:{d:0})};function ma(f,x,E){var k=Dt(x,E);if(!isNaN(k)){if(0<k)throw RangeError();if(Va(f))return c(f,{from:x,to:E,d:1});var O=f.l,k=f.r;if(Dt(E,f.from)<0)return O?ma(O,x,E):f.l={from:x,to:E,d:1,l:null,r:null},ya(f);if(0<Dt(x,f.to))return k?ma(k,x,E):f.r={from:x,to:E,d:1,l:null,r:null},ya(f);Dt(x,f.from)<0&&(f.from=x,f.l=null,f.d=k?k.d+1:1),0<Dt(E,f.to)&&(f.to=E,f.r=null,f.d=f.l?f.l.d+1:1),E=!f.r,O&&!f.l&&Gi(f,O),k&&E&&Gi(f,k)}}function Gi(f,x){Va(x)||function E(k,Ce){var W=Ce.from,Ae=Ce.to,ge=Ce.l,Ce=Ce.r;ma(k,W,Ae),ge&&E(k,ge),Ce&&E(k,Ce)}(f,x)}function ga(f,x){var E=va(x),k=E.next();if(k.done)return!1;for(var O=k.value,W=va(f),Ae=W.next(O.from),ge=Ae.value;!k.done&&!Ae.done;){if(Dt(ge.from,O.to)<=0&&0<=Dt(ge.to,O.from))return!0;Dt(O.from,ge.from)<0?O=(k=E.next(ge.from)).value:ge=(Ae=W.next(O.from)).value}return!1}function va(f){var x=Va(f)?null:{s:0,n:f};return{next:function(E){for(var k=0<arguments.length;x;)switch(x.s){case 0:if(x.s=1,k)for(;x.n.l&&Dt(E,x.n.from)<0;)x={up:x,n:x.n.l,s:1};else for(;x.n.l;)x={up:x,n:x.n.l,s:1};case 1:if(x.s=2,!k||Dt(E,x.n.to)<=0)return{value:x.n,done:!1};case 2:if(x.n.r){x.s=3,x={up:x,n:x.n.r,s:0};continue}case 3:x=x.up}return{done:!0}}}}function ya(f){var x,E,k=(((x=f.r)===null||x===void 0?void 0:x.d)||0)-(((E=f.l)===null||E===void 0?void 0:E.d)||0),O=1<k?"r":k<-1?"l":"";O&&(x=O=="r"?"l":"r",E=n({},f),k=f[O],f.from=k.from,f.to=k.to,f[O]=k[O],E[O]=k[x],(f[x]=E).d=Yo(E)),f.d=Yo(f)}function Yo(E){var x=E.r,E=E.l;return(x?E?Math.max(x.d,E.d):x.d:E?E.d:0)+1}function b(f,x){return o(x).forEach(function(E){f[E]?Gi(f[E],x[E]):f[E]=function k(O){var W,Ae,ge={};for(W in O)g(O,W)&&(Ae=O[W],ge[W]=!Ae||typeof Ae!="object"||D.has(Ae.constructor)?Ae:k(Ae));return ge}(x[E])}),f}function q(f,x){return f.all||x.all||Object.keys(f).some(function(E){return x[E]&&ga(x[E],f[E])})}w(_n.prototype,((us={add:function(f){return Gi(this,f),this},addKey:function(f){return ma(this,f,f),this},addKeys:function(f){var x=this;return f.forEach(function(E){return ma(x,E,E)}),this},hasKey:function(f){var x=va(this).next(f).value;return x&&Dt(x.from,f)<=0&&0<=Dt(x.to,f)}})[ve]=function(){return va(this)},us));var de={},Ne={},He=!1;function nt(f){b(Ne,f),He||(He=!0,setTimeout(function(){He=!1,vt(Ne,!(Ne={}))},0))}function vt(f,x){x===void 0&&(x=!1);var E=new Set;if(f.all)for(var k=0,O=Object.values(de);k<O.length;k++)Qt(Ae=O[k],f,E,x);else for(var W in f){var Ae,ge=/^idb\:\/\/(.*)\/(.*)\//.exec(W);ge&&(W=ge[1],ge=ge[2],(Ae=de["idb://".concat(W,"/").concat(ge)])&&Qt(Ae,f,E,x))}E.forEach(function(Ce){return Ce()})}function Qt(f,x,E,k){for(var O=[],W=0,Ae=Object.entries(f.queries.query);W<Ae.length;W++){for(var ge=Ae[W],Ce=ge[0],be=[],Re=0,ye=ge[1];Re<ye.length;Re++){var De=ye[Re];q(x,De.obsSet)?De.subscribers.forEach(function(Pe){return E.add(Pe)}):k&&be.push(De)}k&&O.push([Ce,be])}if(k)for(var Fe=0,Le=O;Fe<Le.length;Fe++){var Qe=Le[Fe],Ce=Qe[0],be=Qe[1];f.queries.query[Ce]=be}}function Ht(f){var x=f._state,E=f._deps.indexedDB;if(x.isBeingOpened||f.idbdb)return x.dbReadyPromise.then(function(){return x.dbOpenError?qr(x.dbOpenError):f});x.isBeingOpened=!0,x.dbOpenError=null,x.openComplete=!1;var k=x.openCanceller,O=Math.round(10*f.verno),W=!1;function Ae(){if(x.openCanceller!==k)throw new _e.DatabaseClosed("db.open() was cancelled")}function ge(){return new xt(function(De,Fe){if(Ae(),!E)throw new _e.MissingAPI;var Le=f.name,Qe=x.autoSchema||!O?E.open(Le):E.open(Le,O);if(!Qe)throw new _e.MissingAPI;Qe.onerror=pn(Fe),Qe.onblocked=Nr(f._fireOnBlocked),Qe.onupgradeneeded=Nr(function(Pe){var qe;Re=Qe.transaction,x.autoSchema&&!f._options.allowEmptyDB?(Qe.onerror=yr,Re.abort(),Qe.result.close(),(qe=E.deleteDatabase(Le)).onsuccess=qe.onerror=Nr(function(){Fe(new _e.NoSuchDatabase("Database ".concat(Le," doesnt exist")))})):(Re.onerror=pn(Fe),Pe=Pe.oldVersion>Math.pow(2,62)?0:Pe.oldVersion,ye=Pe<1,f.idbdb=Qe.result,W&&al(f,Re),Vs(f,Pe/10,Re,Fe))},Fe),Qe.onsuccess=Nr(function(){Re=null;var Pe,qe,Ge,st,ct,Ct=f.idbdb=Qe.result,jt=B(Ct.objectStoreNames);if(0<jt.length)try{var bt=Ct.transaction((st=jt).length===1?st[0]:st,"readonly");if(x.autoSchema)qe=Ct,Ge=bt,(Pe=f).verno=qe.version/10,Ge=Pe._dbSchema=Jo(0,qe,Ge),Pe._storeNames=B(qe.objectStoreNames,0),gr(Pe,[Pe._allTables],o(Ge),Ge);else if(fa(f,f._dbSchema,bt),((ct=Wi(Jo(0,(ct=f).idbdb,bt),ct._dbSchema)).add.length||ct.change.some(function(Bt){return Bt.add.length||Bt.change.length}))&&!W)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ct.close(),O=Ct.version+1,W=!0,De(ge());za(f,bt)}catch{}_i.push(f),Ct.onversionchange=Nr(function(Bt){x.vcFired=!0,f.on("versionchange").fire(Bt)}),Ct.onclose=Nr(function(){f.close({disableAutoOpen:!1})}),ye&&(ct=f._deps,bt=Le,Ct=ct.indexedDB,ct=ct.IDBKeyRange,pa(Ct)||bt===po||Xo(Ct,ct).put({name:bt}).catch(we)),De()},Fe)}).catch(function(De){switch(De==null?void 0:De.name){case"UnknownError":if(0<x.PR1398_maxLoop)return x.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ge();break;case"VersionError":if(0<O)return O=0,ge()}return xt.reject(De)})}var Ce,be=x.dbReadyResolve,Re=null,ye=!1;return xt.race([k,(typeof navigator>"u"?xt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(De){function Fe(){return indexedDB.databases().finally(De)}Ce=setInterval(Fe,100),Fe()}).finally(function(){return clearInterval(Ce)}):Promise.resolve()).then(ge)]).then(function(){return Ae(),x.onReadyBeingFired=[],xt.resolve(Ls(function(){return f.on.ready.fire(f.vip)})).then(function De(){if(0<x.onReadyBeingFired.length){var Fe=x.onReadyBeingFired.reduce(ot,we);return x.onReadyBeingFired=[],xt.resolve(Ls(function(){return Fe(f.vip)})).then(De)}})}).finally(function(){x.openCanceller===k&&(x.onReadyBeingFired=null,x.isBeingOpened=!1)}).catch(function(De){x.dbOpenError=De;try{Re&&Re.abort()}catch{}return k===x.openCanceller&&f._close(),qr(De)}).finally(function(){x.openComplete=!0,be()}).then(function(){var De;return ye&&(De={},f.tables.forEach(function(Fe){Fe.schema.indexes.forEach(function(Le){Le.name&&(De["idb://".concat(f.name,"/").concat(Fe.name,"/").concat(Le.name)]=new _n(-1/0,[[[]]]))}),De["idb://".concat(f.name,"/").concat(Fe.name,"/")]=De["idb://".concat(f.name,"/").concat(Fe.name,"/:dels")]=new _n(-1/0,[[[]]])}),xs(da).fire(De),vt(De,!0)),f})}function lr(f){function x(W){return f.next(W)}var E=O(x),k=O(function(W){return f.throw(W)});function O(W){return function(Ce){var ge=W(Ce),Ce=ge.value;return ge.done?Ce:Ce&&typeof Ce.then=="function"?Ce.then(E,k):l(Ce)?Promise.all(Ce).then(E,k):E(Ce)}}return O(x)()}function sr(f,x,E){for(var k=l(f)?f.slice():[f],O=0;O<E;++O)k.push(x);return k}var Cr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return n(n({},f),{table:function(x){var E=f.table(x),k=E.schema,O={},W=[];function Ae(ye,De,Fe){var Le=Vi(ye),Qe=O[Le]=O[Le]||[],Pe=ye==null?0:typeof ye=="string"?1:ye.length,qe=0<De,qe=n(n({},Fe),{name:qe?"".concat(Le,"(virtual-from:").concat(Fe.name,")"):Fe.name,lowLevelIndex:Fe,isVirtual:qe,keyTail:De,keyLength:Pe,extractKey:Fi(ye),unique:!qe&&Fe.unique});return Qe.push(qe),qe.isPrimaryKey||W.push(qe),1<Pe&&Ae(Pe===2?ye[0]:ye.slice(0,Pe-1),De+1,Fe),Qe.sort(function(Ge,st){return Ge.keyTail-st.keyTail}),qe}x=Ae(k.primaryKey.keyPath,0,k.primaryKey),O[":id"]=[x];for(var ge=0,Ce=k.indexes;ge<Ce.length;ge++){var be=Ce[ge];Ae(be.keyPath,0,be)}function Re(ye){var De,Fe=ye.query.index;return Fe.isVirtual?n(n({},ye),{query:{index:Fe.lowLevelIndex,range:(De=ye.query.range,Fe=Fe.keyTail,{type:De.type===1?2:De.type,lower:sr(De.lower,De.lowerOpen?f.MAX_KEY:f.MIN_KEY,Fe),lowerOpen:!0,upper:sr(De.upper,De.upperOpen?f.MIN_KEY:f.MAX_KEY,Fe),upperOpen:!0})}}):ye}return n(n({},E),{schema:n(n({},k),{primaryKey:x,indexes:W,getIndexByKeyPath:function(ye){return(ye=O[Vi(ye)])&&ye[0]}}),count:function(ye){return E.count(Re(ye))},query:function(ye){return E.query(Re(ye))},openCursor:function(ye){var De=ye.query.index,Fe=De.keyTail,Le=De.isVirtual,Qe=De.keyLength;return Le?E.openCursor(Re(ye)).then(function(qe){return qe&&Pe(qe)}):E.openCursor(ye);function Pe(qe){return Object.create(qe,{continue:{value:function(Ge){Ge!=null?qe.continue(sr(Ge,ye.reverse?f.MAX_KEY:f.MIN_KEY,Fe)):ye.unique?qe.continue(qe.key.slice(0,Qe).concat(ye.reverse?f.MIN_KEY:f.MAX_KEY,Fe)):qe.continue()}},continuePrimaryKey:{value:function(Ge,st){qe.continuePrimaryKey(sr(Ge,f.MAX_KEY,Fe),st)}},primaryKey:{get:function(){return qe.primaryKey}},key:{get:function(){var Ge=qe.key;return Qe===1?Ge[0]:Ge.slice(0,Qe)}},value:{get:function(){return qe.value}}})}}})}})}};function Mr(f,x,E,k){return E=E||{},k=k||"",o(f).forEach(function(O){var W,Ae,ge;g(x,O)?(W=f[O],Ae=x[O],typeof W=="object"&&typeof Ae=="object"&&W&&Ae?(ge=Se(W))!==Se(Ae)?E[k+O]=x[O]:ge==="Object"?Mr(W,Ae,E,k+O+"."):W!==Ae&&(E[k+O]=x[O]):W!==Ae&&(E[k+O]=x[O])):E[k+O]=void 0}),o(x).forEach(function(O){g(f,O)||(E[k+O]=x[O])}),E}function zr(f,x){return x.type==="delete"?x.keys:x.keys||x.values.map(f.extractKey)}var Bn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return n(n({},f),{table:function(x){var E=f.table(x),k=E.schema.primaryKey;return n(n({},E),{mutate:function(O){var W=_t.trans,Ae=W.table(x).hook,ge=Ae.deleting,Ce=Ae.creating,be=Ae.updating;switch(O.type){case"add":if(Ce.fire===we)break;return W._promise("readwrite",function(){return Re(O)},!0);case"put":if(Ce.fire===we&&be.fire===we)break;return W._promise("readwrite",function(){return Re(O)},!0);case"delete":if(ge.fire===we)break;return W._promise("readwrite",function(){return Re(O)},!0);case"deleteRange":if(ge.fire===we)break;return W._promise("readwrite",function(){return function ye(De,Fe,Le){return E.query({trans:De,values:!1,query:{index:k,range:Fe},limit:Le}).then(function(Qe){var Pe=Qe.result;return Re({type:"delete",keys:Pe,trans:De}).then(function(qe){return 0<qe.numFailures?Promise.reject(qe.failures[0]):Pe.length<Le?{failures:[],numFailures:0,lastResult:void 0}:ye(De,n(n({},Fe),{lower:Pe[Pe.length-1],lowerOpen:!0}),Le)})})}(O.trans,O.range,1e4)},!0)}return E.mutate(O);function Re(ye){var De,Fe,Le,Qe=_t.trans,Pe=ye.keys||zr(k,ye);if(!Pe)throw new Error("Keys missing");return(ye=ye.type==="add"||ye.type==="put"?n(n({},ye),{keys:Pe}):n({},ye)).type!=="delete"&&(ye.values=s([],ye.values)),ye.keys&&(ye.keys=s([],ye.keys)),De=E,Le=Pe,((Fe=ye).type==="add"?Promise.resolve([]):De.getMany({trans:Fe.trans,keys:Le,cache:"immutable"})).then(function(qe){var Ge=Pe.map(function(st,ct){var Ct,jt,bt,Bt=qe[ct],Nt={onerror:null,onsuccess:null};return ye.type==="delete"?ge.fire.call(Nt,st,Bt,Qe):ye.type==="add"||Bt===void 0?(Ct=Ce.fire.call(Nt,st,ye.values[ct],Qe),st==null&&Ct!=null&&(ye.keys[ct]=st=Ct,k.outbound||G(ye.values[ct],k.keyPath,st))):(Ct=Mr(Bt,ye.values[ct]),(jt=be.fire.call(Nt,Ct,st,Bt,Qe))&&(bt=ye.values[ct],Object.keys(jt).forEach(function(mt){g(bt,mt)?bt[mt]=jt[mt]:G(bt,mt,jt[mt])}))),Nt});return E.mutate(ye).then(function(st){for(var ct=st.failures,Ct=st.results,jt=st.numFailures,st=st.lastResult,bt=0;bt<Pe.length;++bt){var Bt=(Ct||Pe)[bt],Nt=Ge[bt];Bt==null?Nt.onerror&&Nt.onerror(ct[bt]):Nt.onsuccess&&Nt.onsuccess(ye.type==="put"&&qe[bt]?ye.values[bt]:Bt)}return{failures:ct,results:Ct,numFailures:jt,lastResult:st}}).catch(function(st){return Ge.forEach(function(ct){return ct.onerror&&ct.onerror(st)}),Promise.reject(st)})})}}})}})}};function ts(f,x,E){try{if(!x||x.keys.length<f.length)return null;for(var k=[],O=0,W=0;O<x.keys.length&&W<f.length;++O)Dt(x.keys[O],f[W])===0&&(k.push(E?re(x.values[O]):x.values[O]),++W);return k.length===f.length?k:null}catch{return null}}var Un={stack:"dbcore",level:-1,create:function(f){return{table:function(x){var E=f.table(x);return n(n({},E),{getMany:function(k){if(!k.cache)return E.getMany(k);var O=ts(k.keys,k.trans._cache,k.cache==="clone");return O?xt.resolve(O):E.getMany(k).then(function(W){return k.trans._cache={keys:k.keys,values:k.cache==="clone"?re(W):W},W})},mutate:function(k){return k.type!=="add"&&(k.trans._cache=null),E.mutate(k)}})}}}};function ai(f,x){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!x.schema.primaryKey.outbound}function rn(f,x){switch(f){case"query":return x.values&&!x.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var _s={stack:"dbcore",level:0,name:"Observability",create:function(f){var x=f.schema.name,E=new _n(f.MIN_KEY,f.MAX_KEY);return n(n({},f),{transaction:function(k,O,W){if(_t.subscr&&O!=="readonly")throw new _e.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(_t.querier));return f.transaction(k,O,W)},table:function(k){var O=f.table(k),W=O.schema,Ae=W.primaryKey,ye=W.indexes,ge=Ae.extractKey,Ce=Ae.outbound,be=Ae.autoIncrement&&ye.filter(function(Fe){return Fe.compound&&Fe.keyPath.includes(Ae.keyPath)}),Re=n(n({},O),{mutate:function(Fe){function Le(mt){return mt="idb://".concat(x,"/").concat(k,"/").concat(mt),st[mt]||(st[mt]=new _n)}var Qe,Pe,qe,Ge=Fe.trans,st=Fe.mutatedParts||(Fe.mutatedParts={}),ct=Le(""),Ct=Le(":dels"),jt=Fe.type,Nt=Fe.type==="deleteRange"?[Fe.range]:Fe.type==="delete"?[Fe.keys]:Fe.values.length<50?[zr(Ae,Fe).filter(function(mt){return mt}),Fe.values]:[],bt=Nt[0],Bt=Nt[1],Nt=Fe.trans._cache;return l(bt)?(ct.addKeys(bt),(Nt=jt==="delete"||bt.length===Bt.length?ts(bt,Nt):null)||Ct.addKeys(bt),(Nt||Bt)&&(Qe=Le,Pe=Nt,qe=Bt,W.indexes.forEach(function(mt){var St=Qe(mt.name||"");function Vt(or){return or!=null?mt.extractKey(or):null}function Kt(or){return mt.multiEntry&&l(or)?or.forEach(function(qn){return St.addKey(qn)}):St.addKey(or)}(Pe||qe).forEach(function(or,Qn){var er=Pe&&Vt(Pe[Qn]),Qn=qe&&Vt(qe[Qn]);Dt(er,Qn)!==0&&(er!=null&&Kt(er),Qn!=null&&Kt(Qn))})}))):bt?(Bt={from:(Bt=bt.lower)!==null&&Bt!==void 0?Bt:f.MIN_KEY,to:(Bt=bt.upper)!==null&&Bt!==void 0?Bt:f.MAX_KEY},Ct.add(Bt),ct.add(Bt)):(ct.add(E),Ct.add(E),W.indexes.forEach(function(mt){return Le(mt.name).add(E)})),O.mutate(Fe).then(function(mt){return!bt||Fe.type!=="add"&&Fe.type!=="put"||(ct.addKeys(mt.results),be&&be.forEach(function(St){for(var Vt=Fe.values.map(function(er){return St.extractKey(er)}),Kt=St.keyPath.findIndex(function(er){return er===Ae.keyPath}),or=0,qn=mt.results.length;or<qn;++or)Vt[or][Kt]=mt.results[or];Le(St.name).addKeys(Vt)})),Ge.mutatedParts=b(Ge.mutatedParts||{},st),mt})}}),ye=function(Le){var Qe=Le.query,Le=Qe.index,Qe=Qe.range;return[Le,new _n((Le=Qe.lower)!==null&&Le!==void 0?Le:f.MIN_KEY,(Qe=Qe.upper)!==null&&Qe!==void 0?Qe:f.MAX_KEY)]},De={get:function(Fe){return[Ae,new _n(Fe.key)]},getMany:function(Fe){return[Ae,new _n().addKeys(Fe.keys)]},count:ye,query:ye,openCursor:ye};return o(De).forEach(function(Fe){Re[Fe]=function(Le){var Qe=_t.subscr,Pe=!!Qe,qe=ai(_t,O)&&rn(Fe,Le)?Le.obsSet={}:Qe;if(Pe){var Ge=function(Bt){return Bt="idb://".concat(x,"/").concat(k,"/").concat(Bt),qe[Bt]||(qe[Bt]=new _n)},st=Ge(""),ct=Ge(":dels"),Qe=De[Fe](Le),Pe=Qe[0],Qe=Qe[1];if((Fe==="query"&&Pe.isPrimaryKey&&!Le.values?ct:Ge(Pe.name||"")).add(Qe),!Pe.isPrimaryKey){if(Fe!=="count"){var Ct=Fe==="query"&&Ce&&Le.values&&O.query(n(n({},Le),{values:!1}));return O[Fe].apply(this,arguments).then(function(Bt){if(Fe==="query"){if(Ce&&Le.values)return Ct.then(function(Vt){return Vt=Vt.result,st.addKeys(Vt),Bt});var Nt=Le.values?Bt.result.map(ge):Bt.result;(Le.values?st:ct).addKeys(Nt)}else if(Fe==="openCursor"){var mt=Bt,St=Le.values;return mt&&Object.create(mt,{key:{get:function(){return ct.addKey(mt.primaryKey),mt.key}},primaryKey:{get:function(){var Vt=mt.primaryKey;return ct.addKey(Vt),Vt}},value:{get:function(){return St&&st.addKey(mt.primaryKey),mt.value}}})}return Bt})}ct.add(E)}}return O[Fe].apply(this,arguments)}}),Re}})}};function SA(f,x,E){if(E.numFailures===0)return x;if(x.type==="deleteRange")return null;var k=x.keys?x.keys.length:"values"in x&&x.values?x.values.length:1;return E.numFailures===k?null:(x=n({},x),l(x.keys)&&(x.keys=x.keys.filter(function(O,W){return!(W in E.failures)})),"values"in x&&l(x.values)&&(x.values=x.values.filter(function(O,W){return!(W in E.failures)})),x)}function Bs(f,x){return E=f,((k=x).lower===void 0||(k.lowerOpen?0<Dt(E,k.lower):0<=Dt(E,k.lower)))&&(f=f,(x=x).upper===void 0||(x.upperOpen?Dt(f,x.upper)<0:Dt(f,x.upper)<=0));var E,k}function eA(f,x,De,k,O,W){if(!De||De.length===0)return f;var Ae=x.query.index,ge=Ae.multiEntry,Ce=x.query.range,be=k.schema.primaryKey.extractKey,Re=Ae.extractKey,ye=(Ae.lowLevelIndex||Ae).extractKey,De=De.reduce(function(Fe,Le){var Qe=Fe,Pe=[];if(Le.type==="add"||Le.type==="put")for(var qe=new _n,Ge=Le.values.length-1;0<=Ge;--Ge){var st,ct=Le.values[Ge],Ct=be(ct);qe.hasKey(Ct)||(st=Re(ct),(ge&&l(st)?st.some(function(mt){return Bs(mt,Ce)}):Bs(st,Ce))&&(qe.addKey(Ct),Pe.push(ct)))}switch(Le.type){case"add":var jt=new _n().addKeys(x.values?Fe.map(function(St){return be(St)}):Fe),Qe=Fe.concat(x.values?Pe.filter(function(St){return St=be(St),!jt.hasKey(St)&&(jt.addKey(St),!0)}):Pe.map(function(St){return be(St)}).filter(function(St){return!jt.hasKey(St)&&(jt.addKey(St),!0)}));break;case"put":var bt=new _n().addKeys(Le.values.map(function(St){return be(St)}));Qe=Fe.filter(function(St){return!bt.hasKey(x.values?be(St):St)}).concat(x.values?Pe:Pe.map(function(St){return be(St)}));break;case"delete":var Bt=new _n().addKeys(Le.keys);Qe=Fe.filter(function(St){return!Bt.hasKey(x.values?be(St):St)});break;case"deleteRange":var Nt=Le.range;Qe=Fe.filter(function(St){return!Bs(be(St),Nt)})}return Qe},f);return De===f?f:(De.sort(function(Fe,Le){return Dt(ye(Fe),ye(Le))||Dt(be(Fe),be(Le))}),x.limit&&x.limit<1/0&&(De.length>x.limit?De.length=x.limit:f.length===x.limit&&De.length<x.limit&&(O.dirty=!0)),W?Object.freeze(De):De)}function oi(f,x){return Dt(f.lower,x.lower)===0&&Dt(f.upper,x.upper)===0&&!!f.lowerOpen==!!x.lowerOpen&&!!f.upperOpen==!!x.upperOpen}function EA(f,x){return function(E,k,O,W){if(E===void 0)return k!==void 0?-1:0;if(k===void 0)return 1;if((k=Dt(E,k))===0){if(O&&W)return 0;if(O)return 1;if(W)return-1}return k}(f.lower,x.lower,f.lowerOpen,x.lowerOpen)<=0&&0<=function(E,k,O,W){if(E===void 0)return k!==void 0?1:0;if(k===void 0)return-1;if((k=Dt(E,k))===0){if(O&&W)return 0;if(O)return-1;if(W)return 1}return k}(f.upper,x.upper,f.upperOpen,x.upperOpen)}function wa(f,x,E,k){f.subscribers.add(E),k.addEventListener("abort",function(){var O,W;f.subscribers.delete(E),f.subscribers.size===0&&(O=f,W=x,setTimeout(function(){O.subscribers.size===0&&H(W,O)},3e3))})}var xo={stack:"dbcore",level:0,name:"Cache",create:function(f){var x=f.schema.name;return n(n({},f),{transaction:function(E,k,O){var W,Ae,ge=f.transaction(E,k,O);return k==="readwrite"&&(Ae=(W=new AbortController).signal,O=function(Ce){return function(){if(W.abort(),k==="readwrite"){for(var be=new Set,Re=0,ye=E;Re<ye.length;Re++){var De=ye[Re],Fe=de["idb://".concat(x,"/").concat(De)];if(Fe){var Le=f.table(De),Qe=Fe.optimisticOps.filter(function(St){return St.trans===ge});if(ge._explicit&&Ce&&ge.mutatedParts)for(var Pe=0,qe=Object.values(Fe.queries.query);Pe<qe.length;Pe++)for(var Ge=0,st=(jt=qe[Pe]).slice();Ge<st.length;Ge++)q((bt=st[Ge]).obsSet,ge.mutatedParts)&&(H(jt,bt),bt.subscribers.forEach(function(St){return be.add(St)}));else if(0<Qe.length){Fe.optimisticOps=Fe.optimisticOps.filter(function(St){return St.trans!==ge});for(var ct=0,Ct=Object.values(Fe.queries.query);ct<Ct.length;ct++)for(var jt,bt,Bt,Nt=0,mt=(jt=Ct[ct]).slice();Nt<mt.length;Nt++)(bt=mt[Nt]).res!=null&&ge.mutatedParts&&(Ce&&!bt.dirty?(Bt=Object.isFrozen(bt.res),Bt=eA(bt.res,bt.req,Qe,Le,bt,Bt),bt.dirty?(H(jt,bt),bt.subscribers.forEach(function(St){return be.add(St)})):Bt!==bt.res&&(bt.res=Bt,bt.promise=xt.resolve({result:Bt}))):(bt.dirty&&H(jt,bt),bt.subscribers.forEach(function(St){return be.add(St)})))}}}be.forEach(function(St){return St()})}}},ge.addEventListener("abort",O(!1),{signal:Ae}),ge.addEventListener("error",O(!1),{signal:Ae}),ge.addEventListener("complete",O(!0),{signal:Ae})),ge},table:function(E){var k=f.table(E),O=k.schema.primaryKey;return n(n({},k),{mutate:function(W){var Ae=_t.trans;if(O.outbound||Ae.db._options.cache==="disabled"||Ae.explicit||Ae.idbtrans.mode!=="readwrite")return k.mutate(W);var ge=de["idb://".concat(x,"/").concat(E)];return ge?(Ae=k.mutate(W),W.type!=="add"&&W.type!=="put"||!(50<=W.values.length||zr(O,W).some(function(Ce){return Ce==null}))?(ge.optimisticOps.push(W),W.mutatedParts&&nt(W.mutatedParts),Ae.then(function(Ce){0<Ce.numFailures&&(H(ge.optimisticOps,W),(Ce=SA(0,W,Ce))&&ge.optimisticOps.push(Ce),W.mutatedParts&&nt(W.mutatedParts))}),Ae.catch(function(){H(ge.optimisticOps,W),W.mutatedParts&&nt(W.mutatedParts)})):Ae.then(function(Ce){var be=SA(0,n(n({},W),{values:W.values.map(function(Re,ye){var De;return Ce.failures[ye]?Re:(Re=(De=O.keyPath)!==null&&De!==void 0&&De.includes(".")?re(Re):n({},Re),G(Re,O.keyPath,Ce.results[ye]),Re)})}),Ce);ge.optimisticOps.push(be),queueMicrotask(function(){return W.mutatedParts&&nt(W.mutatedParts)})}),Ae):k.mutate(W)},query:function(W){if(!ai(_t,k)||!rn("query",W))return k.query(W);var Ae=((be=_t.trans)===null||be===void 0?void 0:be.db._options.cache)==="immutable",ye=_t,ge=ye.requery,Ce=ye.signal,be=function(Le,Qe,Pe,qe){var Ge=de["idb://".concat(Le,"/").concat(Qe)];if(!Ge)return[];if(!(Qe=Ge.queries[Pe]))return[null,!1,Ge,null];var st=Qe[(qe.query?qe.query.index.name:null)||""];if(!st)return[null,!1,Ge,null];switch(Pe){case"query":var ct=st.find(function(Ct){return Ct.req.limit===qe.limit&&Ct.req.values===qe.values&&oi(Ct.req.query.range,qe.query.range)});return ct?[ct,!0,Ge,st]:[st.find(function(Ct){return("limit"in Ct.req?Ct.req.limit:1/0)>=qe.limit&&(!qe.values||Ct.req.values)&&EA(Ct.req.query.range,qe.query.range)}),!1,Ge,st];case"count":return ct=st.find(function(Ct){return oi(Ct.req.query.range,qe.query.range)}),[ct,!!ct,Ge,st]}}(x,E,"query",W),Re=be[0],ye=be[1],De=be[2],Fe=be[3];return Re&&ye?Re.obsSet=W.obsSet:(ye=k.query(W).then(function(Le){var Qe=Le.result;if(Re&&(Re.res=Qe),Ae){for(var Pe=0,qe=Qe.length;Pe<qe;++Pe)Object.freeze(Qe[Pe]);Object.freeze(Qe)}else Le.result=re(Qe);return Le}).catch(function(Le){return Fe&&Re&&H(Fe,Re),Promise.reject(Le)}),Re={obsSet:W.obsSet,promise:ye,subscribers:new Set,type:"query",req:W,dirty:!1},Fe?Fe.push(Re):(Fe=[Re],(De=De||(de["idb://".concat(x,"/").concat(E)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[W.query.index.name||""]=Fe)),wa(Re,Fe,ge,Ce),Re.promise.then(function(Le){return{result:eA(Le.result,W,De==null?void 0:De.optimisticOps,k,Re,Ae)}})}})}})}};function on(f,x){return new Proxy(f,{get:function(E,k,O){return k==="db"?x:Reflect.get(E,k,O)}})}var Qs=(Er.prototype.version=function(f){if(isNaN(f)||f<.1)throw new _e.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new _e.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var x=this._versions,E=x.filter(function(k){return k._cfg.version===f})[0];return E||(E=new this.Version(f),x.push(E),x.sort(bn),E.stores({}),this._state.autoSchema=!1,E)},Er.prototype._whenReady=function(f){var x=this;return this.idbdb&&(this._state.openComplete||_t.letThrough||this._vip)?f():new xt(function(E,k){if(x._state.openComplete)return k(new _e.DatabaseClosed(x._state.dbOpenError));if(!x._state.isBeingOpened){if(!x._state.autoOpen)return void k(new _e.DatabaseClosed);x.open().catch(we)}x._state.dbReadyPromise.then(E,k)}).then(f)},Er.prototype.use=function(f){var x=f.stack,E=f.create,k=f.level,O=f.name;return O&&this.unuse({stack:x,name:O}),f=this._middlewares[x]||(this._middlewares[x]=[]),f.push({stack:x,create:E,level:k??10,name:O}),f.sort(function(W,Ae){return W.level-Ae.level}),this},Er.prototype.unuse=function(f){var x=f.stack,E=f.name,k=f.create;return x&&this._middlewares[x]&&(this._middlewares[x]=this._middlewares[x].filter(function(O){return k?O.create!==k:!!E&&O.name!==E})),this},Er.prototype.open=function(){var f=this;return ni(Ut,function(){return Ht(f)})},Er.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var f=this._state,x=_i.indexOf(this);if(0<=x&&_i.splice(x,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new xt(function(E){f.dbReadyResolve=E}),f.openCanceller=new xt(function(E,k){f.cancelOpen=k}))},Er.prototype.close=function(E){var x=(E===void 0?{disableAutoOpen:!0}:E).disableAutoOpen,E=this._state;x?(E.isBeingOpened&&E.cancelOpen(new _e.DatabaseClosed),this._close(),E.autoOpen=!1,E.dbOpenError=new _e.DatabaseClosed):(this._close(),E.autoOpen=this._options.autoOpen||E.isBeingOpened,E.openComplete=!1,E.dbOpenError=null)},Er.prototype.delete=function(f){var x=this;f===void 0&&(f={disableAutoOpen:!0});var E=0<arguments.length&&typeof arguments[0]!="object",k=this._state;return new xt(function(O,W){function Ae(){x.close(f);var ge=x._deps.indexedDB.deleteDatabase(x.name);ge.onsuccess=Nr(function(){var Ce,be,Re;Ce=x._deps,be=x.name,Re=Ce.indexedDB,Ce=Ce.IDBKeyRange,pa(Re)||be===po||Xo(Re,Ce).delete(be).catch(we),O()}),ge.onerror=pn(W),ge.onblocked=x._fireOnBlocked}if(E)throw new _e.InvalidArgument("Invalid closeOptions argument to db.delete()");k.isBeingOpened?k.dbReadyPromise.then(Ae):Ae()})},Er.prototype.backendDB=function(){return this.idbdb},Er.prototype.isOpen=function(){return this.idbdb!==null},Er.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},Er.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Er.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Er.prototype,"tables",{get:function(){var f=this;return o(this._allTables).map(function(x){return f._allTables[x]})},enumerable:!1,configurable:!0}),Er.prototype.transaction=function(){var f=(function(x,E,k){var O=arguments.length;if(O<2)throw new _e.InvalidArgument("Too few arguments");for(var W=new Array(O-1);--O;)W[O-1]=arguments[O];return k=W.pop(),[x,oe(W),k]}).apply(this,arguments);return this._transaction.apply(this,f)},Er.prototype._transaction=function(f,x,E){var k=this,O=_t.trans;O&&O.db===this&&f.indexOf("!")===-1||(O=null);var W,Ae,ge=f.indexOf("?")!==-1;f=f.replace("!","").replace("?","");try{if(Ae=x.map(function(be){if(be=be instanceof k.Table?be.name:be,typeof be!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return be}),f=="r"||f===_A)W=_A;else{if(f!="rw"&&f!=ca)throw new _e.InvalidArgument("Invalid transaction mode: "+f);W=ca}if(O){if(O.mode===_A&&W===ca){if(!ge)throw new _e.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");O=null}O&&Ae.forEach(function(be){if(O&&O.storeNames.indexOf(be)===-1){if(!ge)throw new _e.SubTransaction("Table "+be+" not included in parent transaction.");O=null}}),ge&&O&&!O.active&&(O=null)}}catch(be){return O?O._promise(null,function(Re,ye){ye(be)}):qr(be)}var Ce=(function be(Re,ye,De,Fe,Le){return xt.resolve().then(function(){var Qe=_t.transless||_t,Pe=Re._createTransaction(ye,De,Re._dbSchema,Fe);if(Pe.explicit=!0,Qe={trans:Pe,transless:Qe},Fe)Pe.idbtrans=Fe.idbtrans;else try{Pe.create(),Pe.idbtrans._explicit=!0,Re._state.PR1398_maxLoop=3}catch(st){return st.name===Te.InvalidState&&Re.isOpen()&&0<--Re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Re.close({disableAutoOpen:!1}),Re.open().then(function(){return be(Re,ye,De,null,Le)})):qr(st)}var qe,Ge=me(Le);return Ge&&Mn(),Qe=xt.follow(function(){var st;(qe=Le.call(Pe,Pe))&&(Ge?(st=Fn.bind(null,null),qe.then(st,st)):typeof qe.next=="function"&&typeof qe.throw=="function"&&(qe=lr(qe)))},Qe),(qe&&typeof qe.then=="function"?xt.resolve(qe).then(function(st){return Pe.active?st:qr(new _e.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Qe.then(function(){return qe})).then(function(st){return Fe&&Pe._resolve(),Pe._completion.then(function(){return st})}).catch(function(st){return Pe._reject(st),qr(st)})})}).bind(null,this,W,Ae,O,E);return O?O._promise(W,Ce,"lock"):_t.trans?ni(_t.transless,function(){return k._whenReady(Ce)}):this._whenReady(Ce)},Er.prototype.table=function(f){if(!g(this._allTables,f))throw new _e.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},Er);function Er(f,x){var E=this;this._middlewares={},this.verno=0;var k=Er.dependencies;this._options=x=n({addons:Er.addons,autoOpen:!0,indexedDB:k.indexedDB,IDBKeyRange:k.IDBKeyRange,cache:"cloned"},x),this._deps={indexedDB:x.indexedDB,IDBKeyRange:x.IDBKeyRange},k=x.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var O,W,Ae,ge,Ce,be={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:we,dbReadyPromise:null,cancelOpen:we,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:x.autoOpen};be.dbReadyPromise=new xt(function(ye){be.dbReadyResolve=ye}),be.openCanceller=new xt(function(ye,De){be.cancelOpen=De}),this._state=be,this.name=f,this.on=fn(this,"populate","blocked","versionchange","close",{ready:[ot,we]}),this.once=function(ye,De){var Fe=function(){for(var Le=[],Qe=0;Qe<arguments.length;Qe++)Le[Qe]=arguments[Qe];E.on(ye).unsubscribe(Fe),De.apply(E,Le)};return E.on(ye,Fe)},this.on.ready.subscribe=j(this.on.ready.subscribe,function(ye){return function(De,Fe){Er.vip(function(){var Le,Qe=E._state;Qe.openComplete?(Qe.dbOpenError||xt.resolve().then(De),Fe&&ye(De)):Qe.onReadyBeingFired?(Qe.onReadyBeingFired.push(De),Fe&&ye(De)):(ye(De),Le=E,Fe||ye(function Pe(){Le.on.ready.unsubscribe(De),Le.on.ready.unsubscribe(Pe)}))})}}),this.Collection=(O=this,wn(BA.prototype,function(qe,Pe){this.db=O;var Fe=Vo,Le=null;if(Pe)try{Fe=Pe()}catch(Ge){Le=Ge}var Qe=qe._ctx,Pe=Qe.table,qe=Pe.hook.reading.fire;this._ctx={table:Pe,index:Qe.index,isPrimKey:!Qe.index||Pe.schema.primKey.keyPath&&Qe.index===Pe.schema.primKey.name,range:Fe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Le,or:Qe.or,valueMapper:qe!==Ye?qe:null}})),this.Table=(W=this,wn(Ur.prototype,function(ye,De,Fe){this.db=W,this._tx=Fe,this.name=ye,this.schema=De,this.hook=W._allTables[ye]?W._allTables[ye].hook:fn(null,{creating:[ne,we],reading:[et,Ye],updating:[Xe,we],deleting:[it,we]})})),this.Transaction=(Ae=this,wn(vo.prototype,function(ye,De,Fe,Le,Qe){var Pe=this;ye!=="readonly"&&De.forEach(function(qe){qe=(qe=Fe[qe])===null||qe===void 0?void 0:qe.yProps,qe&&(De=De.concat(qe.map(function(Ge){return Ge.updatesTable})))}),this.db=Ae,this.mode=ye,this.storeNames=De,this.schema=Fe,this.chromeTransactionDurability=Le,this.idbtrans=null,this.on=fn(this,"complete","error","abort"),this.parent=Qe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new xt(function(qe,Ge){Pe._resolve=qe,Pe._reject=Ge}),this._completion.then(function(){Pe.active=!1,Pe.on.complete.fire()},function(qe){var Ge=Pe.active;return Pe.active=!1,Pe.on.error.fire(qe),Pe.parent?Pe.parent._reject(qe):Ge&&Pe.idbtrans&&Pe.idbtrans.abort(),qr(qe)})})),this.Version=(ge=this,wn(NA.prototype,function(ye){this.db=ge,this._cfg={version:ye,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Ce=this,wn(Ar.prototype,function(ye,De,Fe){if(this.db=Ce,this._ctx={table:ye,index:De===":id"?null:De,or:Fe},this._cmp=this._ascending=Dt,this._descending=function(Le,Qe){return Dt(Qe,Le)},this._max=function(Le,Qe){return 0<Dt(Le,Qe)?Le:Qe},this._min=function(Le,Qe){return Dt(Le,Qe)<0?Le:Qe},this._IDBKeyRange=Ce._deps.IDBKeyRange,!this._IDBKeyRange)throw new _e.MissingAPI})),this.on("versionchange",function(ye){0<ye.newVersion?console.warn("Another connection wants to upgrade database '".concat(E.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(E.name,"'. Closing db now to resume the delete request.")),E.close({disableAutoOpen:!1})}),this.on("blocked",function(ye){!ye.newVersion||ye.newVersion<ye.oldVersion?console.warn("Dexie.delete('".concat(E.name,"') was blocked")):console.warn("Upgrade '".concat(E.name,"' blocked by other connection holding version ").concat(ye.oldVersion/10))}),this._maxKey=es(x.IDBKeyRange),this._createTransaction=function(ye,De,Fe,Le){return new E.Transaction(ye,De,Fe,E._options.chromeTransactionDurability,Le)},this._fireOnBlocked=function(ye){E.on("blocked").fire(ye),_i.filter(function(De){return De.name===E.name&&De!==E&&!De._state.vcFired}).map(function(De){return De.on("versionchange").fire(ye)})},this.use(Un),this.use(xo),this.use(_s),this.use(Cr),this.use(Bn);var Re=new Proxy(this,{get:function(ye,De,Fe){if(De==="_vip")return!0;if(De==="table")return function(Qe){return on(E.table(Qe),Re)};var Le=Reflect.get(ye,De,Fe);return Le instanceof Ur?on(Le,Re):De==="tables"?Le.map(function(Qe){return on(Qe,Re)}):De==="_createTransaction"?function(){return on(Le.apply(this,arguments),Re)}:Le}});this.vip=Re,k.forEach(function(ye){return ye(E)})}var Ai,us=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",hs=(FA.prototype.subscribe=function(f,x,E){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:x,complete:E})},FA.prototype[us]=function(){return this},FA);function FA(f){this._subscribe=f}try{Ai={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{Ai={indexedDB:null,IDBKeyRange:null}}function Is(f){var x,E=!1,k=new hs(function(O){var W=me(f),Ae,ge=!1,Ce={},be={},Re={get closed(){return ge},unsubscribe:function(){ge||(ge=!0,Ae&&Ae.abort(),ye&&xs.storagemutated.unsubscribe(Fe))}};O.start&&O.start(Re);var ye=!1,De=function(){return la(Le)},Fe=function(Qe){b(Ce,Qe),q(be,Ce)&&De()},Le=function(){var Qe,Pe,qe;!ge&&Ai.indexedDB&&(Ce={},Qe={},Ae&&Ae.abort(),Ae=new AbortController,qe=function(Ge){var st=ws();try{W&&Mn();var ct=En(f,Ge);return ct=W?ct.finally(Fn):ct}finally{st&&Zn()}}(Pe={subscr:Qe,signal:Ae.signal,requery:De,querier:f,trans:null}),Promise.resolve(qe).then(function(Ge){E=!0,x=Ge,ge||Pe.signal.aborted||(Ce={},function(st){for(var ct in st)if(g(st,ct))return;return 1}(be=Qe)||ye||(xs(da,Fe),ye=!0),la(function(){return!ge&&O.next&&O.next(Ge)}))},function(Ge){E=!1,["DatabaseClosedError","AbortError"].includes(Ge==null?void 0:Ge.name)||ge||la(function(){ge||O.error&&O.error(Ge)})}))};return setTimeout(De,0),Re});return k.hasValue=function(){return E},k.getValue=function(){return x},k}var $i=Qs;function kn(f){var x=Ln;try{Ln=!0,xs.storagemutated.fire(f),vt(f,!0)}finally{Ln=x}}w($i,n(n({},Ke),{delete:function(f){return new $i(f,{addons:[]}).delete()},exists:function(f){return new $i(f,{addons:[]}).open().then(function(x){return x.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return x=$i.dependencies,E=x.indexedDB,x=x.IDBKeyRange,(pa(E)?Promise.resolve(E.databases()).then(function(k){return k.map(function(O){return O.name}).filter(function(O){return O!==po})}):Xo(E,x).toCollection().primaryKeys()).then(f)}catch{return qr(new _e.MissingAPI)}var x,E},defineClass:function(){return function(f){c(this,f)}},ignoreTransaction:function(f){return _t.trans?ni(_t.transless,f):f()},vip:Ls,async:function(f){return function(){try{var x=lr(f.apply(this,arguments));return x&&typeof x.then=="function"?x:xt.resolve(x)}catch(E){return qr(E)}}},spawn:function(f,x,E){try{var k=lr(f.apply(E,x||[]));return k&&typeof k.then=="function"?k:xt.resolve(k)}catch(O){return qr(O)}},currentTransaction:{get:function(){return _t.trans||null}},waitFor:function(f,x){return x=xt.resolve(typeof f=="function"?$i.ignoreTransaction(f):f).timeout(x||6e4),_t.trans?_t.trans.waitFor(x):x},Promise:xt,debug:{get:function(){return At},set:function(f){Ee(f)}},derive:S,extend:c,props:w,override:j,Events:fn,on:xs,liveQuery:Is,extendObservabilitySet:b,getByKeyPath:K,setByKeyPath:G,delByKeyPath:function(f,x){typeof x=="string"?G(f,x,void 0):"length"in x&&[].map.call(x,function(E){G(f,E,void 0)})},shallowClone:M,deepClone:re,getObjectDiff:Mr,cmp:Dt,asap:V,minKey:-1/0,addons:[],connections:_i,errnames:Te,dependencies:Ai,cache:de,semVer:"4.2.1",version:"4.2.1".split(".").map(function(f){return parseInt(f)}).reduce(function(f,x,E){return f+x/Math.pow(10,2*E)})})),$i.maxKey=es($i.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(xs(da,function(f){Ln||(f=new CustomEvent(Ha,{detail:f}),Ln=!0,dispatchEvent(f),Ln=!1)}),addEventListener(Ha,function(f){f=f.detail,Ln||kn(f)}));var Ui,Ln=!1,Wa=function(){};return typeof BroadcastChannel<"u"&&((Wa=function(){(Ui=new BroadcastChannel(Ha)).onmessage=function(f){return f.data&&kn(f.data)}})(),typeof Ui.unref=="function"&&Ui.unref(),xs(da,function(f){Ln||Ui.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!Qs.disableBfCache&&f.persisted){At&&console.debug("Dexie: handling persisted pagehide"),Ui!=null&&Ui.close();for(var x=0,E=_i;x<E.length;x++)E[x].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!Qs.disableBfCache&&f.persisted&&(At&&console.debug("Dexie: handling persisted pageshow"),Wa(),kn({all:new _n(-1/0,[[]])}))})),xt.rejectionMapper=function(f,x){return!f||f instanceof $||f instanceof TypeError||f instanceof SyntaxError||!f.name||!wt[f.name]?f:(x=new wt[f.name](x||f.message,f),"stack"in f&&F(x,"stack",{get:function(){return this.inner.stack}}),x)},Ee(At),n(Qs,Object.freeze({__proto__:null,Dexie:Qs,liveQuery:Is,Entity:Bi,cmp:Dt,PropModification:zs,replacePrefix:function(f,x){return new zs({replacePrefix:[f,x]})},add:function(f){return new zs({add:f})},remove:function(f){return new zs({remove:f})},default:Qs,RangeSet:_n,mergeRanges:Gi,rangesOverlap:ga}),{default:Qs}),Qs})})(z4);var dQ=z4.exports;const mw=Yw(dQ),Db=Symbol.for("Dexie"),cg=globalThis[Db]||(globalThis[Db]=mw);if(mw.semVer!==cg.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${mw.semVer} and ${cg.semVer}`);const{liveQuery:jM,mergeRanges:UM,rangesOverlap:kM,RangeSet:LM,cmp:QM,Entity:IM,PropModification:PM,replacePrefix:TM,add:OM,remove:RM,DexieYProvider:DM}=cg;class fQ extends cg{constructor(){super("ReflexoFeuOffline");N0(this,"relevesEtudes");N0(this,"photos");this.version(1).stores({relevesEtudes:"++id, sessionId, armoireId, zoneId, synced, createdAt",photos:"++id, sessionId, armoireId, zoneId, synced, createdAt"})}}const Ja=new fQ,Qc={async saveReleveEtude(t){return await Ja.relevesEtudes.add({...t,createdAt:new Date,synced:!1})},async savePhoto(t){return await Ja.photos.add({...t,createdAt:new Date,synced:!1})},async getPendingReleves(){return await Ja.relevesEtudes.where("synced").equals(0).toArray()},async getPendingPhotos(){return await Ja.photos.where("synced").equals(0).toArray()},async markReleveAsSynced(t){return await Ja.relevesEtudes.update(t,{synced:!0})},async markPhotoAsSynced(t){return await Ja.photos.update(t,{synced:!0})},async deleteReleveEtude(t){return await Ja.relevesEtudes.delete(t)},async deletePhoto(t){return await Ja.photos.delete(t)},async getPendingCount(){const t=await Ja.relevesEtudes.where("synced").equals(0).count(),e=await Ja.photos.where("synced").equals(0).count();return{releves:t,photos:e,total:t+e}},async clearSyncedData(){await Ja.relevesEtudes.where("synced").equals(1).delete(),await Ja.photos.where("synced").equals(1).delete()}};async function WA(t,e="releve-photos"){const r=`${Date.now()}-${crypto.randomUUID()}-${t.name}`;return await $L(e,r,t)}async function pQ(t,e=1){return new Promise(r=>{const n=new Image;n.onload=()=>{const s=document.createElement("canvas");let i=n.width,o=n.height;const l=1920,c=1920;i>o?i>l&&(o*=l/i,i=l):o>c&&(i*=c/o,o=c),s.width=i,s.height=o;const h=s.getContext("2d");h==null||h.drawImage(n,0,0,i,o);let p=.8,g=s.toDataURL("image/jpeg",p);const w=g.length*3/4/1024/1024;w>e&&(p=Math.max(.3,p*(e/w)),g=s.toDataURL("image/jpeg",p)),r(g)},n.src=t})}async function mQ(t){try{const r=(await Qc.getPendingPhotos()).filter(i=>i.sessionId===t.sessionId&&i.armoireId===t.armoireId&&i.zoneId===t.zoneId),n=[];for(const i of r)try{const o=await pQ(i.photoData,1),l=await(await fetch(o)).blob(),c=new File([l],`photo_${Date.now()}.jpg`,{type:"image/jpeg"}),h=await WA(c,"releve-photos");h&&(n.push(h),i.id&&await Qc.markPhotoAsSynced(i.id))}catch(o){console.error("Error uploading photo:",o)}const{error:s}=await Ft.from("releve_etudes").insert({session_id:t.sessionId,armoire_id:t.armoireId,zone_id:t.zoneId,zone_nom:t.zoneNom,depth:t.depth,nombre_alarmes:t.nombreAlarmes,niveau_huile:t.niveauHuile,numero_fiche:t.numeroFiche,photos:n});if(s)throw s;return t.id&&await Qc.markReleveAsSynced(t.id),!0}catch(e){return console.error("Error syncing releve:",e),!1}}const cv={async syncAll(){const t={success:!0,syncedReleves:0,syncedPhotos:0,errors:[]};try{const e=await Qc.getPendingReleves();for(const r of e)await mQ(r)?t.syncedReleves++:(t.success=!1,t.errors.push(`chec de synchronisation du relev ${r.numeroFiche}`));await Qc.clearSyncedData()}catch(e){t.success=!1,t.errors.push(e instanceof Error?e.message:"Erreur inconnue")}return t},async hasDataToSync(){return(await Qc.getPendingCount()).total>0},async getPendingCount(){return await Qc.getPendingCount()}};function gQ(){const[t,e]=le.useState(navigator.onLine),[r,n]=le.useState(!1),[s,i]=le.useState({releves:0,photos:0,total:0}),[o,l]=le.useState(null),c=async()=>{const p=await cv.getPendingCount();i(p)},h=async()=>{if(!(!t||r||!await cv.hasDataToSync())){n(!0);try{const g=await cv.syncAll();l(g),await c()}catch(g){console.error("Sync error:",g)}finally{n(!1)}}};return le.useEffect(()=>{const p=async()=>{e(!0),setTimeout(()=>{h()},1e3)},g=()=>{e(!1)};window.addEventListener("online",p),window.addEventListener("offline",g),c();const w=setInterval(c,5e3);return()=>{window.removeEventListener("online",p),window.removeEventListener("offline",g),clearInterval(w)}},[]),le.useEffect(()=>{t&&!r&&h()},[t]),{isOnline:t,isSyncing:r,pendingCount:s,lastSyncResult:o,syncData:h,updatePendingCount:c}}function vQ(){const{isOnline:t,isSyncing:e,pendingCount:r,lastSyncResult:n,syncData:s}=gQ();return t&&r.total===0&&!n?null:A.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 ${t?"bg-blue-600":"bg-orange-600"} text-white px-4 py-2 shadow-lg`,children:A.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[t?A.jsx(hQ,{className:"w-5 h-5"}):A.jsx(uQ,{className:"w-5 h-5"}),A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"font-semibold",children:t?"En ligne":"Hors ligne"}),r.total>0&&A.jsxs("span",{className:"text-sm opacity-90",children:[r.releves," relev(s) en attente"]})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[e&&A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(H4,{className:"w-4 h-4 animate-spin"}),A.jsx("span",{className:"text-sm",children:"Synchronisation..."})]}),n&&!e&&A.jsx("div",{className:"flex items-center gap-2",children:n.success?A.jsxs(A.Fragment,{children:[A.jsx(Gd,{className:"w-4 h-4"}),A.jsxs("span",{className:"text-sm",children:[n.syncedReleves," relev(s) synchronis(s)"]})]}):A.jsxs(A.Fragment,{children:[A.jsx(fw,{className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Erreur de synchronisation"})]})}),t&&r.total>0&&!e&&A.jsx("button",{onClick:s,className:"px-3 py-1 bg-white text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-50 transition-colors",children:"Synchroniser"})]})]})})}function yQ(){const{profile:t,signOut:e}=uo(),r=Us(),n=[{to:"/accueil",label:"ACCUEIL",icon:iQ},{to:"/clients",label:"CLIENTS",icon:ux},{to:"/releves-liste",label:"RELEV - TUDE",icon:Ao},{to:"/installation",label:"INSTALLATION",icon:K4},{to:"/verification",label:"VRIFICATION",icon:P4},{to:"/rapports",label:"RAPPORTS",icon:T4},{to:"/carte",label:"CARTE",icon:D4},{to:"/infos",label:"INFOS",icon:O4}];return A.jsxs("div",{className:"min-h-screen flex flex-col",children:[A.jsx(vQ,{}),A.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:A.jsxs("div",{className:"container mx-auto px-4",children:[A.jsxs("div",{className:"flex items-center justify-between py-4",children:[A.jsxs("button",{onClick:()=>r("/accueil"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center shadow-lg",children:A.jsx("span",{className:"text-white font-bold text-2xl",children:"R"})}),A.jsxs("div",{className:"flex flex-col items-start",children:[A.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Reflex",A.jsx("span",{className:"text-orange-600",children:"O"}),"Feu"]}),A.jsx("p",{className:"text-xs text-gray-500 hidden md:block",children:"Dtection extinction industrielle"})]})]}),A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[A.jsx(cx,{className:"w-5 h-5"}),A.jsx("span",{className:"text-sm font-medium hidden md:inline",children:(t==null?void 0:t.full_name)||(t==null?void 0:t.email)}),A.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:t==null?void 0:t.role})]}),A.jsxs("button",{onClick:e,className:"flex items-center space-x-1 text-gray-600 hover:text-red-600 transition-colors p-2 rounded-lg hover:bg-red-50",title:"Dconnexion",children:[A.jsx(lQ,{className:"w-5 h-5"}),A.jsx("span",{className:"hidden md:inline text-sm font-medium",children:"Dconnexion"})]})]})]}),A.jsx("nav",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-8 gap-2 pb-4",children:n.map(s=>A.jsxs(jj,{to:s.to,className:({isActive:i})=>`flex flex-col items-center justify-center p-4 rounded-lg font-medium transition-all ${i?"bg-gradient-to-br from-orange-500 to-red-600 text-white shadow-lg scale-105":"bg-gray-50 text-gray-700 hover:bg-gray-100 hover:shadow-md active:scale-95"}`,children:[A.jsx(s.icon,{className:"w-6 h-6 mb-1"}),A.jsx("span",{className:"text-xs text-center leading-tight",children:s.label})]},s.to))})]})}),A.jsx("main",{className:"flex-1 container mx-auto px-4 py-6",children:A.jsx(gj,{})}),A.jsx("footer",{className:"bg-gray-800 text-white py-4",children:A.jsxs("div",{className:"container mx-auto px-4 text-center text-sm",children:[" ",new Date().getFullYear()," ReflexOFeu - Tous droits rservs"]})})]})}function wQ({onReload:t}){return A.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-slide-up",children:A.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg shadow-2xl p-4 text-white",children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx(H4,{className:"w-6 h-6 animate-spin"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"font-semibold mb-1",children:"Nouvelle version disponible"}),A.jsx("p",{className:"text-sm text-blue-100 mb-3",children:"Une mise  jour est disponible. Rechargez l'application pour bnficier des dernires amliorations."}),A.jsx("button",{onClick:t,className:"w-full bg-white text-blue-600 font-medium py-2 px-4 rounded-lg hover:bg-blue-50 transition-colors",children:"Recharger maintenant"})]})]})})})}function xQ({images:t,autoPlayInterval:e=4e3}){const[r,n]=le.useState(0);le.useEffect(()=>{if(e<=0)return;const l=setInterval(()=>{n(c=>(c+1)%t.length)},e);return()=>clearInterval(l)},[e,t.length]);const s=()=>{n(l=>(l-1+t.length)%t.length)},i=()=>{n(l=>(l+1)%t.length)},o=l=>{const c=l-r;return c>t.length/2?c-t.length:c<-t.length/2?c+t.length:c};return A.jsxs("div",{className:"relative w-full flex items-center justify-center overflow-hidden py-6",children:[A.jsx("div",{className:"relative w-full h-64 flex items-center justify-center",children:t.map((l,c)=>{const h=o(c),p=h===0;return Math.abs(h)<=2?A.jsx("div",{className:"absolute transition-all duration-700 ease-out cursor-pointer",style:{transform:`translateX(${h*240}px) scale(${p?1.2:.7})`,zIndex:p?20:10-Math.abs(h),opacity:p?1:.4},onClick:()=>n(c),children:A.jsx("img",{src:l,alt:`Slide ${c+1}`,className:"w-80 h-60 object-cover rounded-xl shadow-2xl"})},c):null})}),A.jsx("button",{onClick:s,className:"absolute left-4 top-1/2 -translate-y-1/2 z-30 bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all hover:scale-110","aria-label":"Image prcdente",children:A.jsx(I4,{className:"w-5 h-5 text-gray-800"})}),A.jsx("button",{onClick:i,className:"absolute right-4 top-1/2 -translate-y-1/2 z-30 bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all hover:scale-110","aria-label":"Image suivante",children:A.jsx(rQ,{className:"w-5 h-5 text-gray-800"})}),A.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex space-x-2 z-30",children:t.map((l,c)=>A.jsx("button",{onClick:()=>n(c),className:`w-2 h-2 rounded-full transition-all ${c===r?"bg-white w-6":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller  l'image ${c+1}`},c))})]})}const bQ=["/whatsapp_image_2025-12-17_at_10.10.01_(2).jpeg","/whatsapp_image_2025-12-17_at_10.10.37.jpeg","/whatsapp_image_2025-12-17_at_10.10.39_(4).jpeg","/whatsapp_image_2026-01-14_at_11.55.28_(2).jpeg","/whatsapp_image_2026-01-14_at_11.55.28_(5).jpeg"];function _Q(){const[t,e]=le.useState(""),[r,n]=le.useState(""),[s,i]=le.useState(""),[o,l]=le.useState(!1),{signIn:c}=uo(),h=Us(),p=async g=>{g.preventDefault(),i(""),l(!0);try{await c(t,r),h("/")}catch(w){i(w.message||"Erreur lors de la connexion")}finally{l(!1)}};return A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-500 to-primary-700 flex flex-col",children:[A.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-8",children:A.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-xl p-8",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsxs("div",{className:"inline-flex items-center space-x-2 mb-2",children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center",children:A.jsx("span",{className:"text-white font-bold text-2xl",children:"R"})}),A.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Reflex",A.jsx("span",{className:"text-orange-600",children:"O"}),"Feu"]})]}),A.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Dtection extinction industrielle"}),A.jsx("p",{className:"text-gray-600",children:"Connectez-vous  votre compte"})]}),A.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s&&A.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm",children:s}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),A.jsx("input",{id:"email",type:"email",value:t,onChange:g=>e(g.target.value),className:"input",required:!0,autoComplete:"email",placeholder:"votre@email.com"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"label",children:"Mot de passe"}),A.jsx("input",{id:"password",type:"password",value:r,onChange:g=>n(g.target.value),className:"input",required:!0,autoComplete:"current-password",placeholder:""})]}),A.jsx("button",{type:"submit",disabled:o,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Connexion...":"Se connecter"})]})]})}),A.jsx("div",{className:"bg-white/10 backdrop-blur-sm border-t border-white/20",children:A.jsx("div",{className:"max-w-7xl mx-auto",children:A.jsx(xQ,{images:bQ,autoPlayInterval:5e3})})})]})}function BQ(){const t=Us(),{isAdmin:e}=uo(),r=[{title:"CLIENTS",description:"Grer la liste des clients et crer de nouveaux clients",icon:ux,color:"from-blue-500 to-blue-600",path:"/clients"},{title:"RELEV - TUDE",description:"Effectuer un relev et crer une tude de site",icon:Ao,color:"from-green-500 to-green-600",path:"/releves-liste"},{title:"INSTALLATION",description:"Enregistrer les installations de matriel",icon:K4,color:"from-orange-500 to-orange-600",path:"/installation"},{title:"VRIFICATION",description:"Vrifier les installations existantes",icon:P4,color:"from-red-500 to-red-600",path:"/verification"},{title:"RAPPORTS",description:"Consulter et gnrer les rapports",icon:T4,color:"from-teal-500 to-teal-600",path:"/rapports"},{title:"CARTE",description:"Visualiser les clients sur la carte",icon:D4,color:"from-cyan-500 to-cyan-600",path:"/carte"},{title:"INFOS",description:"Informations et documentation",icon:O4,color:"from-gray-500 to-gray-600",path:"/infos"}];return A.jsxs("div",{className:"max-w-7xl mx-auto",children:[A.jsxs("div",{className:"mb-8",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bienvenue sur ReflexOFeu"}),A.jsx("p",{className:"text-gray-600",children:"Slectionnez une fonctionnalit pour commencer"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[r.map(n=>A.jsxs("button",{onClick:()=>t(n.path),className:"group relative bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden active:scale-95",children:[A.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.color} opacity-0 group-hover:opacity-10 transition-opacity`}),A.jsxs("div",{className:"p-6 flex flex-col items-center text-center",children:[A.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${n.color} flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-transform`,children:A.jsx(n.icon,{className:"w-8 h-8 text-white"})}),A.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n.title}),A.jsx("p",{className:"text-sm text-gray-600",children:n.description})]}),A.jsx("div",{className:`h-1 bg-gradient-to-r ${n.color}`})]},n.path)),e&&A.jsxs("button",{onClick:()=>t("/utilisateurs"),className:"group relative bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden active:scale-95",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-purple-600 opacity-0 group-hover:opacity-10 transition-opacity"}),A.jsxs("div",{className:"p-6 flex flex-col items-center text-center",children:[A.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-transform",children:A.jsx(cQ,{className:"w-8 h-8 text-white"})}),A.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"UTILISATEURS"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Grer les accs et les utilisateurs"})]}),A.jsx("div",{className:"h-1 bg-gradient-to-r from-purple-500 to-purple-600"})]})]}),A.jsxs("div",{className:"mt-12 p-6 bg-gradient-to-br from-orange-50 to-red-50 rounded-xl border border-orange-200",children:[A.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Conseils d'utilisation"}),A.jsxs("ul",{className:"space-y-2 text-gray-700",children:[A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"text-orange-600 mr-2",children:""}),A.jsx("span",{children:"Utilisez le menu de navigation en haut pour accder rapidement aux diffrentes sections"})]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"text-orange-600 mr-2",children:""}),A.jsx("span",{children:"Cliquez sur le logo ReflexOFeu pour revenir  cette page d'accueil"})]}),A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"text-orange-600 mr-2",children:""}),A.jsx("span",{children:"L'application fonctionne hors ligne - vos donnes seront synchronises automatiquement"})]})]})]})]})}const Xh={async getAll(){const{data:t,error:e}=await Ft.from("clients").select(`
        *,
        sites (*)
      `).order("created_at",{ascending:!1});if(e)throw e;return t||[]},async getById(t){const{data:e,error:r}=await Ft.from("clients").select(`
        *,
        sites (*)
      `).eq("id",t).maybeSingle();if(r)throw r;return e},async create(t,e){const{data:r,error:n}=await Ft.from("clients").insert({...t,created_by:e}).select().single();if(n)throw n;return r},async update(t,e){const{data:r,error:n}=await Ft.from("clients").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},async delete(t){const{error:e}=await Ft.from("clients").delete().eq("id",t);if(e)throw e},async searchByFilters(t){let e=Ft.from("clients").select(`
        *,
        sites (*)
      `);t.clientId&&(e=e.eq("id",t.clientId)),t.ville&&(e=e.ilike("ville",`%${t.ville}%`)),t.codePostal&&(e=e.ilike("code_postal",`${t.codePostal}%`));const{data:r,error:n}=await e.order("created_at",{ascending:!1});if(n)throw n;return r||[]}},To={async getAll(){const{data:t,error:e}=await Ft.from("sites").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},async getById(t){const{data:e,error:r}=await Ft.from("sites").select("*").eq("id",t).maybeSingle();if(r)throw r;return e},async getByClientId(t){const{data:e,error:r}=await Ft.from("sites").select("*").eq("client_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]},async create(t){const{data:e,error:r}=await Ft.from("sites").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:n}=await Ft.from("sites").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},async delete(t){const{error:e}=await Ft.from("sites").delete().eq("id",t);if(e)throw e},async getSitesWithCoordinates(){const{data:t,error:e}=await Ft.from("sites").select("*").not("latitude","is",null).not("longitude","is",null);if(e)throw e;return t||[]}};function hc(){return ex({queryKey:["clients"],queryFn:()=>Xh.getAll()})}function CQ(t){return ex({queryKey:["clients",t],queryFn:()=>Xh.getById(t),enabled:!!t})}function NQ(){const t=uc();return Jh({mutationFn:({client:e,userId:r})=>Xh.create(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["clients"]})}})}function SQ(){const t=uc();return Jh({mutationFn:({id:e,updates:r})=>Xh.update(e,r),onSuccess:(e,r)=>{t.invalidateQueries({queryKey:["clients"]}),t.invalidateQueries({queryKey:["clients",r.id]})}})}function EQ(){const t=uc();return Jh({mutationFn:e=>Xh.delete(e),onSuccess:()=>{t.invalidateQueries({queryKey:["clients"]})}})}function FQ(){return ex({queryKey:["sites"],queryFn:()=>To.getAll()})}function jQ(){const t=uc();return Jh({mutationFn:e=>To.create(e),onSuccess:e=>{t.invalidateQueries({queryKey:["sites"]}),t.invalidateQueries({queryKey:["sites","client",e.client_id]}),t.invalidateQueries({queryKey:["clients",e.client_id]})}})}function UQ(){const t=uc();return Jh({mutationFn:({id:e,updates:r})=>To.update(e,r),onSuccess:(e,r)=>{t.invalidateQueries({queryKey:["sites"]}),t.invalidateQueries({queryKey:["sites",r.id]}),t.invalidateQueries({queryKey:["sites","client",e.client_id]})}})}function kQ(){const t=uc();return Jh({mutationFn:e=>To.delete(e),onSuccess:()=>{t.invalidateQueries({queryKey:["sites"]})}})}function Ho(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function cu(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const V4=6048e5,LQ=864e5,W4=6e4,G4=36e5;let QQ={};function Jg(){return QQ}function Qf(t,e){var l,c,h,p;const r=Jg(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=Ho(t),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function ug(t){return Qf(t,{weekStartsOn:1})}function $4(t){const e=Ho(t),r=e.getFullYear(),n=cu(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=ug(n),i=cu(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=ug(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Mb(t){const e=Ho(t);return e.setHours(0,0,0,0),e}function Hb(t){const e=Ho(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function IQ(t,e){const r=Mb(t),n=Mb(e),s=+r-Hb(r),i=+n-Hb(n);return Math.round((s-i)/LQ)}function PQ(t){const e=$4(t),r=cu(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),ug(r)}function TQ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function OQ(t){if(!TQ(t)&&typeof t!="number")return!1;const e=Ho(t);return!isNaN(Number(e))}function RQ(t){const e=Ho(t),r=cu(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const DQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MQ=(t,e,r)=>{let n;const s=DQ[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function gh(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const HQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zQ={date:gh({formats:HQ,defaultWidth:"full"}),time:gh({formats:KQ,defaultWidth:"full"}),dateTime:gh({formats:qQ,defaultWidth:"full"})},VQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WQ=(t,e,r,n)=>VQ[t];function dA(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const GQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$Q={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ZQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},XQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},YQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eI=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tI={ordinalNumber:eI,era:dA({values:GQ,defaultWidth:"wide"}),quarter:dA({values:$Q,defaultWidth:"wide",argumentCallback:t=>t-1}),month:dA({values:JQ,defaultWidth:"wide"}),day:dA({values:ZQ,defaultWidth:"wide"}),dayPeriod:dA({values:XQ,defaultWidth:"wide",formattingValues:YQ,defaultFormattingWidth:"wide"})};function fA(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?nI(l,g=>g.test(o)):rI(l,g=>g.test(o));let h;h=t.valueCallback?t.valueCallback(c):c,h=r.valueCallback?r.valueCallback(h):h;const p=e.slice(o.length);return{value:h,rest:p}}}function rI(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function nI(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function J4(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const sI=/^(\d+)(th|st|nd|rd)?/i,iI=/\d+/i,aI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oI={any:[/^b/i,/^(a|c)/i]},AI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lI={any:[/1/i,/2/i,/3/i,/4/i]},cI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mI={ordinalNumber:J4({matchPattern:sI,parsePattern:iI,valueCallback:t=>parseInt(t,10)}),era:fA({matchPatterns:aI,defaultMatchWidth:"wide",parsePatterns:oI,defaultParseWidth:"any"}),quarter:fA({matchPatterns:AI,defaultMatchWidth:"wide",parsePatterns:lI,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fA({matchPatterns:cI,defaultMatchWidth:"wide",parsePatterns:uI,defaultParseWidth:"any"}),day:fA({matchPatterns:hI,defaultMatchWidth:"wide",parsePatterns:dI,defaultParseWidth:"any"}),dayPeriod:fA({matchPatterns:fI,defaultMatchWidth:"any",parsePatterns:pI,defaultParseWidth:"any"})},gI={code:"en-US",formatDistance:MQ,formatLong:zQ,formatRelative:WQ,localize:tI,match:mI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vI(t){const e=Ho(t);return IQ(e,RQ(e))+1}function yI(t){const e=Ho(t),r=+ug(e)-+PQ(e);return Math.round(r/V4)+1}function Z4(t,e){var p,g,w,y;const r=Ho(t),n=r.getFullYear(),s=Jg(),i=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(w=s.locale)==null?void 0:w.options)==null?void 0:y.firstWeekContainsDate)??1,o=cu(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Qf(o,e),c=cu(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const h=Qf(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function wI(t,e){var l,c,h,p;const r=Jg(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=Z4(t,e),i=cu(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Qf(i,e)}function xI(t,e){const r=Ho(t),n=+Qf(r,e)-+wI(r,e);return Math.round(n/V4)+1}function Xr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const fl={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Xr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Xr(r+1,2)},d(t,e){return Xr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Xr(t.getHours()%12||12,e.length)},H(t,e){return Xr(t.getHours(),e.length)},m(t,e){return Xr(t.getMinutes(),e.length)},s(t,e){return Xr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Xr(s,e.length)}},ku={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kb={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return fl.y(t,e)},Y:function(t,e,r,n){const s=Z4(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Xr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Xr(i,e.length)},R:function(t,e){const r=$4(t);return Xr(r,e.length)},u:function(t,e){const r=t.getFullYear();return Xr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Xr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Xr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return fl.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Xr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=xI(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Xr(s,e.length)},I:function(t,e,r){const n=yI(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Xr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):fl.d(t,e)},D:function(t,e,r){const n=vI(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Xr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Xr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Xr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Xr(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=ku.noon:n===0?s=ku.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=ku.evening:n>=12?s=ku.afternoon:n>=4?s=ku.morning:s=ku.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fl.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):fl.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Xr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Xr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):fl.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):fl.s(t,e)},S:function(t,e){return fl.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return zb(n);case"XXXX":case"XX":return Bc(n);case"XXXXX":case"XXX":default:return Bc(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return zb(n);case"xxxx":case"xx":return Bc(n);case"xxxxx":case"xxx":default:return Bc(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qb(n,":");case"OOOO":default:return"GMT"+Bc(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qb(n,":");case"zzzz":default:return"GMT"+Bc(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Xr(n,e.length)},T:function(t,e,r){const n=t.getTime();return Xr(n,e.length)}};function qb(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+Xr(i,2)}function zb(t,e){return t%60===0?(t>0?"-":"+")+Xr(Math.abs(t)/60,2):Bc(t,e)}function Bc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Xr(Math.trunc(n/60),2),i=Xr(n%60,2);return r+s+e+i}const Vb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},X4=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},bI=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Vb(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Vb(n,e)).replace("{{time}}",X4(s,e))},_I={p:X4,P:bI},BI=/^D+$/,CI=/^Y+$/,NI=["D","DD","YY","YYYY"];function SI(t){return BI.test(t)}function EI(t){return CI.test(t)}function FI(t,e,r){const n=jI(t,e,r);if(console.warn(n),NI.includes(t))throw new RangeError(n)}function jI(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LI=/^'([^]*?)'?$/,QI=/''/g,II=/[a-zA-Z]/;function PI(t,e,r){var p,g,w,y,F,S,Q,_;const n=Jg(),s=(r==null?void 0:r.locale)??n.locale??gI,i=(r==null?void 0:r.firstWeekContainsDate)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(w=n.locale)==null?void 0:w.options)==null?void 0:y.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((S=(F=r==null?void 0:r.locale)==null?void 0:F.options)==null?void 0:S.weekStartsOn)??n.weekStartsOn??((_=(Q=n.locale)==null?void 0:Q.options)==null?void 0:_.weekStartsOn)??0,l=Ho(t);if(!OQ(l))throw new RangeError("Invalid time value");let c=e.match(kI).map(B=>{const j=B[0];if(j==="p"||j==="P"){const T=_I[j];return T(B,s.formatLong)}return B}).join("").match(UI).map(B=>{if(B==="''")return{isToken:!1,value:"'"};const j=B[0];if(j==="'")return{isToken:!1,value:TI(B)};if(Kb[j])return{isToken:!0,value:B};if(j.match(II))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:B}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(B=>{if(!B.isToken)return B.value;const j=B.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&EI(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&SI(j))&&FI(j,e,String(t));const T=Kb[j[0]];return T(l,j,s.localize,h)}).join("")}function TI(t){const e=t.match(LI);return e?e[1].replace(QI,"'"):t}function OI(t,e){const n=HI(t);let s;if(n.date){const c=KI(n.date,2);s=qI(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=zI(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=VI(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(i+o+l)}const Mp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},RI=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,DI=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,MI=/^([+-])(\d{2})(?::?(\d{2}))?$/;function HI(t){const e={},r=t.split(Mp.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Mp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Mp.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=Mp.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function KI(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function qI(t,e){if(e===null)return new Date(NaN);const r=t.match(RI);if(!r)return new Date(NaN);const n=!!r[4],s=md(r[1]),i=md(r[2])-1,o=md(r[3]),l=md(r[4]),c=md(r[5])-1;if(n)return ZI(e,l,c)?WI(e,l,c):new Date(NaN);{const h=new Date(0);return!$I(e,i,o)||!JI(e,s)?new Date(NaN):(h.setUTCFullYear(e,i,Math.max(s,o)),h)}}function md(t){return t?parseInt(t):1}function zI(t){const e=t.match(DI);if(!e)return NaN;const r=uv(e[1]),n=uv(e[2]),s=uv(e[3]);return XI(r,n,s)?r*G4+n*W4+s*1e3:NaN}function uv(t){return t&&parseFloat(t.replace(",","."))||0}function VI(t){if(t==="Z")return 0;const e=t.match(MI);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return YI(n,s)?r*(n*G4+s*W4):NaN}function WI(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,i=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const GI=[31,null,31,30,31,30,31,31,30,31,30,31];function Y4(t){return t%400===0||t%4===0&&t%100!==0}function $I(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(GI[e]||(Y4(t)?29:28))}function JI(t,e){return e>=1&&e<=(Y4(t)?366:365)}function ZI(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function XI(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function YI(t,e){return e>=0&&e<=59}const eP={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},tP=(t,e,r)=>{let n;const s=eP[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},rP={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},nP={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sP={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iP={date:gh({formats:rP,defaultWidth:"full"}),time:gh({formats:nP,defaultWidth:"full"}),dateTime:gh({formats:sP,defaultWidth:"full"})},aP={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},oP=(t,e,r,n)=>aP[t],AP={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},lP={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},cP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},uP={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},hP={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},dP=(t,e)=>{const r=Number(t),n=e==null?void 0:e.unit;if(r===0)return"0";const s=["year","week","hour","minute","second"];let i;return r===1?i=n&&s.includes(n)?"re":"er":i="me",r+i},fP=["MMM","MMMM"],pP={preprocessor:(t,e)=>t.getDate()===1||!e.some(n=>n.isToken&&fP.includes(n.value))?e:e.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:dP,era:dA({values:AP,defaultWidth:"wide"}),quarter:dA({values:lP,defaultWidth:"wide",argumentCallback:t=>t-1}),month:dA({values:cP,defaultWidth:"wide"}),day:dA({values:uP,defaultWidth:"wide"}),dayPeriod:dA({values:hP,defaultWidth:"wide"})},mP=/^(\d+)(ime|re|me|er|e)?/i,gP=/\d+/i,vP={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},yP={any:[/^av/i,/^ap/i]},wP={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},xP={any:[/1/i,/2/i,/3/i,/4/i]},bP={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},_P={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},BP={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},CP={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},NP={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},SP={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},EP={ordinalNumber:J4({matchPattern:mP,parsePattern:gP,valueCallback:t=>parseInt(t)}),era:fA({matchPatterns:vP,defaultMatchWidth:"wide",parsePatterns:yP,defaultParseWidth:"any"}),quarter:fA({matchPatterns:wP,defaultMatchWidth:"wide",parsePatterns:xP,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fA({matchPatterns:bP,defaultMatchWidth:"wide",parsePatterns:_P,defaultParseWidth:"any"}),day:fA({matchPatterns:BP,defaultMatchWidth:"wide",parsePatterns:CP,defaultParseWidth:"any"}),dayPeriod:fA({matchPatterns:NP,defaultMatchWidth:"any",parsePatterns:SP,defaultParseWidth:"any"})},FP={code:"fr",formatDistance:tP,formatLong:iP,formatRelative:oP,localize:pP,match:EP,options:{weekStartsOn:1,firstWeekContainsDate:4}};function hg(t,e="dd/MM/yyyy"){try{const r=typeof t=="string"?OI(t):t;return PI(r,e,{locale:FP})}catch{return""}}const jP="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");function UP(){const{data:t,isLoading:e}=hc(),r=EQ(),[n,s]=le.useState(null),i=async(c,h)=>{if(window.confirm(`tes-vous sr de vouloir supprimer le client "${h}" ?`))try{await r.mutateAsync(c)}catch{alert("Erreur lors de la suppression du client")}};if(e)return A.jsx("div",{className:"text-center py-8",children:"Chargement..."});const o=n?t==null?void 0:t.filter(c=>c.nom.toUpperCase().startsWith(n)):t,l=new Set((t==null?void 0:t.map(c=>c.nom.charAt(0).toUpperCase()))||[]);return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Clients"}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs(Sd,{to:"/clients/import",className:"btn-secondary flex items-center space-x-2",children:[A.jsx(Zf,{className:"w-5 h-5"}),A.jsx("span",{children:"Importer Excel"})]}),A.jsxs(Sd,{to:"/clients/new",className:"btn-primary flex items-center space-x-2",children:[A.jsx(so,{className:"w-5 h-5"}),A.jsx("span",{children:"Crer un client"})]})]})]}),t&&t.length>0&&A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center space-x-1 flex-wrap gap-y-2",children:[A.jsx("button",{onClick:()=>s(null),className:`px-3 py-1.5 text-sm font-bold rounded transition-colors ${n===null?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"TOUS"}),jP.map(c=>A.jsx("button",{onClick:()=>s(c),disabled:!l.has(c),className:`px-3 py-1.5 text-sm font-bold rounded transition-colors ${n===c?"bg-primary-600 text-white":l.has(c)?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-50 text-gray-300 cursor-not-allowed"}`,children:c},c))]})}),!t||t.length===0?A.jsxs("div",{className:"card text-center py-12",children:[A.jsx(tQ,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun client"}),A.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez par crer votre premier client"}),A.jsxs(Sd,{to:"/clients/new",className:"btn-primary inline-flex items-center space-x-2",children:[A.jsx(so,{className:"w-5 h-5"}),A.jsx("span",{children:"Crer un client"})]})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o==null?void 0:o.map(c=>A.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[A.jsxs("div",{className:"flex items-start justify-between mb-4",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c.nom}),c.multi_site&&A.jsx("span",{className:"badge bg-blue-100 text-blue-800",children:"Multi-sites"})]}),A.jsxs("div",{className:"flex space-x-2",children:[A.jsx(Sd,{to:`/clients/${c.id}/edit`,className:"text-primary-600 hover:text-primary-800 transition-colors",title:"Modifier",children:A.jsx(q4,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>i(c.id,c.nom),className:"text-red-600 hover:text-red-800 transition-colors",title:"Supprimer",children:A.jsx(VA,{className:"w-5 h-5"})})]})]}),A.jsxs("div",{className:"space-y-2 text-sm",children:[A.jsxs("div",{className:"flex items-start space-x-2",children:[A.jsx(R4,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-900",children:c.adresse}),c.adresse2&&A.jsx("p",{className:"text-gray-600",children:c.adresse2}),A.jsxs("p",{className:"text-gray-600",children:[c.code_postal," ",c.ville]})]})]}),c.contact&&A.jsxs("p",{className:"text-gray-600",children:[A.jsx("span",{className:"font-medium",children:"Contact:"})," ",c.contact]}),c.telephone&&A.jsxs("p",{className:"text-gray-600",children:[A.jsx("span",{className:"font-medium",children:"Tl:"})," ",c.telephone]}),c.email&&A.jsxs("p",{className:"text-gray-600 truncate",children:[A.jsx("span",{className:"font-medium",children:"Email:"})," ",c.email]}),c.sites&&c.sites.length>0&&A.jsx("div",{className:"pt-2 mt-2 border-t border-gray-200",children:A.jsxs("p",{className:"text-gray-600 font-medium",children:[c.sites.length," site",c.sites.length>1?"s":""]})})]}),A.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 text-xs text-gray-500",children:["Cr le ",hg(c.created_at)]})]},c.id))})]})}async function Wb(t,e,r){try{const n=`${t}, ${e} ${r}, France`,s=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n)}&limit=1`);if(!s.ok)return null;const i=await s.json();return i&&i.length>0?{latitude:parseFloat(i[0].lat),longitude:parseFloat(i[0].lon)}:null}catch(n){return console.error("Geocoding error:",n),null}}var gw={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(r,n){n(e)})(zv,function(r){var n="1.9.4";function s(a){var u,m,C,I;for(m=1,C=arguments.length;m<C;m++){I=arguments[m];for(u in I)a[u]=I[u]}return a}var i=Object.create||function(){function a(){}return function(u){return a.prototype=u,new a}}();function o(a,u){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var C=m.call(arguments,2);return function(){return a.apply(u,C.length?C.concat(m.call(arguments)):arguments)}}var l=0;function c(a){return"_leaflet_id"in a||(a._leaflet_id=++l),a._leaflet_id}function h(a,u,m){var C,I,Y,xe;return xe=function(){C=!1,I&&(Y.apply(m,I),I=!1)},Y=function(){C?I=arguments:(a.apply(m,arguments),setTimeout(xe,u),C=!0)},Y}function p(a,u,m){var C=u[1],I=u[0],Y=C-I;return a===C&&m?a:((a-I)%Y+Y)%Y+I}function g(){return!1}function w(a,u){if(u===!1)return a;var m=Math.pow(10,u===void 0?6:u);return Math.round(a*m)/m}function y(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function F(a){return y(a).split(/\s+/)}function S(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?i(a.options):{});for(var m in u)a.options[m]=u[m];return a.options}function Q(a,u,m){var C=[];for(var I in a)C.push(encodeURIComponent(m?I.toUpperCase():I)+"="+encodeURIComponent(a[I]));return(!u||u.indexOf("?")===-1?"?":"&")+C.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function B(a,u){return a.replace(_,function(m,C){var I=u[C];if(I===void 0)throw new Error("No value provided for variable "+m);return typeof I=="function"&&(I=I(u)),I})}var j=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function T(a,u){for(var m=0;m<a.length;m++)if(a[m]===u)return m;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var G=0;function M(a){var u=+new Date,m=Math.max(0,16-(u-G));return G=u+m,window.setTimeout(a,m)}var Z=window.requestAnimationFrame||K("RequestAnimationFrame")||M,oe=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function D(a,u,m){if(m&&Z===M)a.call(u);else return Z.call(window,o(a,u))}function R(a){a&&oe.call(window,a)}var re={__proto__:null,extend:s,create:i,bind:o,get lastId(){return l},stamp:c,throttle:h,wrapNum:p,falseFn:g,formatNum:w,trim:y,splitWords:F,setOptions:S,getParamString:Q,template:B,isArray:j,indexOf:T,emptyImageUrl:V,requestFn:Z,cancelFn:oe,requestAnimFrame:D,cancelAnimFrame:R};function ae(){}ae.extend=function(a){var u=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,C=i(m);C.constructor=u,u.prototype=C;for(var I in this)Object.prototype.hasOwnProperty.call(this,I)&&I!=="prototype"&&I!=="__super__"&&(u[I]=this[I]);return a.statics&&s(u,a.statics),a.includes&&(Se(a.includes),s.apply(null,[C].concat(a.includes))),s(C,a),delete C.statics,delete C.includes,C.options&&(C.options=m.options?i(m.options):{},s(C.options,a.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var Y=0,xe=C._initHooks.length;Y<xe;Y++)C._initHooks[Y].call(this)}},u},ae.include=function(a){var u=this.prototype.options;return s(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},ae.mergeOptions=function(a){return s(this.prototype.options,a),this},ae.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Se(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=j(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ve={on:function(a,u,m){if(typeof a=="object")for(var C in a)this._on(C,a[C],u);else{a=F(a);for(var I=0,Y=a.length;I<Y;I++)this._on(a[I],u,m)}return this},off:function(a,u,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var C in a)this._off(C,a[C],u);else{a=F(a);for(var I=arguments.length===1,Y=0,xe=a.length;Y<xe;Y++)I?this._off(a[Y]):this._off(a[Y],u,m)}return this},_on:function(a,u,m,C){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,m)===!1){m===this&&(m=void 0);var I={fn:u,ctx:m};C&&(I.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(I)}},_off:function(a,u,m){var C,I,Y;if(this._events&&(C=this._events[a],!!C)){if(arguments.length===1){if(this._firingCount)for(I=0,Y=C.length;I<Y;I++)C[I].fn=g;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var xe=this._listens(a,u,m);if(xe!==!1){var Ve=C[xe];this._firingCount&&(Ve.fn=g,this._events[a]=C=C.slice()),C.splice(xe,1)}}},fire:function(a,u,m){if(!this.listens(a,m))return this;var C=s({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var I=this._events[a];if(I){this._firingCount=this._firingCount+1||1;for(var Y=0,xe=I.length;Y<xe;Y++){var Ve=I[Y],tt=Ve.fn;Ve.once&&this.off(a,tt,Ve.ctx),tt.call(Ve.ctx||this,C)}this._firingCount--}}return m&&this._propagateEvent(C),this},listens:function(a,u,m,C){typeof a!="string"&&console.warn('"string" type argument expected');var I=u;typeof u!="function"&&(C=!!u,I=void 0,m=void 0);var Y=this._events&&this._events[a];if(Y&&Y.length&&this._listens(a,I,m)!==!1)return!0;if(C){for(var xe in this._eventParents)if(this._eventParents[xe].listens(a,u,m,C))return!0}return!1},_listens:function(a,u,m){if(!this._events)return!1;var C=this._events[a]||[];if(!u)return!!C.length;m===this&&(m=void 0);for(var I=0,Y=C.length;I<Y;I++)if(C[I].fn===u&&C[I].ctx===m)return I;return!1},once:function(a,u,m){if(typeof a=="object")for(var C in a)this._on(C,a[C],u,!0);else{a=F(a);for(var I=0,Y=a.length;I<Y;I++)this._on(a[I],u,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[c(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[c(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,s({layer:a.target,propagatedFrom:a.target},a),!0)}};ve.addEventListener=ve.on,ve.removeEventListener=ve.clearAllEventListeners=ve.off,ve.addOneTimeEventListener=ve.once,ve.fireEvent=ve.fire,ve.hasEventListeners=ve.listens;var Ue=ae.extend(ve);function H(a,u,m){this.x=m?Math.round(a):a,this.y=m?Math.round(u):u}var ue=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(a){return this.clone()._add(ee(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(ee(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new H(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new H(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(a){a=ee(a);var u=a.x-this.x,m=a.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(a){return a=ee(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=ee(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function ee(a,u,m){return a instanceof H?a:j(a)?new H(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new H(a.x,a.y):new H(a,u,m)}function me(a,u){if(a)for(var m=u?[a,u]:a,C=0,I=m.length;C<I;C++)this.extend(m[C])}me.prototype={extend:function(a){var u,m;if(!a)return this;if(a instanceof H||typeof a[0]=="number"||"x"in a)u=m=ee(a);else if(a=P(a),u=a.min,m=a.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,m;return typeof a[0]=="number"||a instanceof H?a=ee(a):a=P(a),a instanceof me?(u=a.min,m=a.max):u=m=a,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=P(a);var u=this.min,m=this.max,C=a.min,I=a.max,Y=I.x>=u.x&&C.x<=m.x,xe=I.y>=u.y&&C.y<=m.y;return Y&&xe},overlaps:function(a){a=P(a);var u=this.min,m=this.max,C=a.min,I=a.max,Y=I.x>u.x&&C.x<m.x,xe=I.y>u.y&&C.y<m.y;return Y&&xe},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,m=this.max,C=Math.abs(u.x-m.x)*a,I=Math.abs(u.y-m.y)*a;return P(ee(u.x-C,u.y-I),ee(m.x+C,m.y+I))},equals:function(a){return a?(a=P(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function P(a,u){return!a||a instanceof me?a:new me(a,u)}function $(a,u){if(a)for(var m=u?[a,u]:a,C=0,I=m.length;C<I;C++)this.extend(m[C])}$.prototype={extend:function(a){var u=this._southWest,m=this._northEast,C,I;if(a instanceof ce)C=a,I=a;else if(a instanceof $){if(C=a._southWest,I=a._northEast,!C||!I)return this}else return a?this.extend(fe(a)||se(a)):this;return!u&&!m?(this._southWest=new ce(C.lat,C.lng),this._northEast=new ce(I.lat,I.lng)):(u.lat=Math.min(C.lat,u.lat),u.lng=Math.min(C.lng,u.lng),m.lat=Math.max(I.lat,m.lat),m.lng=Math.max(I.lng,m.lng)),this},pad:function(a){var u=this._southWest,m=this._northEast,C=Math.abs(u.lat-m.lat)*a,I=Math.abs(u.lng-m.lng)*a;return new $(new ce(u.lat-C,u.lng-I),new ce(m.lat+C,m.lng+I))},getCenter:function(){return new ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ce||"lat"in a?a=fe(a):a=se(a);var u=this._southWest,m=this._northEast,C,I;return a instanceof $?(C=a.getSouthWest(),I=a.getNorthEast()):C=I=a,C.lat>=u.lat&&I.lat<=m.lat&&C.lng>=u.lng&&I.lng<=m.lng},intersects:function(a){a=se(a);var u=this._southWest,m=this._northEast,C=a.getSouthWest(),I=a.getNorthEast(),Y=I.lat>=u.lat&&C.lat<=m.lat,xe=I.lng>=u.lng&&C.lng<=m.lng;return Y&&xe},overlaps:function(a){a=se(a);var u=this._southWest,m=this._northEast,C=a.getSouthWest(),I=a.getNorthEast(),Y=I.lat>u.lat&&C.lat<m.lat,xe=I.lng>u.lng&&C.lng<m.lng;return Y&&xe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=se(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function se(a,u){return a instanceof $?a:new $(a,u)}function ce(a,u,m){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,m!==void 0&&(this.alt=+m)}ce.prototype={equals:function(a,u){if(!a)return!1;a=fe(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+w(this.lat,a)+", "+w(this.lng,a)+")"},distanceTo:function(a){return ze.distance(this,fe(a))},wrap:function(){return ze.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,m=u/Math.cos(Math.PI/180*this.lat);return se([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new ce(this.lat,this.lng,this.alt)}};function fe(a,u,m){return a instanceof ce?a:j(a)&&typeof a[0]!="object"?a.length===3?new ce(a[0],a[1],a[2]):a.length===2?new ce(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ce(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new ce(a,u,m)}var Te={latLngToPoint:function(a,u){var m=this.projection.project(a),C=this.scale(u);return this.transformation._transform(m,C)},pointToLatLng:function(a,u){var m=this.scale(u),C=this.transformation.untransform(a,m);return this.projection.unproject(C)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(a),C=this.transformation.transform(u.min,m),I=this.transformation.transform(u.max,m);return new me(C,I)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?p(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?p(a.lat,this.wrapLat,!0):a.lat,C=a.alt;return new ce(m,u,C)},wrapLatLngBounds:function(a){var u=a.getCenter(),m=this.wrapLatLng(u),C=u.lat-m.lat,I=u.lng-m.lng;if(C===0&&I===0)return a;var Y=a.getSouthWest(),xe=a.getNorthEast(),Ve=new ce(Y.lat-C,Y.lng-I),tt=new ce(xe.lat-C,xe.lng-I);return new $(Ve,tt)}},ze=s({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var m=Math.PI/180,C=a.lat*m,I=u.lat*m,Y=Math.sin((u.lat-a.lat)*m/2),xe=Math.sin((u.lng-a.lng)*m/2),Ve=Y*Y+Math.cos(C)*Math.cos(I)*xe*xe,tt=2*Math.atan2(Math.sqrt(Ve),Math.sqrt(1-Ve));return this.R*tt}}),_e=6378137,wt={R:_e,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,m=this.MAX_LATITUDE,C=Math.max(Math.min(m,a.lat),-m),I=Math.sin(C*u);return new H(this.R*a.lng*u,this.R*Math.log((1+I)/(1-I))/2)},unproject:function(a){var u=180/Math.PI;return new ce((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:function(){var a=_e*Math.PI;return new me([-a,-a],[a,a])}()};function Ke(a,u,m,C){if(j(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=m,this._d=C}Ke.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new H((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function we(a,u,m,C){return new Ke(a,u,m,C)}var Ye=s({},ze,{code:"EPSG:3857",projection:wt,transformation:function(){var a=.5/(Math.PI*wt.R);return we(a,.5,-a,.5)}()}),et=s({},Ye,{code:"EPSG:900913"});function pe(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ne(a,u){var m="",C,I,Y,xe,Ve,tt;for(C=0,Y=a.length;C<Y;C++){for(Ve=a[C],I=0,xe=Ve.length;I<xe;I++)tt=Ve[I],m+=(I?"L":"M")+tt.x+" "+tt.y;m+=u?Lt.svg?"z":"x":""}return m||"M0 0"}var it=document.documentElement.style,Xe="ActiveXObject"in window,Ze=Xe&&!document.addEventListener,ot="msLaunchUri"in navigator&&!("documentMode"in document),At=Rr("webkit"),Ee=Rr("android"),Ie=Rr("android 2")||Rr("android 3"),We=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=Ee&&Rr("Google")&&We<537&&!("AudioNode"in window),lt=!!window.opera,Jt=!ot&&Rr("chrome"),Zt=Rr("gecko")&&!At&&!lt&&!Xe,ht=!Jt&&Rr("safari"),kt=Rr("phantom"),ut="OTransition"in it,wr=navigator.platform.indexOf("Win")===0,Pt=Xe&&"transition"in it,Or="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ie,Ut="MozPerspective"in it,_t=!window.L_DISABLE_3D&&(Pt||Or||Ut)&&!ut&&!kt,Kr=typeof orientation<"u"||Rr("mobile"),rr=Kr&&At,ls=Kr&&Or,xt=!window.PointerEvent&&window.MSPointerEvent,cs=!!(window.PointerEvent||xt),xi="ontouchstart"in window||!!window.TouchEvent,tn=!window.L_NO_TOUCH&&(xi||cs),hr=Kr&&lt,jr=Kr&&Zt,ho=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jn=function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",g,u),window.removeEventListener("testPassiveEventSupport",g,u)}catch{}return a}(),ws=function(){return!!document.createElement("canvas").getContext}(),Zn=!!(document.createElementNS&&pe("svg").createSVGRect),Yt=!!Zn&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ks=!Zn&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Nr=navigator.platform.indexOf("Mac")===0,Qr=navigator.platform.indexOf("Linux")===0;function Rr(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Lt={ie:Xe,ielt9:Ze,edge:ot,webkit:At,android:Ee,android23:Ie,androidStock:rt,opera:lt,chrome:Jt,gecko:Zt,safari:ht,phantom:kt,opera12:ut,win:wr,ie3d:Pt,webkit3d:Or,gecko3d:Ut,any3d:_t,mobile:Kr,mobileWebkit:rr,mobileWebkit3d:ls,msPointer:xt,pointer:cs,touch:tn,touchNative:xi,mobileOpera:hr,mobileGecko:jr,retina:ho,passiveEvents:Jn,canvas:ws,svg:Zn,vml:ks,inlineSvg:Yt,mac:Nr,linux:Qr},Xn=Lt.msPointer?"MSPointerDown":"pointerdown",Hi=Lt.msPointer?"MSPointerMove":"pointermove",Ki=Lt.msPointer?"MSPointerUp":"pointerup",En=Lt.msPointer?"MSPointerCancel":"pointercancel",Mn={touchstart:Xn,touchmove:Hi,touchend:Ki,touchcancel:En},Fn={touchstart:bi,touchmove:Ks,touchend:Ks,touchcancel:Ks},Hn={},Hs=!1;function Yn(a,u,m){return u==="touchstart"&&qr(),Fn[u]?(m=Fn[u].bind(this,m),a.addEventListener(Mn[u],m,!1),m):(console.warn("wrong event specified:",u),g)}function Oa(a,u,m){if(!Mn[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Mn[u],m,!1)}function ni(a){Hn[a.pointerId]=a}function fo(a){Hn[a.pointerId]&&(Hn[a.pointerId]=a)}function la(a){delete Hn[a.pointerId]}function qr(){Hs||(document.addEventListener(Xn,ni,!0),document.addEventListener(Hi,fo,!0),document.addEventListener(Ki,la,!0),document.addEventListener(En,la,!0),Hs=!0)}function Ks(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in Hn)u.touches.push(Hn[m]);u.changedTouches=[u],a(u)}}function bi(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&an(u),Ks(a,u)}function sl(a){var u={},m,C;for(C in a)m=a[C],u[C]=m&&m.bind?m.bind(a):m;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var _i=200;function po(a,u){a.addEventListener("dblclick",u);var m=0,C;function I(Y){if(Y.detail!==1){C=Y.detail;return}if(!(Y.pointerType==="mouse"||Y.sourceCapabilities&&!Y.sourceCapabilities.firesTouchEvents)){var xe=Fi(Y);if(!(xe.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!xe.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var Ve=Date.now();Ve-m<=_i?(C++,C===2&&u(sl(Y))):C=1,m=Ve}}}return a.addEventListener("click",I),{dblclick:u,simDblclick:I}}function _A(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var ca=Ma(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qs=Ma(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vo=qs==="webkitTransition"||qs==="OTransition"?qs+"End":"transitionend";function mo(a){return typeof a=="string"?document.getElementById(a):a}function Bi(a,u){var m=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var C=document.defaultView.getComputedStyle(a,null);m=C?C[u]:null}return m==="auto"?null:m}function Dt(a,u,m){var C=document.createElement(a);return C.className=u||"",m&&m.appendChild(C),C}function pr(a){var u=a.parentNode;u&&u.removeChild(a)}function Ra(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function si(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function zs(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Da(a,u){if(a.classList!==void 0)return a.classList.contains(u);var m=fn(a);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function mr(a,u){if(a.classList!==void 0)for(var m=F(u),C=0,I=m.length;C<I;C++)a.classList.add(m[C]);else if(!Da(a,u)){var Y=fn(a);Sr(a,(Y?Y+" ":"")+u)}}function Ur(a,u){a.classList!==void 0?a.classList.remove(u):Sr(a,y((" "+fn(a)+" ").replace(" "+u+" "," ")))}function Sr(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function fn(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function wn(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&ua(a,u)}function ua(a,u){var m=!1,C="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(C)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):a.style.filter+=" progid:"+C+"(opacity="+u+")"}function Ma(a){for(var u=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in u)return a[m];return!1}function ii(a,u,m){var C=u||new H(0,0);a.style[ca]=(Lt.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(m?" scale("+m+")":"")}function Gr(a,u){a._leaflet_pos=u,Lt.any3d?ii(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Ci(a){return a._leaflet_pos||new H(0,0)}var qi,zi,BA;if("onselectstart"in document)qi=function(){Gt(window,"selectstart",an)},zi=function(){yr(window,"selectstart",an)};else{var xr=Ma(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qi=function(){if(xr){var a=document.documentElement.style;BA=a[xr],a[xr]="none"}},zi=function(){xr&&(document.documentElement.style[xr]=BA,BA=void 0)}}function Wo(){Gt(window,"dragstart",an)}function Ni(){yr(window,"dragstart",an)}var ha,xn;function Si(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(cn(),ha=a,xn=a.style.outlineStyle,a.style.outlineStyle="none",Gt(window,"keydown",cn))}function cn(){ha&&(ha.style.outlineStyle=xn,ha=void 0,xn=void 0,yr(window,"keydown",cn))}function Ei(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function go(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Ar={__proto__:null,TRANSFORM:ca,TRANSITION:qs,TRANSITION_END:Vo,get:mo,getStyle:Bi,create:Dt,remove:pr,empty:Ra,toFront:si,toBack:zs,hasClass:Da,addClass:mr,removeClass:Ur,setClass:Sr,getClass:fn,setOpacity:wn,testProp:Ma,setTransform:ii,setPosition:Gr,getPosition:Ci,get disableTextSelection(){return qi},get enableTextSelection(){return zi},disableImageDrag:Wo,enableImageDrag:Ni,preventOutline:Si,restoreOutline:cn,getSizedParentNode:Ei,getScale:go};function Gt(a,u,m,C){if(u&&typeof u=="object")for(var I in u)xs(a,I,u[I],m);else{u=F(u);for(var Y=0,xe=u.length;Y<xe;Y++)xs(a,u[Y],m,C)}return this}var pn="_leaflet_events";function yr(a,u,m,C){if(arguments.length===1)da(a),delete a[pn];else if(u&&typeof u=="object")for(var I in u)vo(a,I,u[I],m);else if(u=F(u),arguments.length===2)da(a,function(Ve){return T(u,Ve)!==-1});else for(var Y=0,xe=u.length;Y<xe;Y++)vo(a,u[Y],m,C);return this}function da(a,u){for(var m in a[pn]){var C=m.split(/\d/)[0];(!u||u(C))&&vo(a,C,null,null,m)}}var Ha={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xs(a,u,m,C){var I=u+c(m)+(C?"_"+c(C):"");if(a[pn]&&a[pn][I])return this;var Y=function(Ve){return m.call(C||a,Ve||window.event)},xe=Y;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?Y=Yn(a,u,Y):Lt.touch&&u==="dblclick"?Y=po(a,Y):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Ha[u]||u,Y,Lt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(Y=function(Ve){Ve=Ve||window.event,qa(a,Ve)&&xe(Ve)},a.addEventListener(Ha[u],Y,!1)):a.addEventListener(u,xe,!1):a.attachEvent("on"+u,Y),a[pn]=a[pn]||{},a[pn][I]=Y}function vo(a,u,m,C,I){I=I||u+c(m)+(C?"_"+c(C):"");var Y=a[pn]&&a[pn][I];if(!Y)return this;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?Oa(a,u,Y):Lt.touch&&u==="dblclick"?_A(a,Y):"removeEventListener"in a?a.removeEventListener(Ha[u]||u,Y,!1):a.detachEvent("on"+u,Y),a[pn][I]=null}function Kn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function yo(a){return xs(a,"wheel",Kn),this}function Ka(a){return Gt(a,"mousedown touchstart dblclick contextmenu",Kn),a._leaflet_disable_click=!0,this}function an(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function es(a){return an(a),Kn(a),this}function Fi(a){if(a.composedPath)return a.composedPath();for(var u=[],m=a.target;m;)u.push(m),m=m.parentNode;return u}function CA(a,u){if(!u)return new H(a.clientX,a.clientY);var m=go(u),C=m.boundingClientRect;return new H((a.clientX-C.left)/m.x-u.clientLeft,(a.clientY-C.top)/m.y-u.clientTop)}var wo=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Vi(a){return Lt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/wo:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function qa(a,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var il={__proto__:null,on:Gt,off:yr,stopPropagation:Kn,disableScrollPropagation:yo,disableClickPropagation:Ka,preventDefault:an,stop:es,getPropagationPath:Fi,getMousePosition:CA,getWheelDelta:Vi,isExternalTarget:qa,addListener:Gt,removeListener:yr},za=Ue.extend({run:function(a,u,m,C){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=Ci(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var m=this._startPos.add(this._offset.multiplyBy(a));u&&m._round(),Gr(this._el,m),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),gr=Ue.extend({options:{crs:Ye,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=S(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(fe(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qs&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Gt(this._proxy,Vo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(fe(a),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=s({animate:m.animate},m.zoom),m.pan=s({animate:m.animate,duration:m.duration},m.pan));var C=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,m.zoom):this._tryAnimatedPan(a,m.pan);if(C)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,m){var C=this.getZoomScale(u),I=this.getSize().divideBy(2),Y=a instanceof H?a:this.latLngToContainerPoint(a),xe=Y.subtract(I).multiplyBy(1-1/C),Ve=this.containerPointToLatLng(I.add(xe));return this.setView(Ve,u,{zoom:m})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():se(a);var m=ee(u.paddingTopLeft||u.padding||[0,0]),C=ee(u.paddingBottomRight||u.padding||[0,0]),I=this.getBoundsZoom(a,!1,m.add(C));if(I=typeof u.maxZoom=="number"?Math.min(u.maxZoom,I):I,I===1/0)return{center:a.getCenter(),zoom:I};var Y=C.subtract(m).divideBy(2),xe=this.project(a.getSouthWest(),I),Ve=this.project(a.getNorthEast(),I),tt=this.unproject(xe.add(Ve).divideBy(2).add(Y),I);return{center:tt,zoom:I}},fitBounds:function(a,u){if(a=se(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=ee(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new za,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){mr(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,m){if(m=m||{},m.animate===!1||!Lt.any3d)return this.setView(a,u,m);this._stop();var C=this.project(this.getCenter()),I=this.project(a),Y=this.getSize(),xe=this._zoom;a=fe(a),u=u===void 0?xe:u;var Ve=Math.max(Y.x,Y.y),tt=Ve*this.getZoomScale(xe,u),gt=I.distanceTo(C)||1,Ot=1.42,nr=Ot*Ot;function _r($r){var Gs=$r?-1:1,f0=$r?tt:Ve,p0=tt*tt-Ve*Ve+Gs*nr*nr*gt*gt,np=2*f0*nr*gt,wu=p0/np,rd=Math.sqrt(wu*wu+1)-wu,sp=rd<1e-9?-18:Math.log(rd);return sp}function Ws($r){return(Math.exp($r)-Math.exp(-$r))/2}function rs($r){return(Math.exp($r)+Math.exp(-$r))/2}function Ji($r){return Ws($r)/rs($r)}var li=_r(0);function ol($r){return Ve*(rs(li)/rs(li+Ot*$r))}function h0($r){return Ve*(rs(li)*Ji(li+Ot*$r)-Ws(li))/nr}function rA($r){return 1-Math.pow(1-$r,1.5)}var xa=Date.now(),Ga=(_r(1)-li)/Ot,d0=m.duration?1e3*m.duration:1e3*Ga*.8;function td(){var $r=(Date.now()-xa)/d0,Gs=rA($r)*Ga;$r<=1?(this._flyToFrame=D(td,this),this._move(this.unproject(C.add(I.subtract(C).multiplyBy(h0(Gs)/gt)),xe),this.getScaleZoom(Ve/ol(Gs),xe),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),td.call(this),this},flyToBounds:function(a,u){var m=this._getBoundsCenterZoom(a,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(a){return a=se(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var m=this.getCenter(),C=this._limitCenter(m,this._zoom,se(a));return m.equals(C)||this.panTo(C,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var m=ee(u.paddingTopLeft||u.padding||[0,0]),C=ee(u.paddingBottomRight||u.padding||[0,0]),I=this.project(this.getCenter()),Y=this.project(a),xe=this.getPixelBounds(),Ve=P([xe.min.add(m),xe.max.subtract(C)]),tt=Ve.getSize();if(!Ve.contains(Y)){this._enforcingBounds=!0;var gt=Y.subtract(Ve.getCenter()),Ot=Ve.extend(Y).getSize().subtract(tt);I.x+=gt.x<0?-Ot.x:Ot.x,I.y+=gt.y<0?-Ot.y:Ot.y,this.panTo(this.unproject(I),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=s({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),C=u.divideBy(2).round(),I=m.divideBy(2).round(),Y=C.subtract(I);return!Y.x&&!Y.y?this:(a.animate&&a.pan?this.panBy(Y):(a.pan&&this._rawPanBy(Y),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=s({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=o(this._handleGeolocationResponse,this),m=o(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,a):navigator.geolocation.getCurrentPosition(u,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,m=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,m=a.coords.longitude,C=new ce(u,m),I=C.toBounds(a.coords.accuracy*2),Y=this._locateOptions;if(Y.setView){var xe=this.getBoundsZoom(I);this.setView(C,Y.maxZoom?Math.min(xe,Y.maxZoom):xe)}var Ve={latlng:C,bounds:I,timestamp:a.timestamp};for(var tt in a.coords)typeof a.coords[tt]=="number"&&(Ve[tt]=a.coords[tt]);this.fire("locationfound",Ve)}},addHandler:function(a,u){if(!u)return this;var m=this[a]=new u(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),pr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)pr(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),C=Dt("div",m,u||this._mapPane);return a&&(this._panes[a]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new $(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,m){a=se(a),m=ee(m||[0,0]);var C=this.getZoom()||0,I=this.getMinZoom(),Y=this.getMaxZoom(),xe=a.getNorthWest(),Ve=a.getSouthEast(),tt=this.getSize().subtract(m),gt=P(this.project(Ve,C),this.project(xe,C)).getSize(),Ot=Lt.any3d?this.options.zoomSnap:1,nr=tt.x/gt.x,_r=tt.y/gt.y,Ws=u?Math.max(nr,_r):Math.min(nr,_r);return C=this.getScaleZoom(Ws,C),Ot&&(C=Math.round(C/(Ot/100))*(Ot/100),C=u?Math.ceil(C/Ot)*Ot:Math.floor(C/Ot)*Ot),Math.max(I,Math.min(Y,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var m=this._getTopLeftPoint(a,u);return new me(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(a)/m.scale(u)},getScaleZoom:function(a,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var C=m.zoom(a*m.scale(u));return isNaN(C)?1/0:C},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(fe(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(ee(a),u)},layerPointToLatLng:function(a){var u=ee(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(fe(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(fe(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(se(a))},distance:function(a,u){return this.options.crs.distance(fe(a),fe(u))},containerPointToLayerPoint:function(a){return ee(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return ee(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(ee(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(fe(a)))},mouseEventToContainerPoint:function(a){return CA(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=mo(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Gt(u,"scroll",this._onScroll,this),this._containerId=c(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,mr(a,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Bi(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Gr(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(mr(a.markerPane,"leaflet-zoom-hide"),mr(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,m){Gr(this._mapPane,new H(0,0));var C=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var I=this._zoom!==u;this._moveStart(I,m)._move(a,u)._moveEnd(I),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,m,C){u===void 0&&(u=this._zoom);var I=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),C?m&&m.pinch&&this.fire("zoom",m):((I||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Gr(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[c(this._container)]=this;var u=a?yr:Gt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var m=[],C,I=u==="mouseout"||u==="mouseover",Y=a.target||a.srcElement,xe=!1;Y;){if(C=this._targets[c(Y)],C&&(u==="click"||u==="preclick")&&this._draggableMoved(C)){xe=!0;break}if(C&&C.listens(u,!0)&&(I&&!qa(Y,a)||(m.push(C),I))||Y===this._container)break;Y=Y.parentNode}return!m.length&&!xe&&!I&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var m=a.type;m==="mousedown"&&Si(u),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,m){if(a.type==="click"){var C=s({},a);C.type="preclick",this._fireDOMEvent(C,C.type,m)}var I=this._findEventTargets(a,u);if(m){for(var Y=[],xe=0;xe<m.length;xe++)m[xe].listens(u,!0)&&Y.push(m[xe]);I=Y.concat(I)}if(I.length){u==="contextmenu"&&an(a);var Ve=I[0],tt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var gt=Ve.getLatLng&&(!Ve._radius||Ve._radius<=10);tt.containerPoint=gt?this.latLngToContainerPoint(Ve.getLatLng()):this.mouseEventToContainerPoint(a),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=gt?Ve.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(xe=0;xe<I.length;xe++)if(I[xe].fire(u,tt,!0),tt.originalEvent._stopped||I[xe].options.bubblingMouseEvents===!1&&T(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Ci(this._mapPane)||new H(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var m=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var m=this.getSize()._divideBy(2);return this.project(a,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,m){var C=this._getNewPixelOrigin(m,u);return this.project(a,u)._subtract(C)},_latLngBoundsToNewLayerBounds:function(a,u,m){var C=this._getNewPixelOrigin(m,u);return P([this.project(a.getSouthWest(),u)._subtract(C),this.project(a.getNorthWest(),u)._subtract(C),this.project(a.getSouthEast(),u)._subtract(C),this.project(a.getNorthEast(),u)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,m){if(!m)return a;var C=this.project(a,u),I=this.getSize().divideBy(2),Y=new me(C.subtract(I),C.add(I)),xe=this._getBoundsOffset(Y,m,u);return Math.abs(xe.x)<=1&&Math.abs(xe.y)<=1?a:this.unproject(C.add(xe),u)},_limitOffset:function(a,u){if(!u)return a;var m=this.getPixelBounds(),C=new me(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(C,u))},_getBoundsOffset:function(a,u,m){var C=P(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),I=C.min.subtract(a.min),Y=C.max.subtract(a.max),xe=this._rebound(I.x,-Y.x),Ve=this._rebound(I.y,-Y.y);return new H(xe,Ve)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),m=this.getMaxZoom(),C=Lt.any3d?this.options.zoomSnap:1;return C&&(a=Math.round(a/C)*C),Math.max(u,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ur(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var m=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var a=this._proxy=Dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var m=ca,C=this._proxy.style[m];ii(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),C===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();ii(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(u),I=this._getCenterOffset(a)._divideBy(1-1/C);return m.animate!==!0&&!this.getSize().contains(I)?!1:(D(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,m,C){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,mr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ur(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Go(a,u){return new gr(a,u)}var bn=ae.extend({options:{position:"topright"},initialize:function(a){S(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),m=this.getPosition(),C=a._controlCorners[m];return mr(u,"leaflet-control"),m.indexOf("bottom")!==-1?C.insertBefore(u,C.firstChild):C.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Vs=function(a){return new bn(a)};gr.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",m=this._controlContainer=Dt("div",u+"control-container",this._container);function C(I,Y){var xe=u+I+" "+u+Y;a[I+Y]=Dt("div",xe,m)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)pr(this._controlCorners[a]);pr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var al=bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,m,C){return m<C?-1:C<m?1:0}},initialize:function(a,u,m){S(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var C in a)this._addLayer(a[C],C);for(C in u)this._addLayer(u[C],C,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return bn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(c(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){mr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(mr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Ur(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ur(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Dt("div",a),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ka(u),yo(u);var C=this._section=Dt("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Gt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var I=this._layersLink=Dt("a",a+"-toggle",u);I.href="#",I.title="Layers",I.setAttribute("role","button"),Gt(I,{keydown:function(Y){Y.keyCode===13&&this._expandSafely()},click:function(Y){an(Y),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Dt("div",a+"-base",C),this._separator=Dt("div",a+"-separator",C),this._overlaysList=Dt("div",a+"-overlays",C),u.appendChild(C)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&c(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(o(function(C,I){return this.options.sortFunction(C.layer,I.layer,C.name,I.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ra(this._baseLayersList),Ra(this._overlaysList),this._layerControlInputs=[];var a,u,m,C,I=0;for(m=0;m<this._layers.length;m++)C=this._layers[m],this._addItem(C),u=u||C.overlay,a=a||!C.overlay,I+=C.overlay?0:1;return this.options.hideSingleBase&&(a=a&&I>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(c(a.target)),m=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(a,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=m,C.firstChild},_addItem:function(a){var u=document.createElement("label"),m=this._map.hasLayer(a.layer),C;a.overlay?(C=document.createElement("input"),C.type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=m):C=this._createRadioElement("leaflet-base-layers_"+c(this),m),this._layerControlInputs.push(C),C.layerId=c(a.layer),Gt(C,"click",this._onInputClick,this);var I=document.createElement("span");I.innerHTML=" "+a.name;var Y=document.createElement("span");u.appendChild(Y),Y.appendChild(C),Y.appendChild(I);var xe=a.overlay?this._overlaysList:this._baseLayersList;return xe.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,m,C=[],I=[];this._handlingClick=!0;for(var Y=a.length-1;Y>=0;Y--)u=a[Y],m=this._getLayer(u.layerId).layer,u.checked?C.push(m):u.checked||I.push(m);for(Y=0;Y<I.length;Y++)this._map.hasLayer(I[Y])&&this._map.removeLayer(I[Y]);for(Y=0;Y<C.length;Y++)this._map.hasLayer(C[Y])||this._map.addLayer(C[Y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,m,C=this._map.getZoom(),I=a.length-1;I>=0;I--)u=a[I],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&C<m.options.minZoom||m.options.maxZoom!==void 0&&C>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Gt(a,"click",an),this.expand();var u=this;setTimeout(function(){yr(a,"click",an),u._preventClick=!1})}}),Wi=function(a,u,m){return new al(a,u,m)},bs=bn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",m=Dt("div",u+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,m,C,I){var Y=Dt("a",m,C);return Y.innerHTML=a,Y.href="#",Y.title=u,Y.setAttribute("role","button"),Y.setAttribute("aria-label",u),Ka(Y),Gt(Y,"click",es),Gt(Y,"click",I,this),Gt(Y,"click",this._refocusOnMap,this),Y},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Ur(this._zoomInButton,u),Ur(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(mr(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(mr(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});gr.mergeOptions({zoomControl:!0}),gr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new bs,this.addControl(this.zoomControl))});var $o=function(a){return new bs(a)},ji=bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",m=Dt("div",u),C=this.options;return this._addScales(C,u+"-line",m),a.on(C.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,m){a.metric&&(this._mScale=Dt("div",u,m)),a.imperial&&(this._iScale=Dt("div",u,m))},_update:function(){var a=this._map,u=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/a)},_updateImperial:function(a){var u=a*3.2808399,m,C,I;u>5280?(m=u/5280,C=this._getRoundNum(m),this._updateScale(this._iScale,C+" mi",C/m)):(I=this._getRoundNum(u),this._updateScale(this._iScale,I+" ft",I/u))},_updateScale:function(a,u,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),m=a/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),Jo=function(a){return new ji(a)},fa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zo=bn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?fa+" ":"")+"Leaflet</a>"},initialize:function(a){S(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Dt("div","leaflet-control-attribution"),Ka(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});gr.mergeOptions({attributionControl:!0}),gr.addInitHook(function(){this.options.attributionControl&&new Zo().addTo(this)});var NA=function(a){return new Zo(a)};bn.Layers=al,bn.Zoom=bs,bn.Scale=ji,bn.Attribution=Zo,Vs.layers=Wi,Vs.zoom=$o,Vs.scale=Jo,Vs.attribution=NA;var jn=ae.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});jn.addTo=function(a,u){return a.addHandler(u,this),this};var Xo={Events:ve},pa=Lt.touch?"touchstart mousedown":"mousedown",Ls=Ue.extend({options:{clickTolerance:3},initialize:function(a,u,m,C){S(this,C),this._element=a,this._dragStartTarget=u||a,this._preventOutline=m},enable:function(){this._enabled||(Gt(this._dragStartTarget,pa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ls._dragging===this&&this.finishDrag(!0),yr(this._dragStartTarget,pa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Da(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ls._dragging===this&&this.finishDrag();return}if(!(Ls._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ls._dragging=this,this._preventOutline&&Si(this._element),Wo(),qi(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,m=Ei(this._element);this._startPoint=new H(u.clientX,u.clientY),this._startPos=Ci(this._element),this._parentScale=go(m);var C=a.type==="mousedown";Gt(document,C?"mousemove":"touchmove",this._onMove,this),Gt(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,m=new H(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,an(a),this._moved||(this.fire("dragstart"),this._moved=!0,mr(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),mr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Gr(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Ur(document.body,"leaflet-dragging"),this._lastTarget&&(Ur(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),yr(document,"mousemove touchmove",this._onMove,this),yr(document,"mouseup touchend touchcancel",this._onUp,this),Ni(),zi();var u=this._moved&&this._moving;this._moving=!1,Ls._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Va(a,u,m){var C,I=[1,4,2,8],Y,xe,Ve,tt,gt,Ot,nr,_r;for(Y=0,Ot=a.length;Y<Ot;Y++)a[Y]._code=nt(a[Y],u);for(Ve=0;Ve<4;Ve++){for(nr=I[Ve],C=[],Y=0,Ot=a.length,xe=Ot-1;Y<Ot;xe=Y++)tt=a[Y],gt=a[xe],tt._code&nr?gt._code&nr||(_r=He(gt,tt,nr,u,m),_r._code=nt(_r,u),C.push(_r)):(gt._code&nr&&(_r=He(gt,tt,nr,u,m),_r._code=nt(_r,u),C.push(_r)),C.push(tt));a=C}return a}function _n(a,u){var m,C,I,Y,xe,Ve,tt,gt,Ot;if(!a||a.length===0)throw new Error("latlngs not passed");Ht(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var nr=fe([0,0]),_r=se(a),Ws=_r.getNorthWest().distanceTo(_r.getSouthWest())*_r.getNorthEast().distanceTo(_r.getNorthWest());Ws<1700&&(nr=ma(a));var rs=a.length,Ji=[];for(m=0;m<rs;m++){var li=fe(a[m]);Ji.push(u.project(fe([li.lat-nr.lat,li.lng-nr.lng])))}for(Ve=tt=gt=0,m=0,C=rs-1;m<rs;C=m++)I=Ji[m],Y=Ji[C],xe=I.y*Y.x-Y.y*I.x,tt+=(I.x+Y.x)*xe,gt+=(I.y+Y.y)*xe,Ve+=xe*3;Ve===0?Ot=Ji[0]:Ot=[tt/Ve,gt/Ve];var ol=u.unproject(ee(Ot));return fe([ol.lat+nr.lat,ol.lng+nr.lng])}function ma(a){for(var u=0,m=0,C=0,I=0;I<a.length;I++){var Y=fe(a[I]);u+=Y.lat,m+=Y.lng,C++}return fe([u/C,m/C])}var Gi={__proto__:null,clipPolygon:Va,polygonCenter:_n,centroid:ma};function ga(a,u){if(!u||!a.length)return a.slice();var m=u*u;return a=q(a,m),a=Yo(a,m),a}function va(a,u,m){return Math.sqrt(Qt(a,u,m,!0))}function ya(a,u,m){return Qt(a,u,m)}function Yo(a,u){var m=a.length,C=typeof Uint8Array<"u"?Uint8Array:Array,I=new C(m);I[0]=I[m-1]=1,b(a,I,u,0,m-1);var Y,xe=[];for(Y=0;Y<m;Y++)I[Y]&&xe.push(a[Y]);return xe}function b(a,u,m,C,I){var Y=0,xe,Ve,tt;for(Ve=C+1;Ve<=I-1;Ve++)tt=Qt(a[Ve],a[C],a[I],!0),tt>Y&&(xe=Ve,Y=tt);Y>m&&(u[xe]=1,b(a,u,m,C,xe),b(a,u,m,xe,I))}function q(a,u){for(var m=[a[0]],C=1,I=0,Y=a.length;C<Y;C++)vt(a[C],a[I])>u&&(m.push(a[C]),I=C);return I<Y-1&&m.push(a[Y-1]),m}var de;function Ne(a,u,m,C,I){var Y=C?de:nt(a,m),xe=nt(u,m),Ve,tt,gt;for(de=xe;;){if(!(Y|xe))return[a,u];if(Y&xe)return!1;Ve=Y||xe,tt=He(a,u,Ve,m,I),gt=nt(tt,m),Ve===Y?(a=tt,Y=gt):(u=tt,xe=gt)}}function He(a,u,m,C,I){var Y=u.x-a.x,xe=u.y-a.y,Ve=C.min,tt=C.max,gt,Ot;return m&8?(gt=a.x+Y*(tt.y-a.y)/xe,Ot=tt.y):m&4?(gt=a.x+Y*(Ve.y-a.y)/xe,Ot=Ve.y):m&2?(gt=tt.x,Ot=a.y+xe*(tt.x-a.x)/Y):m&1&&(gt=Ve.x,Ot=a.y+xe*(Ve.x-a.x)/Y),new H(gt,Ot,I)}function nt(a,u){var m=0;return a.x<u.min.x?m|=1:a.x>u.max.x&&(m|=2),a.y<u.min.y?m|=4:a.y>u.max.y&&(m|=8),m}function vt(a,u){var m=u.x-a.x,C=u.y-a.y;return m*m+C*C}function Qt(a,u,m,C){var I=u.x,Y=u.y,xe=m.x-I,Ve=m.y-Y,tt=xe*xe+Ve*Ve,gt;return tt>0&&(gt=((a.x-I)*xe+(a.y-Y)*Ve)/tt,gt>1?(I=m.x,Y=m.y):gt>0&&(I+=xe*gt,Y+=Ve*gt)),xe=a.x-I,Ve=a.y-Y,C?xe*xe+Ve*Ve:new H(I,Y)}function Ht(a){return!j(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function lr(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ht(a)}function sr(a,u){var m,C,I,Y,xe,Ve,tt,gt;if(!a||a.length===0)throw new Error("latlngs not passed");Ht(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ot=fe([0,0]),nr=se(a),_r=nr.getNorthWest().distanceTo(nr.getSouthWest())*nr.getNorthEast().distanceTo(nr.getNorthWest());_r<1700&&(Ot=ma(a));var Ws=a.length,rs=[];for(m=0;m<Ws;m++){var Ji=fe(a[m]);rs.push(u.project(fe([Ji.lat-Ot.lat,Ji.lng-Ot.lng])))}for(m=0,C=0;m<Ws-1;m++)C+=rs[m].distanceTo(rs[m+1])/2;if(C===0)gt=rs[0];else for(m=0,Y=0;m<Ws-1;m++)if(xe=rs[m],Ve=rs[m+1],I=xe.distanceTo(Ve),Y+=I,Y>C){tt=(Y-C)/I,gt=[Ve.x-tt*(Ve.x-xe.x),Ve.y-tt*(Ve.y-xe.y)];break}var li=u.unproject(ee(gt));return fe([li.lat+Ot.lat,li.lng+Ot.lng])}var Cr={__proto__:null,simplify:ga,pointToSegmentDistance:va,closestPointOnSegment:ya,clipSegment:Ne,_getEdgeIntersection:He,_getBitCode:nt,_sqClosestPointOnSegment:Qt,isFlat:Ht,_flat:lr,polylineCenter:sr},Mr={project:function(a){return new H(a.lng,a.lat)},unproject:function(a){return new ce(a.y,a.x)},bounds:new me([-180,-90],[180,90])},zr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new me([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,m=this.R,C=a.lat*u,I=this.R_MINOR/m,Y=Math.sqrt(1-I*I),xe=Y*Math.sin(C),Ve=Math.tan(Math.PI/4-C/2)/Math.pow((1-xe)/(1+xe),Y/2);return C=-m*Math.log(Math.max(Ve,1e-10)),new H(a.lng*u*m,C)},unproject:function(a){for(var u=180/Math.PI,m=this.R,C=this.R_MINOR/m,I=Math.sqrt(1-C*C),Y=Math.exp(-a.y/m),xe=Math.PI/2-2*Math.atan(Y),Ve=0,tt=.1,gt;Ve<15&&Math.abs(tt)>1e-7;Ve++)gt=I*Math.sin(xe),gt=Math.pow((1-gt)/(1+gt),I/2),tt=Math.PI/2-2*Math.atan(Y*gt)-xe,xe+=tt;return new ce(xe*u,a.x*u/m)}},Bn={__proto__:null,LonLat:Mr,Mercator:zr,SphericalMercator:wt},ts=s({},ze,{code:"EPSG:3395",projection:zr,transformation:function(){var a=.5/(Math.PI*zr.R);return we(a,.5,-a,.5)}()}),Un=s({},ze,{code:"EPSG:4326",projection:Mr,transformation:we(1/180,1,-1/180,.5)}),ai=s({},Te,{projection:Mr,transformation:we(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var m=u.lng-a.lng,C=u.lat-a.lat;return Math.sqrt(m*m+C*C)},infinite:!0});Te.Earth=ze,Te.EPSG3395=ts,Te.EPSG3857=Ye,Te.EPSG900913=et,Te.EPSG4326=Un,Te.Simple=ai;var rn=Ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[c(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[c(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});gr.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=c(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=c(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return c(a)in this._layers},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},_addLayers:function(a){a=a?j(a)?a:[a]:[];for(var u=0,m=a.length;u<m;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[c(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=c(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,m=this._getZoomSpan();for(var C in this._zoomBoundLayers){var I=this._zoomBoundLayers[C].options;a=I.minZoom===void 0?a:Math.min(a,I.minZoom),u=I.maxZoom===void 0?u:Math.max(u,I.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _s=rn.extend({initialize:function(a,u){S(this,u),this._layers={};var m,C;if(a)for(m=0,C=a.length;m<C;m++)this.addLayer(a[m])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),m,C;for(m in this._layers)C=this._layers[m],C[a]&&C[a].apply(C,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return c(a)}}),SA=function(a,u){return new _s(a,u)},Bs=_s.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),_s.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),_s.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new $;for(var u in this._layers){var m=this._layers[u];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),eA=function(a,u){return new Bs(a,u)},oi=ae.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){S(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(C,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),C},_setIconStyles:function(a,u){var m=this.options,C=m[u+"Size"];typeof C=="number"&&(C=[C,C]);var I=ee(C),Y=ee(u==="shadow"&&m.shadowAnchor||m.iconAnchor||I&&I.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(m.className||""),Y&&(a.style.marginLeft=-Y.x+"px",a.style.marginTop=-Y.y+"px"),I&&(a.style.width=I.x+"px",a.style.height=I.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Lt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function EA(a){return new oi(a)}var wa=oi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof wa.imagePath!="string"&&(wa.imagePath=this._detectIconPath()),(this.options.imagePath||wa.imagePath)+oi.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(m,C,I){var Y=C.exec(m);return Y&&Y[I]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Dt("div","leaflet-default-icon-path",document.body),u=Bi(a,"background-image")||Bi(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),xo=jn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ls(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),mr(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ur(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,m=u._map,C=this._marker.options.autoPanSpeed,I=this._marker.options.autoPanPadding,Y=Ci(u._icon),xe=m.getPixelBounds(),Ve=m.getPixelOrigin(),tt=P(xe.min._subtract(Ve).add(I),xe.max._subtract(Ve).subtract(I));if(!tt.contains(Y)){var gt=ee((Math.max(tt.max.x,Y.x)-tt.max.x)/(xe.max.x-tt.max.x)-(Math.min(tt.min.x,Y.x)-tt.min.x)/(xe.min.x-tt.min.x),(Math.max(tt.max.y,Y.y)-tt.max.y)/(xe.max.y-tt.max.y)-(Math.min(tt.min.y,Y.y)-tt.min.y)/(xe.min.y-tt.min.y)).multiplyBy(C);m.panBy(gt,{animate:!1}),this._draggable._newPos._add(gt),this._draggable._startPos._add(gt),Gr(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=D(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,m=u._shadow,C=Ci(u._icon),I=u._map.layerPointToLatLng(C);m&&Gr(m,C),u._latlng=I,a.latlng=I,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),on=rn.extend({options:{icon:new wa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){S(this,u),this._latlng=fe(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=fe(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),C=!1;m!==this._icon&&(this._icon&&this._removeIcon(),C=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),mr(m,u),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Gt(m,"focus",this._panOnFocus,this);var I=a.icon.createShadow(this._shadow),Y=!1;I!==this._shadow&&(this._removeShadow(),Y=!0),I&&(mr(I,u),I.alt=""),this._shadow=I,a.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),I&&Y&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yr(this._icon,"focus",this._panOnFocus,this),pr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pr(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Gr(this._icon,a),this._shadow&&Gr(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(mr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xo)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xo(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&wn(this._icon,a),this._shadow&&wn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,m=u.iconSize?ee(u.iconSize):ee(0,0),C=u.iconAnchor?ee(u.iconAnchor):ee(0,0);a.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:m.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qs(a,u){return new on(a,u)}var Er=rn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return S(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ai=Er.extend({options:{fill:!0,radius:10},initialize:function(a,u){S(this,u),this._latlng=fe(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=fe(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return Er.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,m=this._clickTolerance(),C=[a+m,u+m];this._pxBounds=new me(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function us(a,u){return new Ai(a,u)}var hs=Ai.extend({initialize:function(a,u,m){if(typeof u=="number"&&(u=s({},m,{radius:u})),S(this,u),this._latlng=fe(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Er.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,m=this._map,C=m.options.crs;if(C.distance===ze.distance){var I=Math.PI/180,Y=this._mRadius/ze.R/I,xe=m.project([u+Y,a]),Ve=m.project([u-Y,a]),tt=xe.add(Ve).divideBy(2),gt=m.unproject(tt).lat,Ot=Math.acos((Math.cos(Y*I)-Math.sin(u*I)*Math.sin(gt*I))/(Math.cos(u*I)*Math.cos(gt*I)))/I;(isNaN(Ot)||Ot===0)&&(Ot=Y/Math.cos(Math.PI/180*u)),this._point=tt.subtract(m.getPixelOrigin()),this._radius=isNaN(Ot)?0:tt.x-m.project([gt,a-Ot]).x,this._radiusY=tt.y-xe.y}else{var nr=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(nr).x}this._updateBounds()}});function FA(a,u,m){return new hs(a,u,m)}var Is=Er.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){S(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,m=null,C=Qt,I,Y,xe=0,Ve=this._parts.length;xe<Ve;xe++)for(var tt=this._parts[xe],gt=1,Ot=tt.length;gt<Ot;gt++){I=tt[gt-1],Y=tt[gt];var nr=C(a,I,Y,!0);nr<u&&(u=nr,m=C(a,I,Y))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=fe(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new $,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Ht(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],m=Ht(a),C=0,I=a.length;C<I;C++)m?(u[C]=fe(a[C]),this._bounds.extend(u[C])):u[C]=this._convertLatLngs(a[C]);return u},_project:function(){var a=new me;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new H(a,a);this._rawPxBounds&&(this._pxBounds=new me([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,m){var C=a[0]instanceof ce,I=a.length,Y,xe;if(C){for(xe=[],Y=0;Y<I;Y++)xe[Y]=this._map.latLngToLayerPoint(a[Y]),m.extend(xe[Y]);u.push(xe)}else for(Y=0;Y<I;Y++)this._projectLatlngs(a[Y],u,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,C,I,Y,xe,Ve,tt;for(m=0,I=0,Y=this._rings.length;m<Y;m++)for(tt=this._rings[m],C=0,xe=tt.length;C<xe-1;C++)Ve=Ne(tt[C],tt[C+1],a,C,!0),Ve&&(u[I]=u[I]||[],u[I].push(Ve[0]),(Ve[1]!==tt[C+1]||C===xe-2)&&(u[I].push(Ve[1]),I++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,m=0,C=a.length;m<C;m++)a[m]=ga(a[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var m,C,I,Y,xe,Ve,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,Y=this._parts.length;m<Y;m++)for(Ve=this._parts[m],C=0,xe=Ve.length,I=xe-1;C<xe;I=C++)if(!(!u&&C===0)&&va(a,Ve[I],Ve[C])<=tt)return!0;return!1}});function $i(a,u){return new Is(a,u)}Is._flat=lr;var kn=Is.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _n(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Is.prototype._convertLatLngs.call(this,a),m=u.length;return m>=2&&u[0]instanceof ce&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(a){Is.prototype._setLatLngs.call(this,a),Ht(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ht(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,m=new H(u,u);if(a=new me(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var C=0,I=this._rings.length,Y;C<I;C++)Y=Va(this._rings[C],a,!0),Y.length&&this._parts.push(Y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,m,C,I,Y,xe,Ve,tt,gt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(Y=0,tt=this._parts.length;Y<tt;Y++)for(m=this._parts[Y],xe=0,gt=m.length,Ve=gt-1;xe<gt;Ve=xe++)C=m[xe],I=m[Ve],C.y>a.y!=I.y>a.y&&a.x<(I.x-C.x)*(a.y-C.y)/(I.y-C.y)+C.x&&(u=!u);return u||Is.prototype._containsPoint.call(this,a,!0)}});function Ui(a,u){return new kn(a,u)}var Ln=Bs.extend({initialize:function(a,u){S(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=j(a)?a:a.features,m,C,I;if(u){for(m=0,C=u.length;m<C;m++)I=u[m],(I.geometries||I.geometry||I.features||I.coordinates)&&this.addData(I);return this}var Y=this.options;if(Y.filter&&!Y.filter(a))return this;var xe=Wa(a,Y);return xe?(xe.feature=Ae(a),xe.defaultOptions=xe.options,this.resetStyle(xe),Y.onEachFeature&&Y.onEachFeature(a,xe),this.addLayer(xe)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=s({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function Wa(a,u){var m=a.type==="Feature"?a.geometry:a,C=m?m.coordinates:null,I=[],Y=u&&u.pointToLayer,xe=u&&u.coordsToLatLng||x,Ve,tt,gt,Ot;if(!C&&!m)return null;switch(m.type){case"Point":return Ve=xe(C),f(Y,a,Ve,u);case"MultiPoint":for(gt=0,Ot=C.length;gt<Ot;gt++)Ve=xe(C[gt]),I.push(f(Y,a,Ve,u));return new Bs(I);case"LineString":case"MultiLineString":return tt=E(C,m.type==="LineString"?0:1,xe),new Is(tt,u);case"Polygon":case"MultiPolygon":return tt=E(C,m.type==="Polygon"?1:2,xe),new kn(tt,u);case"GeometryCollection":for(gt=0,Ot=m.geometries.length;gt<Ot;gt++){var nr=Wa({geometry:m.geometries[gt],type:"Feature",properties:a.properties},u);nr&&I.push(nr)}return new Bs(I);case"FeatureCollection":for(gt=0,Ot=m.features.length;gt<Ot;gt++){var _r=Wa(m.features[gt],u);_r&&I.push(_r)}return new Bs(I);default:throw new Error("Invalid GeoJSON object.")}}function f(a,u,m,C){return a?a(u,m):new on(m,C&&C.markersInheritOptions&&C)}function x(a){return new ce(a[1],a[0],a[2])}function E(a,u,m){for(var C=[],I=0,Y=a.length,xe;I<Y;I++)xe=u?E(a[I],u-1,m):(m||x)(a[I]),C.push(xe);return C}function k(a,u){return a=fe(a),a.alt!==void 0?[w(a.lng,u),w(a.lat,u),w(a.alt,u)]:[w(a.lng,u),w(a.lat,u)]}function O(a,u,m,C){for(var I=[],Y=0,xe=a.length;Y<xe;Y++)I.push(u?O(a[Y],Ht(a[Y])?0:u-1,m,C):k(a[Y],C));return!u&&m&&I.length>0&&I.push(I[0].slice()),I}function W(a,u){return a.feature?s({},a.feature,{geometry:u}):Ae(u)}function Ae(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ge={toGeoJSON:function(a){return W(this,{type:"Point",coordinates:k(this.getLatLng(),a)})}};on.include(ge),hs.include(ge),Ai.include(ge),Is.include({toGeoJSON:function(a){var u=!Ht(this._latlngs),m=O(this._latlngs,u?1:0,!1,a);return W(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),kn.include({toGeoJSON:function(a){var u=!Ht(this._latlngs),m=u&&!Ht(this._latlngs[0]),C=O(this._latlngs,m?2:u?1:0,!0,a);return u||(C=[C]),W(this,{type:(m?"Multi":"")+"Polygon",coordinates:C})}}),_s.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(a).geometry.coordinates)}),W(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var m=u==="GeometryCollection",C=[];return this.eachLayer(function(I){if(I.toGeoJSON){var Y=I.toGeoJSON(a);if(m)C.push(Y.geometry);else{var xe=Ae(Y);xe.type==="FeatureCollection"?C.push.apply(C,xe.features):C.push(xe)}}}),m?W(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});function Ce(a,u){return new Ln(a,u)}var be=Ce,Re=rn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,m){this._url=a,this._bounds=se(u),S(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(mr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&si(this._image),this},bringToBack:function(){return this._map&&zs(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=se(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Dt("img");if(mr(u,"leaflet-image-layer"),this._zoomAnimated&&mr(u,"leaflet-zoom-animated"),this.options.className&&mr(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onload=o(this.fire,this,"load"),u.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ii(this._image,m,u)},_reset:function(){var a=this._image,u=new me(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();Gr(a,u.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){wn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),ye=function(a,u,m){return new Re(a,u,m)},De=Re.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Dt("video");if(mr(u,"leaflet-image-layer"),this._zoomAnimated&&mr(u,"leaflet-zoom-animated"),this.options.className&&mr(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onloadeddata=o(this.fire,this,"load"),a){for(var m=u.getElementsByTagName("source"),C=[],I=0;I<m.length;I++)C.push(m[I].src);this._url=m.length>0?C:[u.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var Y=0;Y<this._url.length;Y++){var xe=Dt("source");xe.src=this._url[Y],u.appendChild(xe)}}});function Fe(a,u,m){return new De(a,u,m)}var Le=Re.extend({_initImage:function(){var a=this._image=this._url;mr(a,"leaflet-image-layer"),this._zoomAnimated&&mr(a,"leaflet-zoom-animated"),this.options.className&&mr(a,this.options.className),a.onselectstart=g,a.onmousemove=g}});function Qe(a,u,m){return new Le(a,u,m)}var Pe=rn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof ce||j(a))?(this._latlng=fe(a),S(this,u)):(S(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&wn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&wn(this._container,1),this.bringToFront(),this.options.interactive&&(mr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(wn(this._container,0),this._removeTimeout=setTimeout(o(pr,void 0,this._container),200)):pr(this._container),this.options.interactive&&(Ur(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=fe(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&si(this._container),this},bringToBack:function(){return this._map&&zs(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Bs){u=null;var m=this._source._layers;for(var C in m)if(m[C]._map){u=m[C];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=ee(this.options.offset),m=this._getAnchor();this._zoomAnimated?Gr(this._container,a.add(m)):u=u.add(a).add(m);var C=this._containerBottom=-u.y,I=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=C+"px",this._container.style.left=I+"px"}},_getAnchor:function(){return[0,0]}});gr.include({_initOverlay:function(a,u,m,C){var I=u;return I instanceof a||(I=new a(C).setContent(u)),m&&I.setLatLng(m),I}}),rn.include({_initOverlay:function(a,u,m,C){var I=m;return I instanceof a?(S(I,C),I._source=this):(I=u&&!C?u:new a(C,this),I.setContent(m)),I}});var qe=Pe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Pe.prototype.openOn.call(this,a)},onAdd:function(a){Pe.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Er||this._source.on("preclick",Kn))},onRemove:function(a){Pe.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Er||this._source.off("preclick",Kn))},getEvents:function(){var a=Pe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Dt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Dt("div",a+"-content-wrapper",u);if(this._contentNode=Dt("div",a+"-content",m),Ka(u),yo(this._contentNode),Gt(u,"contextmenu",Kn),this._tipContainer=Dt("div",a+"-tip-container",u),this._tip=Dt("div",a+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=Dt("a",a+"-close-button",u);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',Gt(C,"click",function(I){an(I),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var C=a.offsetHeight,I=this.options.maxHeight,Y="leaflet-popup-scrolled";I&&C>I?(u.height=I+"px",mr(a,Y)):Ur(a,Y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();Gr(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Bi(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,C=this._containerWidth,I=new H(this._containerLeft,-m-this._containerBottom);I._add(Ci(this._container));var Y=a.layerPointToContainerPoint(I),xe=ee(this.options.autoPanPadding),Ve=ee(this.options.autoPanPaddingTopLeft||xe),tt=ee(this.options.autoPanPaddingBottomRight||xe),gt=a.getSize(),Ot=0,nr=0;Y.x+C+tt.x>gt.x&&(Ot=Y.x+C-gt.x+tt.x),Y.x-Ot-Ve.x<0&&(Ot=Y.x-Ve.x),Y.y+m+tt.y>gt.y&&(nr=Y.y+m-gt.y+tt.y),Y.y-nr-Ve.y<0&&(nr=Y.y-Ve.y),(Ot||nr)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ot,nr]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ge=function(a,u){return new qe(a,u)};gr.mergeOptions({closePopupOnClick:!0}),gr.include({openPopup:function(a,u,m){return this._initOverlay(qe,a,u,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),rn.include({bindPopup:function(a,u){return this._popup=this._initOverlay(qe,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Bs||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){es(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof Er)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var st=Pe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Pe.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Pe.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Pe.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Dt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,m,C=this._map,I=this._container,Y=C.latLngToContainerPoint(C.getCenter()),xe=C.layerPointToContainerPoint(a),Ve=this.options.direction,tt=I.offsetWidth,gt=I.offsetHeight,Ot=ee(this.options.offset),nr=this._getAnchor();Ve==="top"?(u=tt/2,m=gt):Ve==="bottom"?(u=tt/2,m=0):Ve==="center"?(u=tt/2,m=gt/2):Ve==="right"?(u=0,m=gt/2):Ve==="left"?(u=tt,m=gt/2):xe.x<Y.x?(Ve="right",u=0,m=gt/2):(Ve="left",u=tt+(Ot.x+nr.x)*2,m=gt/2),a=a.subtract(ee(u,m,!0)).add(Ot).add(nr),Ur(I,"leaflet-tooltip-right"),Ur(I,"leaflet-tooltip-left"),Ur(I,"leaflet-tooltip-top"),Ur(I,"leaflet-tooltip-bottom"),mr(I,"leaflet-tooltip-"+Ve),Gr(I,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&wn(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ct=function(a,u){return new st(a,u)};gr.include({openTooltip:function(a,u,m){return this._initOverlay(st,a,u,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),rn.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(st,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Bs||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Gt(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Gt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,m,C;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),C=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(u)}});var Ct=oi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Ra(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var C=ee(m.bgPos);u.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function jt(a){return new Ct(a)}oi.Default=wa;var bt=rn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){S(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),pr(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(si(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof H?a:new H(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,m=-a(-1/0,1/0),C=0,I=u.length,Y;C<I;C++)Y=u[C].style.zIndex,u[C]!==this._container&&Y&&(m=a(m,+Y));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){wn(this._container,this.options.opacity);var a=+new Date,u=!1,m=!1;for(var C in this._tiles){var I=this._tiles[C];if(!(!I.current||!I.loaded)){var Y=Math.min(1,(a-I.loaded)/200);wn(I.el,Y),Y<1?u=!0:(I.active?m=!0:this._onOpaqueTile(I),I.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(R(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=u-Math.abs(a-m),this._onUpdateLevel(m)):(pr(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var C=this._levels[a],I=this._map;return C||(C=this._levels[a]={},C.el=Dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=u,C.origin=I.project(I.unproject(I.getPixelOrigin()),a).round(),C.zoom=a,this._setZoomTransform(C,I.getCenter(),I.getZoom()),g(C.el.offsetWidth),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var a,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var C=u.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)pr(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,m,C){var I=Math.floor(a/2),Y=Math.floor(u/2),xe=m-1,Ve=new H(+I,+Y);Ve.z=+xe;var tt=this._tileCoordsToKey(Ve),gt=this._tiles[tt];return gt&&gt.active?(gt.retain=!0,!0):(gt&&gt.loaded&&(gt.retain=!0),xe>C?this._retainParent(I,Y,xe,C):!1)},_retainChildren:function(a,u,m,C){for(var I=2*a;I<2*a+2;I++)for(var Y=2*u;Y<2*u+2;Y++){var xe=new H(I,Y);xe.z=m+1;var Ve=this._tileCoordsToKey(xe),tt=this._tiles[Ve];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);m+1<C&&this._retainChildren(I,Y,m+1,C)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,m,C){var I=Math.round(u);this.options.maxZoom!==void 0&&I>this.options.maxZoom||this.options.minZoom!==void 0&&I<this.options.minZoom?I=void 0:I=this._clampZoom(I);var Y=this.options.updateWhenZooming&&I!==this._tileZoom;(!C||Y)&&(this._tileZoom=I,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),I!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,u)},_setZoomTransform:function(a,u,m){var C=this._map.getZoomScale(m,a.zoom),I=a.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(u,m)).round();Lt.any3d?ii(a.el,I,C):Gr(a.el,I)},_resetGrid:function(){var a=this._map,u=a.options.crs,m=this._tileSize=this.getTileSize(),C=this._tileZoom,I=this._map.getPixelWorldBounds(this._tileZoom);I&&(this._globalTileRange=this._pxBoundsToTileRange(I)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],C).x/m.x),Math.ceil(a.project([0,u.wrapLng[1]],C).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],C).y/m.x),Math.ceil(a.project([u.wrapLat[1],0],C).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),C=u.getZoomScale(m,this._tileZoom),I=u.project(a,this._tileZoom).floor(),Y=u.getSize().divideBy(C*2);return new me(I.subtract(Y),I.add(Y))},_update:function(a){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var C=this._getTiledPixelBounds(a),I=this._pxBoundsToTileRange(C),Y=I.getCenter(),xe=[],Ve=this.options.keepBuffer,tt=new me(I.getBottomLeft().subtract([Ve,-Ve]),I.getTopRight().add([Ve,-Ve]));if(!(isFinite(I.min.x)&&isFinite(I.min.y)&&isFinite(I.max.x)&&isFinite(I.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var gt in this._tiles){var Ot=this._tiles[gt].coords;(Ot.z!==this._tileZoom||!tt.contains(new H(Ot.x,Ot.y)))&&(this._tiles[gt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var nr=I.min.y;nr<=I.max.y;nr++)for(var _r=I.min.x;_r<=I.max.x;_r++){var Ws=new H(_r,nr);if(Ws.z=this._tileZoom,!!this._isValidTile(Ws)){var rs=this._tiles[this._tileCoordsToKey(Ws)];rs?rs.current=!0:xe.push(Ws)}}if(xe.sort(function(li,ol){return li.distanceTo(Y)-ol.distanceTo(Y)}),xe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ji=document.createDocumentFragment();for(_r=0;_r<xe.length;_r++)this._addTile(xe[_r],Ji);this._level.el.appendChild(Ji)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!u.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(a);return se(this.options.bounds).overlaps(C)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,m=this.getTileSize(),C=a.scaleBy(m),I=C.add(m),Y=u.unproject(C,a.z),xe=u.unproject(I,a.z);return[Y,xe]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),m=new $(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),m=new H(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(a){var u=this._tiles[a];u&&(pr(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){mr(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=g,a.onmousemove=g,Lt.ielt9&&this.options.opacity<1&&wn(a,this.options.opacity)},_addTile:function(a,u){var m=this._getTilePos(a),C=this._tileCoordsToKey(a),I=this.createTile(this._wrapCoords(a),o(this._tileReady,this,a));this._initTile(I),this.createTile.length<2&&D(o(this._tileReady,this,a,null,I)),Gr(I,m),this._tiles[C]={el:I,coords:a,current:!0},u.appendChild(I),this.fire("tileloadstart",{tile:I,coords:a})},_tileReady:function(a,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:a});var C=this._tileCoordsToKey(a);m=this._tiles[C],m&&(m.loaded=+new Date,this._map._fadeAnimated?(wn(m.el,0),R(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(mr(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new H(this._wrapX?p(a.x,this._wrapX):a.x,this._wrapY?p(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new me(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Bt(a){return new bt(a)}var Nt=bt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=S(this,u),u.detectRetina&&Lt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var m=document.createElement("img");return Gt(m,"load",o(this._tileOnLoad,this,u,m)),Gt(m,"error",o(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var u={r:Lt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=m),u["-y"]=m}return B(this._url,s(u,this.options))},_tileOnLoad:function(a,u){Lt.ielt9?setTimeout(o(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,m){var C=this.options.errorTileUrl;C&&u.getAttribute("src")!==C&&(u.src=C),a(m,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,C=this.options.zoomOffset;return m&&(a=u-a),a+C},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=g,u.onerror=g,!u.complete)){u.src=V;var m=this._tiles[a].coords;pr(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",V),bt.prototype._removeTile.call(this,a)},_tileReady:function(a,u,m){if(!(!this._map||m&&m.getAttribute("src")===V))return bt.prototype._tileReady.call(this,a,u,m)}});function mt(a,u){return new Nt(a,u)}var St=Nt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var m=s({},this.defaultWmsParams);for(var C in u)C in this.options||(m[C]=u[C]);u=S(this,u);var I=u.detectRetina&&Lt.retina?2:1,Y=this.getTileSize();m.width=Y.x*I,m.height=Y.y*I,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Nt.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),m=this._crs,C=P(m.project(u[0]),m.project(u[1])),I=C.min,Y=C.max,xe=(this._wmsVersion>=1.3&&this._crs===Un?[I.y,I.x,Y.y,Y.x]:[I.x,I.y,Y.x,Y.y]).join(","),Ve=Nt.prototype.getTileUrl.call(this,a);return Ve+Q(this.wmsParams,Ve,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+xe},setParams:function(a,u){return s(this.wmsParams,a),u||this.redraw(),this}});function Vt(a,u){return new St(a,u)}Nt.WMS=St,mt.wms=Vt;var Kt=rn.extend({options:{padding:.1},initialize:function(a){S(this,a),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),mr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var m=this._map.getZoomScale(u,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),I=this._map.project(this._center,u),Y=C.multiplyBy(-m).add(I).subtract(this._map._getNewPixelOrigin(a,u));Lt.any3d?ii(this._container,Y,m):Gr(this._container,Y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new me(m,m.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),or=Kt.extend({options:{tolerance:0},getEvents:function(){var a=Kt.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Kt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Gt(a,"mousemove",this._onMouseMove,this),Gt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Gt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,pr(this._container),yr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kt.prototype._update.call(this);var a=this._bounds,u=this._container,m=a.getSize(),C=Lt.retina?2:1;Gr(u,a.min),u.width=C*m.x,u.height=C*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Kt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[c(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,m=u.next,C=u.prev;m?m.prev=C:this._drawLast=C,C?C.next=m:this._drawFirst=m,delete a._order,delete this._layers[c(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),m=[],C,I;for(I=0;I<u.length;I++){if(C=Number(u[I]),isNaN(C))return;m.push(C)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new me,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)a=C.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var m,C,I,Y,xe=a._parts,Ve=xe.length,tt=this._ctx;if(Ve){for(tt.beginPath(),m=0;m<Ve;m++){for(C=0,I=xe[m].length;C<I;C++)Y=xe[m][C],tt[C?"lineTo":"moveTo"](Y.x,Y.y);u&&tt.closePath()}this._fillStroke(tt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,m=this._ctx,C=Math.max(Math.round(a._radius),1),I=(Math.max(Math.round(a._radiusY),1)||C)/C;I!==1&&(m.save(),m.scale(1,I)),m.beginPath(),m.arc(u.x,u.y/I,C,0,Math.PI*2,!1),I!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,u){var m=u.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),m,C,I=this._drawFirst;I;I=I.next)m=I.layer,m.options.interactive&&m._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(C=m);this._fireEvent(C?[C]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Ur(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var m,C,I=this._drawFirst;I;I=I.next)m=I.layer,m.options.interactive&&m._containsPoint(u)&&(C=m);C!==this._hoveredLayer&&(this._handleMouseOut(a),C&&(mr(this._container,"leaflet-interactive"),this._fireEvent([C],a,"mouseover"),this._hoveredLayer=C)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,m){this._map._fireDOMEvent(u,m||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var m=u.next,C=u.prev;if(m)m.prev=C;else return;C?C.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var m=u.next,C=u.prev;if(C)C.next=m;else return;m?m.prev=C:C&&(this._drawLast=C),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function qn(a){return Lt.canvas?new or(a):null}var er=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Qn={_initContainer:function(){this._container=Dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Kt.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=er("shape");mr(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=er("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[c(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;pr(u),a.removeInteractiveTarget(u),delete this._layers[c(a)]},_updateStyle:function(a){var u=a._stroke,m=a._fill,C=a.options,I=a._container;I.stroked=!!C.stroke,I.filled=!!C.fill,C.stroke?(u||(u=a._stroke=er("stroke")),I.appendChild(u),u.weight=C.weight+"px",u.color=C.color,u.opacity=C.opacity,C.dashArray?u.dashStyle=j(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=C.lineCap.replace("butt","flat"),u.joinstyle=C.lineJoin):u&&(I.removeChild(u),a._stroke=null),C.fill?(m||(m=a._fill=er("fill")),I.appendChild(m),m.color=C.fillColor||C.color,m.opacity=C.fillOpacity):m&&(I.removeChild(m),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),m=Math.round(a._radius),C=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+C+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){si(a._container)},_bringToBack:function(a){zs(a._container)}},mn=Lt.vml?er:pe,ki=Kt.extend({_initContainer:function(){this._container=mn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=mn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pr(this._container),yr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kt.prototype._update.call(this);var a=this._bounds,u=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),Gr(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=mn("path");a.options.className&&mr(u,a.options.className),a.options.interactive&&mr(u,"leaflet-interactive"),this._updateStyle(a),this._layers[c(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){pr(a._path),a.removeInteractiveTarget(a._path),delete this._layers[c(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,m=a.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,ne(a._parts,u))},_updateCircle:function(a){var u=a._point,m=Math.max(Math.round(a._radius),1),C=Math.max(Math.round(a._radiusY),1)||m,I="a"+m+","+C+" 0 1,0 ",Y=a._empty()?"M0 0":"M"+(u.x-m)+","+u.y+I+m*2+",0 "+I+-m*2+",0 ";this._setPath(a,Y)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){si(a._path)},_bringToBack:function(a){zs(a._path)}});Lt.vml&&ki.include(Qn);function Dr(a){return Lt.svg||Lt.vml?new ki(a):null}gr.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&qn(a)||Dr(a)}});var In=kn.extend({initialize:function(a,u){kn.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=se(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function tA(a,u){return new In(a,u)}ki.create=mn,ki.pointsToPath=ne,Ln.geometryToLayer=Wa,Ln.coordsToLatLng=x,Ln.coordsToLatLngs=E,Ln.latLngToCoords=k,Ln.latLngsToCoords=O,Ln.getFeature=W,Ln.asFeature=Ae,gr.mergeOptions({boxZoom:!0});var dc=jn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){yr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qi(),Wo(),this._startPoint=this._map.mouseEventToContainerPoint(a),Gt(document,{contextmenu:es,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Dt("div","leaflet-zoom-box",this._container),mr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new me(this._point,this._startPoint),m=u.getSize();Gr(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(pr(this._box),Ur(this._container,"leaflet-crosshair")),zi(),Ni(),yr(document,{contextmenu:es,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var u=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gr.addInitHook("addHandler","boxZoom",dc),gr.mergeOptions({doubleClickZoom:!0});var ed=jn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,m=u.getZoom(),C=u.options.zoomDelta,I=a.originalEvent.shiftKey?m-C:m+C;u.options.doubleClickZoom==="center"?u.setZoom(I):u.setZoomAround(a.containerPoint,I)}});gr.addInitHook("addHandler","doubleClickZoom",ed),gr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fc=jn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ls(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}mr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ur(this._map._container,"leaflet-grab"),Ur(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=se(this._map.options.maxBounds);this._offsetLimit=P(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),m=this._initialWorldOffset,C=this._draggable._newPos.x,I=(C-u+m)%a+u-m,Y=(C+u+m)%a-u-m,xe=Math.abs(I+m)<Math.abs(Y+m)?I:Y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=xe},_onDragEnd:function(a){var u=this._map,m=u.options,C=!m.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),C)u.fire("moveend");else{this._prunePositions(+new Date);var I=this._lastPos.subtract(this._positions[0]),Y=(this._lastTime-this._times[0])/1e3,xe=m.easeLinearity,Ve=I.multiplyBy(xe/Y),tt=Ve.distanceTo([0,0]),gt=Math.min(m.inertiaMaxSpeed,tt),Ot=Ve.multiplyBy(gt/tt),nr=gt/(m.inertiaDeceleration*xe),_r=Ot.multiplyBy(-nr/2).round();!_r.x&&!_r.y?u.fire("moveend"):(_r=u._limitOffset(_r,u.options.maxBounds),D(function(){u.panBy(_r,{duration:nr,easeLinearity:xe,noMoveStart:!0,animate:!0})}))}}});gr.addInitHook("addHandler","dragging",fc),gr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var pc=jn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Gt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),yr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,m=a.scrollTop||u.scrollTop,C=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(C,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},m=this.keyCodes,C,I;for(C=0,I=m.left.length;C<I;C++)u[m.left[C]]=[-1*a,0];for(C=0,I=m.right.length;C<I;C++)u[m.right[C]]=[a,0];for(C=0,I=m.down.length;C<I;C++)u[m.down[C]]=[0,a];for(C=0,I=m.up.length;C<I;C++)u[m.up[C]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},m=this.keyCodes,C,I;for(C=0,I=m.zoomIn.length;C<I;C++)u[m.zoomIn[C]]=a;for(C=0,I=m.zoomOut.length;C<I;C++)u[m.zoomOut[C]]=-a},_addHooks:function(){Gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){yr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,m=this._map,C;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(C=this._panKeys[u],a.shiftKey&&(C=ee(C).multiplyBy(3)),m.options.maxBounds&&(C=m._limitOffset(ee(C),m.options.maxBounds)),m.options.worldCopyJump){var I=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(C)));m.panTo(I)}else m.panBy(C)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;es(a)}}});gr.addInitHook("addHandler","keyboard",pc),gr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mu=jn.extend({addHooks:function(){Gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){yr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=Vi(a),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var C=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),C),es(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var C=this._delta/(this._map.options.wheelPxPerZoomLevel*4),I=4*Math.log(2/(1+Math.exp(-Math.abs(C))))/Math.LN2,Y=m?Math.ceil(I/m)*m:I,xe=a._limitZoom(u+(this._delta>0?Y:-Y))-u;this._delta=0,this._startTime=null,xe&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+xe):a.setZoomAround(this._lastMousePos,u+xe))}});gr.addInitHook("addHandler","scrollWheelZoom",mu);var rp=600;gr.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var gu=jn.extend({addHooks:function(){Gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){yr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new H(u.clientX,u.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Gt(document,"touchend",an),Gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),rp),Gt(document,"touchend touchcancel contextmenu",this._cancel,this),Gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){yr(document,"touchend",an),yr(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),yr(document,"touchend touchcancel contextmenu",this._cancel,this),yr(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new H(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});gr.addInitHook("addHandler","tapHold",gu),gr.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var vu=jn.extend({addHooks:function(){mr(this._map._container,"leaflet-touch-zoom"),Gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ur(this._map._container,"leaflet-touch-zoom"),yr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(a.touches[0]),C=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(C)._divideBy(2))),this._startDist=m.distanceTo(C),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Gt(document,"touchmove",this._onTouchMove,this),Gt(document,"touchend touchcancel",this._onTouchEnd,this),an(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(a.touches[0]),C=u.mouseEventToContainerPoint(a.touches[1]),I=m.distanceTo(C)/this._startDist;if(this._zoom=u.getScaleZoom(I,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&I<1||this._zoom>u.getMaxZoom()&&I>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,I===1)return}else{var Y=m._add(C)._divideBy(2)._subtract(this._centerPoint);if(I===1&&Y.x===0&&Y.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(Y),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var xe=o(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(xe,this,!0),an(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),yr(document,"touchmove",this._onTouchMove,this),yr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gr.addInitHook("addHandler","touchZoom",vu),gr.BoxZoom=dc,gr.DoubleClickZoom=ed,gr.Drag=fc,gr.Keyboard=pc,gr.ScrollWheelZoom=mu,gr.TapHold=gu,gr.TouchZoom=vu,r.Bounds=me,r.Browser=Lt,r.CRS=Te,r.Canvas=or,r.Circle=hs,r.CircleMarker=Ai,r.Class=ae,r.Control=bn,r.DivIcon=Ct,r.DivOverlay=Pe,r.DomEvent=il,r.DomUtil=Ar,r.Draggable=Ls,r.Evented=Ue,r.FeatureGroup=Bs,r.GeoJSON=Ln,r.GridLayer=bt,r.Handler=jn,r.Icon=oi,r.ImageOverlay=Re,r.LatLng=ce,r.LatLngBounds=$,r.Layer=rn,r.LayerGroup=_s,r.LineUtil=Cr,r.Map=gr,r.Marker=on,r.Mixin=Xo,r.Path=Er,r.Point=H,r.PolyUtil=Gi,r.Polygon=kn,r.Polyline=Is,r.Popup=qe,r.PosAnimation=za,r.Projection=Bn,r.Rectangle=In,r.Renderer=Kt,r.SVG=ki,r.SVGOverlay=Le,r.TileLayer=Nt,r.Tooltip=st,r.Transformation=Ke,r.Util=re,r.VideoOverlay=De,r.bind=o,r.bounds=P,r.canvas=qn,r.circle=FA,r.circleMarker=us,r.control=Vs,r.divIcon=jt,r.extend=s,r.featureGroup=eA,r.geoJSON=Ce,r.geoJson=be,r.gridLayer=Bt,r.icon=EA,r.imageOverlay=ye,r.latLng=fe,r.latLngBounds=se,r.layerGroup=SA,r.map=Go,r.marker=Qs,r.point=ee,r.polygon=Ui,r.polyline=$i,r.popup=Ge,r.rectangle=tA,r.setOptions=S,r.stamp=c,r.svg=Dr,r.svgOverlay=Qe,r.tileLayer=mt,r.tooltip=ct,r.transformation=we,r.version=n,r.videoOverlay=Fe;var yu=window.L;r.noConflict=function(){return window.L=yu,this},window.L=r})})(gw,gw.exports);var kP=gw.exports;const Lu=Yw(kP);function eN({latitude:t=46.603354,longitude:e=1.888334,markers:r=[],onMarkerClick:n,className:s="h-96"}){const i=le.useRef(null),o=le.useRef(null);return le.useEffect(()=>{if(!o.current)return;i.current&&i.current.remove();const l=Lu.map(o.current).setView([t,e],13);Lu.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:19}).addTo(l);const c=Lu.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});if(r.length>0){const h=Lu.latLngBounds(r.map(p=>[p.lat,p.lng]));l.fitBounds(h,{padding:[50,50]}),r.forEach(p=>{const g=Lu.marker([p.lat,p.lng],{icon:c}).addTo(l);p.label&&g.bindPopup(p.label),p.id&&n&&g.on("click",()=>n(p.id))})}else t&&e&&Lu.marker([t,e],{icon:c}).addTo(l).bindPopup("Localisation");return i.current=l,()=>{i.current&&(i.current.remove(),i.current=null)}},[t,e,r,n]),A.jsx("div",{ref:o,className:`rounded-lg ${s}`})}function Gb({value:t,onChange:e,onSelectAddress:r,placeholder:n,required:s,className:i="",label:o,city:l,postalCode:c,companyName:h}){const[p,g]=le.useState([]),[w,y]=le.useState(!1),[F,S]=le.useState(!1),Q=le.useRef(null);le.useEffect(()=>{const B=j=>{Q.current&&!Q.current.contains(j.target)&&y(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),le.useEffect(()=>{const j=setTimeout(async()=>{if(t.length<2){g([]);return}S(!0);try{let T=t;h&&h.length>=2?(T=`${h}, ${t}`,l&&(T=`${h}, ${t}, ${l}`),c&&l&&(T=`${h}, ${t}, ${c} ${l}`)):(l&&(T=`${t}, ${l}`),c&&l&&(T=`${t}, ${c} ${l}`));const V=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(T)}&countrycodes=fr&addressdetails=1&limit=5`,{headers:{"Accept-Language":"fr"}});if(V.ok){const K=await V.json();g(K),y(!0)}}catch(T){console.error("Error fetching address suggestions:",T)}finally{S(!1)}},300);return()=>clearTimeout(j)},[t,l,c,h]);const _=B=>{const j=B.address.road||"",T=B.address.house_number||"",V=T?`${T} ${j}`:j,K=(B.address.city||B.address.town||B.address.village||"").toUpperCase(),G=B.address.postcode||"";e(V),y(!1),r&&r({adresse:V,code_postal:G,ville:K})};return A.jsxs("div",{ref:Q,className:"relative",children:[o&&A.jsx("label",{className:"label",children:o}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"text",value:t,onChange:B=>{e(B.target.value),y(!0)},onFocus:()=>{p.length>0&&y(!0)},placeholder:n,required:s,className:`input ${i}`}),F&&A.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:A.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary-600 border-t-transparent rounded-full"})})]}),w&&p.length>0&&A.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:p.map((B,j)=>A.jsxs("button",{type:"button",onClick:()=>_(B),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 flex items-start space-x-3 transition-colors",children:[A.jsx(R4,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:B.address.road&&B.address.house_number?`${B.address.house_number} ${B.address.road}`:B.address.road||B.display_name.split(",")[0]}),A.jsx("p",{className:"text-xs text-gray-500 truncate",children:[B.address.postcode,(B.address.city||B.address.town||B.address.village||"").toUpperCase()].filter(Boolean).join(" ")})]})]},j))})]})}function $b(){const{id:t}=fu(),e=Us(),{user:r}=uo(),n=!!t,{data:s}=CQ(t),i=NQ(),o=SQ(),l=jQ(),c=UQ(),h=kQ(),[p,g]=le.useState({nom:"",adresse:"",adresse2:"",code_postal:"",ville:"",contact:"",telephone:"",email:"",multi_site:!1}),[w,y]=le.useState([]),[F,S]=le.useState(null),[Q,_]=le.useState(!1);le.useEffect(()=>{s&&(g({nom:s.nom,adresse:s.adresse,adresse2:s.adresse2||"",code_postal:s.code_postal,ville:s.ville,contact:s.contact||"",telephone:s.telephone||"",email:s.email||"",multi_site:s.multi_site}),s.sites&&y(s.sites))},[s]),le.useEffect(()=>{p.adresse&&p.code_postal&&p.ville&&Wb(p.adresse,p.code_postal,p.ville).then(K=>{K&&S(K)})},[p.adresse,p.code_postal,p.ville]);const B=async K=>{if(K.preventDefault(),!!r){_(!0);try{let G=t;if(n&&t?await o.mutateAsync({id:t,updates:p}):G=(await i.mutateAsync({client:p,userId:r.id})).id,G){if(p.multi_site&&w.length>0)for(const M of w){const Z=await Wb(M.adresse||"",M.code_postal||"",M.ville||""),oe={...M,client_id:G,latitude:Z==null?void 0:Z.latitude,longitude:Z==null?void 0:Z.longitude};M.id?await c.mutateAsync({id:M.id,updates:oe}):await l.mutateAsync(oe)}else if(!p.multi_site&&!n){const M={client_id:G,nom:p.nom,adresse:p.adresse,code_postal:p.code_postal,ville:p.ville,latitude:F==null?void 0:F.latitude,longitude:F==null?void 0:F.longitude};await l.mutateAsync(M)}}e("/clients")}catch(G){console.error("Error saving client:",G),alert("Erreur lors de la sauvegarde")}finally{_(!1)}}},j=()=>{y([...w,{nom:"",adresse:"",code_postal:"",ville:""}])},T=async K=>{const G=w[K];G.id&&window.confirm("tes-vous sr de vouloir supprimer ce site ?")&&await h.mutateAsync(G.id),y(w.filter((M,Z)=>Z!==K))},V=(K,G,M)=>{const Z=[...w];Z[K]={...Z[K],[G]:M},y(Z)};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsx("button",{onClick:()=>e("/clients"),className:"text-gray-600 hover:text-gray-900",children:A.jsx(Gg,{className:"w-6 h-6"})}),A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:n?"Modifier le client":"Crer un client"})]}),A.jsxs("form",{onSubmit:B,className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informations client"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Nom *"}),A.jsx("input",{type:"text",value:p.nom,onChange:K=>g({...p,nom:K.target.value.toUpperCase()}),className:"input",required:!0})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Code postal *"}),A.jsx("input",{type:"text",value:p.code_postal,onChange:K=>g({...p,code_postal:K.target.value}),className:"input",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Ville *"}),A.jsx("input",{type:"text",value:p.ville,onChange:K=>g({...p,ville:K.target.value.toUpperCase()}),className:"input",required:!0})]})]}),A.jsx("div",{children:A.jsx(Gb,{label:"Adresse *",value:p.adresse,onChange:K=>{g({...p,adresse:K})},onSelectAddress:K=>{g({...p,adresse:K.adresse,code_postal:K.code_postal||p.code_postal,ville:K.ville||p.ville})},city:p.ville,postalCode:p.code_postal,companyName:p.nom,placeholder:p.ville?`Chercher une adresse  ${p.ville}...`:"Commencez par saisir la ville...",required:!0})}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Adresse 2"}),A.jsx("input",{type:"text",value:p.adresse2,onChange:K=>g({...p,adresse2:K.target.value}),className:"input"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Contact"}),A.jsx("input",{type:"text",value:p.contact,onChange:K=>g({...p,contact:K.target.value}),className:"input"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Tlphone"}),A.jsx("input",{type:"tel",value:p.telephone,onChange:K=>g({...p,telephone:K.target.value}),className:"input"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Email"}),A.jsx("input",{type:"email",value:p.email,onChange:K=>g({...p,email:K.target.value}),className:"input"})]}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"checkbox",id:"multi_site",checked:p.multi_site,onChange:K=>g({...p,multi_site:K.target.checked}),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),A.jsx("label",{htmlFor:"multi_site",className:"text-sm font-medium text-gray-700",children:"Multi site"})]})]})]}),p.multi_site&&A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold",children:"Sites"}),A.jsxs("button",{type:"button",onClick:j,className:"btn-secondary flex items-center space-x-1 text-sm",children:[A.jsx(so,{className:"w-4 h-4"}),A.jsx("span",{children:"Ajouter un site"})]})]}),A.jsx("div",{className:"space-y-4",children:w.map((K,G)=>A.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 relative",children:[A.jsx("button",{type:"button",onClick:()=>T(G),className:"absolute top-2 right-2 text-red-600 hover:text-red-800",children:A.jsx(VA,{className:"w-4 h-4"})}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("input",{type:"text",placeholder:"Nom du site *",value:K.nom||"",onChange:M=>V(G,"nom",M.target.value),className:"input text-sm",required:!0}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsx("input",{type:"text",placeholder:"Code postal *",value:K.code_postal||"",onChange:M=>V(G,"code_postal",M.target.value),className:"input text-sm",required:!0}),A.jsx("input",{type:"text",placeholder:"Ville *",value:K.ville||"",onChange:M=>V(G,"ville",M.target.value.toUpperCase()),className:"input text-sm",required:!0})]}),A.jsx(Gb,{value:K.adresse||"",onChange:M=>{V(G,"adresse",M)},onSelectAddress:M=>{const Z=[...w];Z[G]={...Z[G],adresse:M.adresse,code_postal:M.code_postal||K.code_postal,ville:M.ville||K.ville},y(Z)},city:K.ville,postalCode:K.code_postal,companyName:p.nom,placeholder:K.ville?`Chercher une adresse  ${K.ville}...`:"Commencez par saisir la ville...",required:!0,className:"text-sm"})]})]},G))})]}),A.jsxs("div",{className:"flex space-x-4",children:[A.jsxs("button",{type:"submit",disabled:Q,className:"btn-primary flex items-center space-x-2 flex-1 justify-center",children:[A.jsx(lx,{className:"w-5 h-5"}),A.jsx("span",{children:Q?"Sauvegarde...":"Valider"})]}),A.jsx("button",{type:"button",onClick:()=>e("/clients"),className:"btn-secondary",children:"Annuler"})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Localisation"}),F?A.jsx(eN,{latitude:F.latitude,longitude:F.longitude,className:"h-[600px]"}):A.jsx("div",{className:"h-96 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500",children:"Entrez une adresse pour voir la carte"})]})]})]})}const LP="modulepreload",QP=function(t){return"/Reflexofeu/"+t},Jb={},Mo=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=QP(c),c in Jb)return;Jb[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":LP,h||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),h)return new Promise((w,y)=>{g.addEventListener("load",w),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function IP(){const t=Us(),[e,r]=le.useState([]),[n,s]=le.useState(new Set),[i,o]=le.useState(!1),[l,c]=le.useState(0),[h,p]=le.useState(null),[g,w]=le.useState([]),y=le.useCallback(async V=>{try{w([]),p(null);const K=await Mo(()=>import("./xlsx-D_0l8YDs.js"),[]),G=new FileReader;G.onload=M=>{var Z;try{const oe=new Uint8Array((Z=M.target)==null?void 0:Z.result),D=K.read(oe,{type:"array"}),R=D.Sheets[D.SheetNames[0]],ae=K.utils.sheet_to_json(R).map((ve,Ue)=>{const H=ve["Raison sociale"]||ve.Client||"",ue=ve.Adresse||"",ee=ve["Code postal"]?String(ve["Code postal"]):"",me=ve.Ville||"";return{index:Ue,nom:H,adresse:ue,adresse2:ve["Adresse complmentaire (2me ligne)"]||null,code_postal:ee,ville:me,contact:null,telephone:ve.Tlphone||ve.Mobile||null,email:ve.Email||null,multi_site:!1,valid:!!(H&&ue&&ee&&me)}}).filter(ve=>ve.nom);r(ae);const Se=new Set(ae.map((ve,Ue)=>ve.valid?Ue:-1).filter(ve=>ve!==-1));s(Se)}catch{p({text:"Erreur lors de la lecture du fichier",type:"error"})}},G.readAsArrayBuffer(V)}catch{p({text:"Erreur lors du chargement du fichier",type:"error"})}},[]),F=le.useCallback(V=>{V.preventDefault();const K=V.dataTransfer.files[0];K&&(K.name.endsWith(".xls")||K.name.endsWith(".xlsx"))&&y(K)},[y]),S=V=>{const K=new Set(n);K.has(V)?K.delete(V):K.add(V),s(K)},Q=()=>{s(new Set(e.map((V,K)=>K)))},_=()=>{s(new Set)},B=async()=>{const V=await Mo(()=>import("./xlsx-D_0l8YDs.js"),[]),K=V.utils.json_to_sheet(g.map(M=>({Client:M.client,"Raison de l'erreur":M.error}))),G=V.utils.book_new();V.utils.book_append_sheet(G,K,"Erreurs d'import"),V.writeFile(G,`erreurs-import-${new Date().toISOString().split("T")[0]}.xlsx`)},j=async()=>{o(!0),c(0),p(null),w([]);try{const{data:{session:V}}=await Ft.auth.getSession();if(!V)throw new Error("Non authentifi");const K=Array.from(n).map(Z=>e[Z]).filter(Z=>Z.valid),G=await fetch("https://luaiyowmrtxtplvundfs.supabase.co/functions/v1/import-clients",{method:"POST",headers:{Authorization:`Bearer ${V.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({clients:K})});if(c(100),!G.ok){const Z=await G.json();throw new Error(Z.error||"Erreur lors de l'import")}const M=await G.json();M.errors&&M.errors.length>0?(w(M.errors),p({text:` ${M.imported} client(s) import(s) avec succs.  ${M.errors.length} client(s) non import(s).`,type:"info"})):(p({text:` ${M.imported} client(s) import(s) avec succs !`,type:"success"}),setTimeout(()=>t("/clients"),2e3)),s(new Set)}catch(V){p({text:V instanceof Error?V.message:"Erreur lors de l'import",type:"error"})}finally{o(!1),c(0)}},T=e.filter(V=>V.valid).length;return A.jsx("div",{className:"min-h-screen bg-gray-50",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[A.jsxs("div",{className:"mb-8",children:[A.jsxs("button",{onClick:()=>t("/clients"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[A.jsx(Gg,{className:"h-5 w-5 mr-2"}),"Retour aux clients"]}),A.jsx("h1",{className:"mt-4 text-3xl font-bold text-gray-900",children:"Import de clients depuis Excel"})]}),e.length===0?A.jsx("div",{onDrop:F,onDragOver:V=>V.preventDefault(),className:"bg-white rounded-lg shadow-sm border-2 border-dashed border-gray-300 hover:border-blue-400 transition-colors",children:A.jsxs("div",{className:"p-12 text-center",children:[A.jsx(Zf,{className:"mx-auto h-12 w-12 text-gray-400"}),A.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Glissez-dposez votre fichier Excel ici"}),A.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"ou cliquez pour slectionner un fichier"}),A.jsxs("label",{className:"mt-4 inline-block",children:[A.jsx("input",{type:"file",accept:".xls,.xlsx",onChange:V=>{var G;const K=(G=V.target.files)==null?void 0:G[0];K&&y(K)},className:"hidden"}),A.jsx("span",{className:"cursor-pointer inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Choisir un fichier"})]})]})}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[A.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.length}),A.jsx("div",{className:"text-sm text-gray-600",children:"Clients trouvs"})]}),A.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[A.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.size}),A.jsx("div",{className:"text-sm text-gray-600",children:"Clients slectionns"})]}),A.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[A.jsx("div",{className:"text-3xl font-bold text-purple-600",children:T}),A.jsx("div",{className:"text-sm text-gray-600",children:"Clients valides"})]})]}),A.jsxs("div",{className:"flex flex-wrap gap-3",children:[A.jsx("button",{onClick:Q,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Tout slectionner"}),A.jsx("button",{onClick:_,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Tout dslectionner"}),A.jsx("button",{onClick:j,disabled:n.size===0||i,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Import en cours...":`Importer ${n.size} client(s)`})]}),i&&A.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:A.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:A.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${l}%`}})})}),h&&A.jsx("div",{className:`rounded-lg p-4 ${h.type==="success"?"bg-green-50 text-green-800":h.type==="error"?"bg-red-50 text-red-800":"bg-blue-50 text-blue-800"}`,children:A.jsxs("div",{className:"flex items-center",children:[h.type==="success"?A.jsx(Gd,{className:"h-5 w-5 mr-2"}):A.jsx(fw,{className:"h-5 w-5 mr-2"}),A.jsx("span",{children:h.text})]})}),g.length>0&&A.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[A.jsx("div",{className:"bg-red-50 border-b border-red-100 px-6 py-4",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsxs("h3",{className:"text-lg font-semibold text-red-900 flex items-center",children:[A.jsx(fw,{className:"h-5 w-5 mr-2"}),"Clients non imports (",g.length,")"]}),A.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Les clients suivants n'ont pas pu tre imports. Vrifiez les erreurs ci-dessous."})]}),A.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-white text-red-700 border border-red-300 rounded-md hover:bg-red-50 transition-colors",children:[A.jsx(Zh,{className:"h-4 w-4"}),"Tlcharger la liste"]})]})}),A.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Raison"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((V,K)=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:V.client}),A.jsx("td",{className:"px-6 py-4 text-sm text-red-600",children:V.error})]},K))})]})}),A.jsx("div",{className:"bg-gray-50 px-6 py-3 text-sm text-gray-600 border-t border-gray-200",children:" Conseil : Corrigez les erreurs dans votre fichier Excel et ressayez l'import pour ces clients."})]}),A.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:A.jsx("input",{type:"checkbox",checked:n.size===e.length,onChange:()=>n.size===e.length?_():Q(),className:"h-4 w-4 text-blue-600 rounded"})}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Adresse"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code postal"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ville"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tlphone"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((V,K)=>A.jsxs("tr",{className:`${n.has(K)?"bg-blue-50":""} ${V.valid?"":"opacity-50"}`,children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("input",{type:"checkbox",checked:n.has(K),onChange:()=>S(K),className:"h-4 w-4 text-blue-600 rounded"})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:V.nom}),A.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[V.adresse,V.adresse2&&A.jsx("div",{className:"text-xs",children:V.adresse2})]}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.code_postal}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.ville}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.telephone||"-"}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.email||"-"})]},K))})]})})})]})]})})}function PP(){const{data:t}=hc(),{data:e}=FQ(),[r,n]=le.useState([]),[s,i]=le.useState({clientId:"",ville:""});le.useEffect(()=>{if(!e)return;let l=e.filter(c=>c.latitude&&c.longitude);s.clientId&&(l=l.filter(c=>c.client_id===s.clientId)),s.ville&&(l=l.filter(c=>c.ville.toLowerCase().includes(s.ville.toLowerCase()))),n(l)},[e,s]);const o=r.map(l=>({lat:l.latitude,lng:l.longitude,label:`${l.nom} - ${l.ville}`,id:l.id}));return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Carte des sites"}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filtres"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Client"}),A.jsxs("select",{value:s.clientId,onChange:l=>i({...s,clientId:l.target.value}),className:"input",children:[A.jsx("option",{value:"",children:"Tous les clients"}),t==null?void 0:t.map(l=>A.jsx("option",{value:l.id,children:l.nom},l.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Ville"}),A.jsx("input",{type:"text",value:s.ville,onChange:l=>i({...s,ville:l.target.value}),className:"input",placeholder:"Rechercher une ville"})]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("div",{className:"mb-4 flex items-center justify-between",children:A.jsxs("h3",{className:"text-lg font-semibold",children:[r.length," site",r.length!==1?"s":""," trouv",r.length!==1?"s":""]})}),o.length>0?A.jsx(eN,{markers:o,className:"h-[600px]"}):A.jsx("div",{className:"h-96 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500",children:"Aucun site avec coordonnes GPS"})]}),r.length>0&&A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Liste des sites"}),A.jsx("div",{className:"space-y-3",children:r.map(l=>A.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[A.jsx("h4",{className:"font-semibold text-gray-900",children:l.nom}),A.jsxs("p",{className:"text-sm text-gray-600",children:[l.adresse,", ",l.code_postal," ",l.ville]}),l.latitude&&l.longitude&&A.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["GPS: ",l.latitude.toFixed(6),", ",l.longitude.toFixed(6)]})]},l.id))})]})]})}const gs={async getAll(){const{data:t,error:e}=await Ft.from("armoires").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},async getById(t){const{data:e,error:r}=await Ft.from("armoires").select(`
        *,
        site:sites (*),
        releve_etudes (*),
        installations (*),
        verifications (*)
      `).eq("id",t).maybeSingle();if(r)throw r;return e},async getBySiteId(t){const{data:e,error:r}=await Ft.from("armoires").select("*").eq("site_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]},async getBySiteAndName(t,e){const{data:r,error:n}=await Ft.from("armoires").select("*").eq("site_id",t).eq("nom_armoire",e).maybeSingle();if(n)throw n;return r},async create(t){const{data:e,error:r}=await Ft.from("armoires").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:n}=await Ft.from("armoires").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},async delete(t){const{error:e}=await Ft.from("armoires").delete().eq("id",t);if(e)throw e},calculateVolume(t,e,r){if(!(!t||!e||!r))return Number((t*e*r).toFixed(2))}},ms={async getAll(){const{data:t,error:e}=await Ft.from("releve_etudes").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},async getById(t){const{data:e,error:r}=await Ft.from("releve_etudes").select(`
        *,
        armoire:armoires (*),
        releve_systemes (*),
        releve_photos (*)
      `).eq("id",t).maybeSingle();if(r)throw r;return e},async getByArmoireId(t){const{data:e,error:r}=await Ft.from("releve_etudes").select(`
        *,
        armoire:armoires (*),
        releve_systemes (*),
        releve_photos (*)
      `).eq("armoire_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]},async getBySiteId(t){const{data:e,error:r}=await Ft.from("releve_etudes").select(`
        *,
        armoire:armoires!inner (
          *,
          site:sites!inner (*)
        ),
        releve_systemes (*),
        releve_photos (*)
      `).eq("armoire.site_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]},async create(t){const{data:e,error:r}=await Ft.from("releve_etudes").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:n}=await Ft.from("releve_etudes").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},async delete(t){const{error:e}=await Ft.from("releve_etudes").delete().eq("id",t);if(e)throw e},async getBySessionId(t){const{data:e,error:r}=await Ft.from("releve_etudes").select(`
        *,
        armoire:armoires (*),
        releve_systemes (*),
        releve_photos (*)
      `).eq("session_id",t).order("created_at",{ascending:!0});if(r)throw r;return e||[]},async updateSessionStatus(t,e){const{error:r}=await Ft.from("releve_etudes").update({statut:e,updated_at:new Date().toISOString()}).eq("session_id",t);if(r)throw r},async createSessionFromReleves(t){const e=crypto.randomUUID(),{error:r}=await Ft.from("releve_etudes").update({session_id:e,updated_at:new Date().toISOString()}).in("id",t);if(r)throw r;return e}},ta={async create(t){const{data:e,error:r}=await Ft.from("releve_systemes").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:n}=await Ft.from("releve_systemes").update(e).eq("id",t).select().single();if(n)throw n;return r},async delete(t){const{error:e}=await Ft.from("releve_systemes").delete().eq("id",t);if(e)throw e},async getByReleveId(t){const{data:e,error:r}=await Ft.from("releve_systemes").select("*").eq("releve_etude_id",t).order("created_at",{ascending:!0});if(r)throw r;return e||[]}},Io={async create(t){const{data:e,error:r}=await Ft.from("releve_photos").insert(t).select().single();if(r)throw r;return e},async delete(t){const{error:e}=await Ft.from("releve_photos").delete().eq("id",t);if(e)throw e},async getByReleveId(t){const{data:e,error:r}=await Ft.from("releve_photos").select("*").eq("releve_etude_id",t).order("position",{ascending:!0});if(r)throw r;return e||[]}};function Zg({onCapture:t,onCancel:e}){const r=le.useRef(null),n=le.useRef(null),[s,i]=le.useState(null),[o,l]=le.useState(null),[c,h]=le.useState(null),[p,g]=le.useState("environment");le.useEffect(()=>(w(),()=>{y()}),[p]);const w=async()=>{try{h(null);const B=await navigator.mediaDevices.getUserMedia({video:{facingMode:p,width:{ideal:1920},height:{ideal:1080}}});i(B),r.current&&(r.current.srcObject=B)}catch(B){console.error("Erreur lors de l'accs  la camra:",B),h("Impossible d'accder  la camra. Veuillez vrifier les autorisations.")}},y=()=>{s&&(s.getTracks().forEach(B=>B.stop()),i(null))},F=()=>{if(!r.current||!n.current)return;const B=r.current,j=n.current;j.width=B.videoWidth,j.height=B.videoHeight;const T=j.getContext("2d");if(!T)return;T.drawImage(B,0,0);const V=j.toDataURL("image/jpeg",.9);l(V),y()},S=()=>{l(null),w()},Q=()=>{o&&t(o)},_=()=>{l(null),g(B=>B==="user"?"environment":"user")};return A.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",style:{height:"100dvh"},children:[A.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-900 text-white shrink-0",children:[A.jsx("h3",{className:"text-lg font-bold",children:"Prendre une photo"}),A.jsx("button",{onClick:e,className:"text-white hover:text-gray-300 transition-colors","aria-label":"Fermer",children:A.jsx(Xf,{className:"w-6 h-6"})})]}),A.jsxs("div",{className:"flex-1 relative flex items-center justify-center bg-black overflow-hidden",children:[c&&A.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 z-10",children:A.jsxs("div",{className:"bg-red-500 text-white p-4 rounded-lg max-w-md text-center",children:[A.jsx("p",{children:c}),A.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-white text-red-500 rounded-lg font-medium",children:"Fermer"})]})}),!c&&!o&&A.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),o&&A.jsx("img",{src:o,alt:"Photo capture",className:"w-full h-full object-contain"}),A.jsx("canvas",{ref:n,className:"hidden"})]}),A.jsx("div",{className:"p-4 bg-gray-900 shrink-0 safe-area-bottom",children:o?A.jsxs("div",{className:"flex items-center justify-center gap-4 pb-safe max-w-md mx-auto",children:[A.jsxs("button",{onClick:S,className:"flex-1 btn btn-secondary flex items-center justify-center gap-2 active:scale-95",children:[A.jsx(pw,{className:"w-5 h-5"}),"Reprendre"]}),A.jsxs("button",{onClick:Q,className:"flex-1 btn btn-primary flex items-center justify-center gap-2 active:scale-95",children:[A.jsx(lg,{className:"w-5 h-5"}),"Confirmer"]})]}):A.jsxs("div",{className:"flex items-center justify-center gap-4 pb-safe",children:[A.jsx("button",{onClick:_,className:"p-4 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors active:scale-95","aria-label":"Changer de camra",children:A.jsx(pw,{className:"w-6 h-6"})}),A.jsx("button",{onClick:F,disabled:!!c,className:"p-6 bg-white text-gray-900 rounded-full hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 shadow-lg","aria-label":"Prendre une photo",children:A.jsx(Au,{className:"w-8 h-8"})}),A.jsx("div",{className:"w-16"})]})})]})}function uA({value:t,onChange:e,min:r=1,max:n=8,label:s}){const i=Array.from({length:n-r+1},(o,l)=>l+r);return A.jsxs("div",{className:"space-y-2",children:[s&&A.jsx("label",{className:"label",children:s}),A.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(o=>A.jsx("button",{type:"button",onClick:()=>e(o),className:`w-12 h-12 rounded-lg font-semibold transition-all ${t===o?"bg-primary-600 text-white shadow-lg scale-110":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300"}`,children:o},o))})]})}const Zb=["A","B","C","D","E","F","G","1","2","3","4","5","6","7"];function tN({value:t,onChange:e,label:r}){const[n,s]=le.useState(!1),[i,o]=le.useState("");le.useEffect(()=>{t&&!Zb.includes(t)&&(s(!0),o(t))},[t]);const l=p=>{s(!1),o(""),e(p)},c=()=>{s(!0),i&&e(i)},h=p=>{const g=p.target.value;o(g),e(g)};return A.jsxs("div",{className:"space-y-2",children:[r&&A.jsx("label",{className:"label",children:r}),A.jsxs("div",{className:"flex flex-wrap gap-2",children:[Zb.map(p=>A.jsx("button",{type:"button",onClick:()=>l(p),className:`w-12 h-12 rounded-lg font-semibold transition-all ${t===p&&!n?"bg-primary-600 text-white shadow-lg scale-110":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300"}`,children:p},p)),A.jsxs("button",{type:"button",onClick:c,className:`px-4 h-12 rounded-lg font-semibold transition-all flex items-center space-x-2 ${n?"bg-primary-600 text-white shadow-lg scale-110":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300"}`,children:[A.jsx(aQ,{className:"w-4 h-4"}),A.jsx("span",{children:"Clavier"})]})]}),n&&A.jsx("input",{type:"text",value:i,onChange:h,placeholder:"Saisir une zone personnalise",className:"input mt-2",autoFocus:!0})]})}function rN({value:t,onChange:e,onClose:r,label:n}){const[s,i]=le.useState(t),o=le.useRef(null);le.useEffect(()=>{i(t)},[t]);const l=w=>{w===","&&s.includes(",")||i(s+w)},c=()=>{i(s.slice(0,-1))},h=()=>{i("")},p=()=>{e(s),r()},g=["1","2","3","4","5","6","7","8","9",",","0"];return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{ref:o,className:"bg-white rounded-lg shadow-xl p-6 w-80 max-w-full mx-4",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n||"Entrez une valeur"}),A.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:A.jsx(Xf,{className:"w-5 h-5"})})]}),A.jsx("div",{className:"mb-4",children:A.jsx("input",{type:"text",value:s,readOnly:!0,className:"input text-center text-2xl font-semibold",placeholder:"0"})}),A.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:g.map(w=>A.jsx("button",{type:"button",onClick:()=>l(w),className:"bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-gray-900 font-semibold text-xl py-4 rounded-lg transition-colors",children:w},w))}),A.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[A.jsx("button",{type:"button",onClick:c,className:"bg-red-100 hover:bg-red-200 active:bg-red-300 text-red-700 font-semibold py-3 rounded-lg transition-colors",children:"Effacer"}),A.jsx("button",{type:"button",onClick:h,className:"bg-red-100 hover:bg-red-200 active:bg-red-300 text-red-700 font-semibold py-3 rounded-lg transition-colors",children:"Tout effacer"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsx("button",{type:"button",onClick:r,className:"btn-secondary py-3 text-lg font-semibold",children:"Annuler"}),A.jsx("button",{type:"button",onClick:p,className:"btn-primary py-3 text-lg font-semibold",children:"Valider"})]})]})})}function Xb({value:t,onChange:e,label:r,placeholder:n,required:s,className:i=""}){const[o,l]=le.useState(!1);return A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[r&&A.jsx("label",{className:"label",children:r}),A.jsx("input",{type:"text",value:t,onClick:()=>l(!0),readOnly:!0,placeholder:n,required:s,className:`input cursor-pointer ${i}`})]}),o&&A.jsx(rN,{value:t,onChange:e,onClose:()=>l(!1),label:r})]})}const Yb=["0.10","0.20","0.30","0.40","0.50","0.60"];function TP({value:t,onChange:e,label:r}){const[n,s]=le.useState(!1),[i,o]=le.useState(!Yb.includes(t)&&t!==""),l=g=>{o(!1),e(g)},c=()=>{o(!0),s(!0)},h=g=>{e(g)},p=()=>{s(!1)};return A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[r&&A.jsx("label",{className:"label",children:r}),A.jsx("div",{className:"grid grid-cols-4 gap-2 mb-2",children:Yb.map(g=>A.jsx("button",{type:"button",onClick:()=>l(g),className:`px-3 py-2 rounded-lg border-2 transition-all ${t===g&&!i?"bg-primary-600 text-white border-primary-600":"bg-white text-gray-700 border-gray-300 hover:border-primary-400"}`,children:g},g))}),A.jsx("button",{type:"button",onClick:c,className:`w-full px-3 py-2 rounded-lg border-2 transition-all ${i?"bg-primary-600 text-white border-primary-600":"bg-white text-gray-700 border-gray-300 hover:border-primary-400"}`,children:i&&t?`Personnalis: ${t}`:"Saisir manuellement"})]}),n&&A.jsx(rN,{value:t,onChange:h,onClose:p,label:r})]})}const e_=[{value:"RV0.5m3",label:"0.5"},{value:"RV1m3",label:"1"},{value:"RV1.5m3",label:"1.5"},{value:"RV2m3",label:"2"},{value:"RV2.5m3",label:"2.5"},{value:"RV3m3",label:"3"}],OP=["40","57","68","79","93"];function t_(){var At;const{releveId:t}=fu(),e=Us(),{data:r}=hc(),[n,s]=le.useState(""),[i,o]=le.useState(""),[l,c]=le.useState([]),[h,p]=le.useState(!1),[g,w]=le.useState(!1),[y,F]=le.useState(null),[S,Q]=le.useState(!1),[_,B]=le.useState(null),[j,T]=le.useState([]),[V,K]=le.useState([]),[G,M]=le.useState(!1),[Z,oe]=le.useState(""),[D,R]=le.useState(!1),[re,ae]=le.useState(!1),[Se,ve]=le.useState(null),[Ue,H]=le.useState(!1),[ue,ee]=le.useState(null),me=le.useRef([]),P=r==null?void 0:r.find(Ee=>Ee.id===n),$=(P==null?void 0:P.sites)||[],se=(P==null?void 0:P.multi_site)??!1,ce=se?i:((At=$[0])==null?void 0:At.id)||"",fe=n&&ce;le.useEffect(()=>{(async()=>{var Ie,We,rt,lt,Jt;if(t){Q(!0);try{const Zt=await ms.getById(t);if(!Zt){e("/releves-liste");return}const ht=await gs.getById(Zt.armoire_id);if(!ht){e("/releves-liste");return}B(ht.id);const kt=await ta.getByReleveId(t),ut=await Io.getByReleveId(t);T(ut),R(Zt.statut==="complete");const wr={nom_armoire:ht.nom_armoire,zone:ht.zone||"",hauteur:((Ie=ht.hauteur)==null?void 0:Ie.toString())||"",longueur:((We=ht.longueur)==null?void 0:We.toString())||"",profondeur:((rt=ht.profondeur)==null?void 0:rt.toString())||"",nb_cellules:((lt=ht.nb_cellules)==null?void 0:lt.toString())||"",ventilation:ht.ventilation||!1,nb_ventilations:((Jt=ht.nb_ventilations)==null?void 0:Jt.toString())||"",arrivee_cables:ht.arrivee_cables||"Haut",systemes:kt.map(Pt=>({modele:Pt.modele,quantite:Pt.quantite,tube:Pt.tube,pressostat:Pt.pressostat,pressostat_type:Pt.pressostat_type||"NO/NF",pressostat_quantite:Pt.pressostat_quantite||1,tete_sprinkler:Pt.tete_sprinkler,tete_sprinkler_quantite:Pt.tete_sprinkler_quantite||1,tete_sprinkler_temperature:Pt.tete_sprinkler_temperature||"68",sirene_flash:Pt.sirene_flash,sirene_flash_quantite:Pt.sirene_flash_quantite||1})),photos:[],expanded:!0};if(c([wr]),ht.site_id&&r){const Pt=r.find(Or=>{var Ut;return(Ut=Or.sites)==null?void 0:Ut.some(_t=>_t.id===ht.site_id)});Pt&&(s(Pt.id),Pt.multi_site&&o(ht.site_id))}}catch(Zt){console.error("Erreur lors du chargement du relev:",Zt),alert("Erreur lors du chargement du relev")}finally{Q(!1)}}})()},[t,r,e]),le.useEffect(()=>{(async()=>{if(!(!ce||t)){M(!0);try{const Ie=await ms.getBySiteId(ce),We=await Promise.all(Ie.map(async rt=>{const lt=await ta.getByReleveId(rt.id),Zt=(await Io.getByReleveId(rt.id)).sort((ht,kt)=>ht.position-kt.position)[0];return{...rt,systemes:lt,firstPhoto:Zt}}));K(We)}catch(Ie){console.error("Erreur lors du chargement des relevs:",Ie)}finally{M(!1)}}})()},[ce,t]);const Te=async Ee=>{var Ie,We,rt,lt,Jt;if(!Ee){oe(""),c([]),B(null),T([]),R(!1),ae(!1);return}Q(!0),ae(!1);try{const Zt=await ms.getById(Ee);if(!Zt)return;const ht=await gs.getById(Zt.armoire_id);if(!ht)return;B(ht.id),oe(Ee);const kt=await ta.getByReleveId(Ee),ut=await Io.getByReleveId(Ee);T(ut),R(Zt.statut==="complete");const wr={nom_armoire:ht.nom_armoire,zone:ht.zone||"",hauteur:((Ie=ht.hauteur)==null?void 0:Ie.toString())||"",longueur:((We=ht.longueur)==null?void 0:We.toString())||"",profondeur:((rt=ht.profondeur)==null?void 0:rt.toString())||"",nb_cellules:((lt=ht.nb_cellules)==null?void 0:lt.toString())||"",ventilation:ht.ventilation||!1,nb_ventilations:((Jt=ht.nb_ventilations)==null?void 0:Jt.toString())||"",arrivee_cables:ht.arrivee_cables||"Haut",systemes:kt.map(Pt=>({modele:Pt.modele,quantite:Pt.quantite,tube:Pt.tube,pressostat:Pt.pressostat,pressostat_type:Pt.pressostat_type||"NO/NF",pressostat_quantite:Pt.pressostat_quantite||1,tete_sprinkler:Pt.tete_sprinkler,tete_sprinkler_quantite:Pt.tete_sprinkler_quantite||1,tete_sprinkler_temperature:Pt.tete_sprinkler_temperature||"68",sirene_flash:Pt.sirene_flash,sirene_flash_quantite:Pt.sirene_flash_quantite||1})),photos:[],expanded:!0};c([wr])}catch(Zt){console.error("Erreur lors du chargement du relev:",Zt),alert("Erreur lors du chargement du relev")}finally{Q(!1)}},ze=(Ee,Ie,We)=>{if(!Ee||!Ie||!We)return"";const rt=parseFloat(Ee),lt=parseFloat(Ie),Jt=parseFloat(We);return isNaN(rt)||isNaN(lt)||isNaN(Jt)?"":(rt*lt*Jt).toFixed(2)},_e=()=>{const Ee=l.map(Ie=>({...Ie,expanded:!1}));c([...Ee,{nom_armoire:"",zone:"",hauteur:"",longueur:"",profondeur:"",nb_cellules:"",ventilation:!1,nb_ventilations:"",arrivee_cables:"Haut",systemes:[{modele:"RV1m3",quantite:1,tube:!1,pressostat:!1,pressostat_type:"NO/NF",pressostat_quantite:1,tete_sprinkler:!1,tete_sprinkler_quantite:1,tete_sprinkler_temperature:"68",sirene_flash:!1,sirene_flash_quantite:1}],photos:[],expanded:!0}]),setTimeout(()=>{var We,rt;const Ie=Ee.length;me.current[Ie]&&((We=me.current[Ie])==null||We.scrollIntoView({behavior:"smooth",block:"center"}),(rt=me.current[Ie])==null||rt.focus())},150)},wt=Ee=>{c(l.filter((Ie,We)=>We!==Ee))},Ke=(Ee,Ie,We)=>{const rt=[...l];rt[Ee]={...rt[Ee],[Ie]:We},c(rt)},we=Ee=>{const Ie=[...l];Ie[Ee].expanded=!Ie[Ee].expanded,c(Ie)},Ye=(Ee,Ie)=>{const We=[...l];We[Ee].systemes=We[Ee].systemes.filter((rt,lt)=>lt!==Ie),c(We)},et=(Ee,Ie,We,rt)=>{const lt=[...l];lt[Ee].systemes[Ie]={...lt[Ee].systemes[Ie],[We]:rt},c(lt)},pe=(Ee,Ie)=>{if(Ie.target.files){const We=l[Ee].photos,rt=Array.from(Ie.target.files).slice(0,5-We.length),lt=[...l];lt[Ee].photos=[...We,...rt],c(lt)}},ne=(Ee,Ie)=>{const We=[...l];We[Ee].photos=We[Ee].photos.filter((rt,lt)=>lt!==Ie),c(We)},it=Ee=>{F(Ee),w(!0)},Xe=Ee=>{y!==null&&fetch(Ee).then(Ie=>Ie.blob()).then(Ie=>{const We=new File([Ie],`photo-${Date.now()}.jpg`,{type:"image/jpeg"}),rt=[...l];rt[y].photos=[...rt[y].photos,We],c(rt),w(!1),F(null)}).catch(Ie=>{console.error("Erreur lors de la conversion de la photo:",Ie),alert("Erreur lors de la sauvegarde de la photo"),w(!1),F(null)})},Ze=()=>{w(!1),F(null)},ot=async Ee=>{if(Ee.preventDefault(),!ce){alert("Veuillez slectionner un site");return}if(l.length===0){alert("Veuillez ajouter au moins une armoire");return}for(const Ie of l)if(!Ie.nom_armoire){alert("Veuillez renseigner le nom de toutes les armoires");return}try{p(!0);const Ie=t||Z;if(Ie&&_){const We=l[0],rt={nom_armoire:We.nom_armoire,zone:We.zone||void 0,hauteur:We.hauteur?Number(We.hauteur):void 0,longueur:We.longueur?Number(We.longueur):void 0,profondeur:We.profondeur?Number(We.profondeur):void 0,volume:void 0,nb_cellules:We.nb_cellules?Number(We.nb_cellules):void 0,ventilation:We.ventilation,nb_ventilations:We.nb_ventilations?Number(We.nb_ventilations):void 0,arrivee_cables:We.arrivee_cables};await gs.update(_,rt),await ms.update(Ie,{statut:D?"complete":"brouillon"});const lt=await ta.getByReleveId(Ie);for(const ht of lt)await ta.delete(ht.id);for(const ht of We.systemes)await ta.create({releve_etude_id:Ie,modele:ht.modele,quantite:ht.quantite,tube:ht.tube,pressostat:ht.pressostat,pressostat_type:ht.pressostat?ht.pressostat_type:void 0,pressostat_quantite:ht.pressostat?ht.pressostat_quantite:void 0,tete_sprinkler:ht.tete_sprinkler,tete_sprinkler_quantite:ht.tete_sprinkler_quantite,tete_sprinkler_temperature:ht.tete_sprinkler?ht.tete_sprinkler_temperature:void 0,sirene_flash:ht.sirene_flash,sirene_flash_quantite:ht.sirene_flash?ht.sirene_flash_quantite:void 0});if(We.photos.length>0){const ht=j.length;for(let kt=0;kt<We.photos.length;kt++){const ut=await WA(We.photos[kt],"releve-photos");ut&&await Io.create({releve_etude_id:Ie,url_photo:ut,position:ht+kt+1})}}for(let ht=1;ht<l.length;ht++){const kt=l[ht],ut={site_id:ce,nom_armoire:kt.nom_armoire,zone:kt.zone||void 0,hauteur:kt.hauteur?Number(kt.hauteur):void 0,longueur:kt.longueur?Number(kt.longueur):void 0,profondeur:kt.profondeur?Number(kt.profondeur):void 0,volume:void 0,nb_cellules:kt.nb_cellules?Number(kt.nb_cellules):void 0,ventilation:kt.ventilation,nb_ventilations:kt.nb_ventilations?Number(kt.nb_ventilations):void 0,arrivee_cables:kt.arrivee_cables},Pt={armoire_id:(await gs.create(ut)).id,date_releve:new Date().toISOString().split("T")[0],statut:"brouillon"},Or=await ms.create(Pt);for(const Ut of kt.systemes)await ta.create({releve_etude_id:Or.id,modele:Ut.modele,quantite:Ut.quantite,tube:Ut.tube,pressostat:Ut.pressostat,pressostat_type:Ut.pressostat?Ut.pressostat_type:void 0,pressostat_quantite:Ut.pressostat?Ut.pressostat_quantite:void 0,tete_sprinkler:Ut.tete_sprinkler,tete_sprinkler_quantite:Ut.tete_sprinkler_quantite,tete_sprinkler_temperature:Ut.tete_sprinkler?Ut.tete_sprinkler_temperature:void 0,sirene_flash:Ut.sirene_flash,sirene_flash_quantite:Ut.sirene_flash?Ut.sirene_flash_quantite:void 0});for(let Ut=0;Ut<kt.photos.length;Ut++){const _t=await WA(kt.photos[Ut],"releve-photos");_t&&await Io.create({releve_etude_id:Or.id,url_photo:_t,position:Ut+1})}}const Jt=l.length,Zt=Jt>1?`Relev modifi et ${Jt-1} nouvelle(s) armoire(s) ajoute(s) avec succs !`:"Relev modifi avec succs !";if(alert(Zt),D&&l.length===1)e(`/releves/${Ie}/signature`);else{oe(""),c([]),B(null),T([]),R(!1);const ht=await ms.getBySiteId(ce),kt=await Promise.all(ht.map(async ut=>{const wr=await ta.getByReleveId(ut.id),Or=(await Io.getByReleveId(ut.id)).sort((Ut,_t)=>Ut.position-_t.position)[0];return{...ut,systemes:wr,firstPhoto:Or}}));K(kt)}}else{const We=crypto.randomUUID(),rt=new Date().toISOString().split("T")[0];for(const lt of l){const Jt={site_id:ce,nom_armoire:lt.nom_armoire,zone:lt.zone||void 0,hauteur:lt.hauteur?Number(lt.hauteur):void 0,longueur:lt.longueur?Number(lt.longueur):void 0,profondeur:lt.profondeur?Number(lt.profondeur):void 0,volume:void 0,nb_cellules:lt.nb_cellules?Number(lt.nb_cellules):void 0,ventilation:lt.ventilation,nb_ventilations:lt.nb_ventilations?Number(lt.nb_ventilations):void 0,arrivee_cables:lt.arrivee_cables},ht={armoire_id:(await gs.create(Jt)).id,session_id:l.length>1?We:void 0,date_releve:rt,statut:D?"complete":"brouillon"},kt=await ms.create(ht);for(const ut of lt.systemes)await ta.create({releve_etude_id:kt.id,modele:ut.modele,quantite:ut.quantite,tube:ut.tube,pressostat:ut.pressostat,pressostat_type:ut.pressostat?ut.pressostat_type:void 0,pressostat_quantite:ut.pressostat?ut.pressostat_quantite:void 0,tete_sprinkler:ut.tete_sprinkler,tete_sprinkler_quantite:ut.tete_sprinkler_quantite,tete_sprinkler_temperature:ut.tete_sprinkler?ut.tete_sprinkler_temperature:void 0,sirene_flash:ut.sirene_flash,sirene_flash_quantite:ut.sirene_flash?ut.sirene_flash_quantite:void 0});for(let ut=0;ut<lt.photos.length;ut++){const wr=await WA(lt.photos[ut],"releve-photos");wr&&await Io.create({releve_etude_id:kt.id,url_photo:wr,position:ut+1})}}alert(`${l.length} relev(s) enregistr(s) avec succs !`),D&&l.length>1?e(`/releves/session/${We}/signature`):(c([]),s(""),o(""))}}catch(Ie){console.error("Erreur lors de la sauvegarde:",Ie),alert("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{p(!1)}};return S?A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:A.jsx("div",{className:"text-xl",children:"Chargement..."})}):A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:t?"Modifier le Relev":"Relev - tude"}),A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold",children:"Slection"}),fe&&!t&&V.length>0&&!re&&A.jsxs("button",{type:"button",onClick:()=>{oe(""),c([]),ae(!0)},className:"btn-primary flex items-center space-x-2",children:[A.jsx(so,{className:"w-4 h-4"}),A.jsx("span",{children:"Nouveau relev"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Client"}),A.jsxs("select",{value:n,onChange:Ee=>{s(Ee.target.value),o(""),oe(""),c([]),K([]),ae(!1)},className:"input",disabled:!!t||!!Z,required:!0,children:[A.jsx("option",{value:"",children:"Slectionner un client"}),r==null?void 0:r.map(Ee=>A.jsx("option",{value:Ee.id,children:Ee.nom},Ee.id))]})]}),se&&A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Site"}),A.jsxs("select",{value:i,onChange:Ee=>{o(Ee.target.value),oe(""),c([]),K([]),ae(!1)},className:"input",disabled:!n||!!t||!!Z,required:!0,children:[A.jsx("option",{value:"",children:"Slectionner un site"}),$.map(Ee=>A.jsx("option",{value:Ee.id,children:Ee.nom},Ee.id))]})]})]})]}),fe&&(Z||!V.length||t||re)&&A.jsxs("form",{onSubmit:ot,className:"space-y-6",children:[A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold",children:t||Z?"Armoire":"Nouveau relev"}),!t&&!Z&&A.jsxs("button",{type:"button",onClick:_e,className:"btn-secondary flex items-center space-x-1 text-sm",children:[A.jsx(so,{className:"w-4 h-4"}),A.jsx("span",{children:"Ajouter une armoire"})]})]}),l.length===0&&A.jsx("div",{className:"text-center py-8 text-gray-500",children:'Aucune armoire ajoute. Cliquez sur "Ajouter une armoire" pour commencer.'}),A.jsx("div",{className:"space-y-4",children:l.map((Ee,Ie)=>A.jsxs("div",{className:"border rounded-lg bg-white",children:[A.jsxs("div",{className:"p-4 bg-gray-50 border-b flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{type:"button",onClick:()=>we(Ie),className:"text-gray-600 hover:text-gray-900",children:Ee.expanded?A.jsx(Mh,{className:"w-5 h-5"}):A.jsx(Dh,{className:"w-5 h-5"})}),A.jsx("h4",{className:"font-medium text-gray-900",children:Ee.nom_armoire||`Armoire ${Ie+1}`})]}),!t&&!Z&&A.jsx("button",{type:"button",onClick:()=>wt(Ie),className:"text-red-600 hover:text-red-800",children:A.jsx(VA,{className:"w-4 h-4"})})]}),Ee.expanded&&A.jsxs("div",{className:"p-4 space-y-6",children:[A.jsxs("div",{children:[A.jsx("h5",{className:"font-medium text-gray-700 mb-3",children:"Informations Armoire"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Nom armoire *"}),A.jsx("input",{type:"text",ref:We=>{me.current[Ie]=We},value:Ee.nom_armoire,onChange:We=>Ke(Ie,"nom_armoire",We.target.value),className:"input",required:!0})]}),A.jsx("div",{children:A.jsx(tN,{value:Ee.zone,onChange:We=>Ke(Ie,"zone",We),label:"Zone"})}),A.jsx(Xb,{label:"Hauteur (m)",value:Ee.hauteur,onChange:We=>Ke(Ie,"hauteur",We)}),A.jsx(Xb,{label:"Longueur (m)",value:Ee.longueur,onChange:We=>Ke(Ie,"longueur",We)}),A.jsx(TP,{label:"Profondeur (m)",value:Ee.profondeur,onChange:We=>Ke(Ie,"profondeur",We)}),A.jsx("div",{children:A.jsx(uA,{value:Ee.nb_cellules?Number(Ee.nb_cellules):1,onChange:We=>Ke(Ie,"nb_cellules",We.toString()),label:"Nb de cellules",min:1,max:8})}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Arrive cbles"}),A.jsxs("select",{value:Ee.arrivee_cables,onChange:We=>Ke(Ie,"arrivee_cables",We.target.value),className:"input",children:[A.jsx("option",{value:"Haut",children:"Haut"}),A.jsx("option",{value:"Bas",children:"Bas"})]})]}),A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:`ventilation-${Ie}`,checked:Ee.ventilation,onChange:We=>Ke(Ie,"ventilation",We.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),A.jsx("label",{htmlFor:`ventilation-${Ie}`,className:"ml-2 text-sm font-medium",children:"Ventilation"})]}),A.jsx("div",{children:A.jsx(uA,{value:Ee.nb_ventilations?Number(Ee.nb_ventilations):1,onChange:We=>Ke(Ie,"nb_ventilations",We.toString()),label:"Nb de ventilations",min:1,max:8})})]}),Ee.hauteur&&Ee.longueur&&Ee.profondeur&&A.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Volume calcul"}),A.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[ze(Ee.hauteur,Ee.longueur,Ee.profondeur)," m"]})]}),A.jsxs("button",{type:"button",onClick:()=>{ee(Ie),H(!0)},className:"btn-secondary flex items-center space-x-2",children:[A.jsx(Rb,{className:"w-5 h-5"}),A.jsx("span",{children:"Prconisations"})]})]})})]}),A.jsxs("div",{className:"border-t pt-4",children:[A.jsx("div",{className:"mb-3",children:A.jsx("h5",{className:"font-medium text-gray-700",children:"Choix Systme"})}),A.jsxs("div",{className:"space-y-3",children:[Ee.systemes.map((We,rt)=>A.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 space-y-4",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("h6",{className:"font-medium text-gray-900",children:["Systme ",rt+1]}),A.jsx("button",{type:"button",onClick:()=>Ye(Ie,rt),className:"text-red-600 hover:text-red-800",children:A.jsx(VA,{className:"w-4 h-4"})})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Modle (m)"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:e_.map(lt=>A.jsx("button",{type:"button",onClick:()=>et(Ie,rt,"modele",lt.value),className:`px-4 py-2 rounded-lg font-medium transition-colors ${We.modele===lt.value?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:lt.label},lt.value))})]}),A.jsx("div",{children:A.jsx(uA,{value:We.quantite,onChange:lt=>et(Ie,rt,"quantite",lt),label:"Quantit",min:1,max:8})})]}),A.jsxs("div",{className:"border-t pt-3 space-y-3",children:[A.jsx("h6",{className:"text-sm font-medium text-gray-700",children:"Produits supplmentaires"}),A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:`tube-${Ie}-${rt}`,checked:We.tube,onChange:lt=>et(Ie,rt,"tube",lt.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),A.jsx("label",{htmlFor:`tube-${Ie}-${rt}`,className:"ml-2 text-sm font-medium",children:"Tube"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:`pressostat-${Ie}-${rt}`,checked:We.pressostat,onChange:lt=>et(Ie,rt,"pressostat",lt.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),A.jsx("label",{htmlFor:`pressostat-${Ie}-${rt}`,className:"ml-2 text-sm font-medium",children:"Pressostat NO/NF"})]}),We.pressostat&&A.jsxs("div",{className:"ml-6 space-y-2",children:[A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{type:"button",onClick:()=>et(Ie,rt,"pressostat_type","NO"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${We.pressostat_type==="NO"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:"NO"}),A.jsx("button",{type:"button",onClick:()=>et(Ie,rt,"pressostat_type","NO/NF"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${We.pressostat_type==="NO/NF"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:"NO/NF"})]}),A.jsx(uA,{value:We.pressostat_quantite,onChange:lt=>et(Ie,rt,"pressostat_quantite",lt),label:"Quantit",min:1,max:8})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:`tete-sprinkler-${Ie}-${rt}`,checked:We.tete_sprinkler,onChange:lt=>et(Ie,rt,"tete_sprinkler",lt.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),A.jsx("label",{htmlFor:`tete-sprinkler-${Ie}-${rt}`,className:"ml-2 text-sm font-medium",children:"Tte sprinkler"})]}),We.tete_sprinkler&&A.jsxs("div",{className:"ml-6 space-y-2",children:[A.jsx("div",{children:A.jsx(uA,{value:We.tete_sprinkler_quantite,onChange:lt=>et(Ie,rt,"tete_sprinkler_quantite",lt),label:"Quantit",min:1,max:8})}),A.jsxs("div",{children:[A.jsx("label",{className:"label text-sm",children:"Temprature (C)"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:OP.map(lt=>A.jsx("button",{type:"button",onClick:()=>et(Ie,rt,"tete_sprinkler_temperature",lt),className:`px-3 py-1 rounded-lg font-medium transition-colors ${We.tete_sprinkler_temperature===lt?lt==="68"?"bg-blue-600 text-white":"bg-primary-600 text-white":lt==="68"?"bg-blue-100 text-blue-900 hover:bg-blue-200 border border-blue-300":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:lt},lt))})]})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:`sirene-flash-${Ie}-${rt}`,checked:We.sirene_flash,onChange:lt=>et(Ie,rt,"sirene_flash",lt.target.checked),className:"w-4 h-4 text-primary-600 rounded"}),A.jsx("label",{htmlFor:`sirene-flash-${Ie}-${rt}`,className:"ml-2 text-sm font-medium",children:"Sirne flash"})]}),We.sirene_flash&&A.jsx("div",{className:"ml-6",children:A.jsx(uA,{value:We.sirene_flash_quantite,onChange:lt=>et(Ie,rt,"sirene_flash_quantite",lt),label:"Quantit",min:1,max:8})})]})]})]},rt)),Ee.systemes.length===0&&A.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:'Aucun systme ajout. Cliquez sur "Ajouter" pour commencer.'})]})]}),A.jsxs("div",{className:"border-t pt-4",children:[A.jsx("h5",{className:"font-medium text-gray-700 mb-3",children:"Photos (max 5)"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("button",{type:"button",onClick:()=>it(Ie),disabled:Ee.photos.length>=5,className:"btn btn-secondary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[A.jsx(Au,{className:"w-5 h-5"}),"Prendre une photo"]}),A.jsx("div",{className:"flex-1",children:A.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:We=>pe(Ie,We),className:"input",disabled:Ee.photos.length>=5})})]}),Ee.photos.length>0&&A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Ee.photos.map((We,rt)=>A.jsxs("div",{className:"relative bg-gray-100 rounded-lg border-2 border-gray-200 flex items-center justify-center",style:{aspectRatio:"3/4"},children:[A.jsx("img",{src:URL.createObjectURL(We),alt:`Photo ${rt+1}`,className:"w-full h-full object-contain rounded-lg"}),A.jsx("button",{type:"button",onClick:()=>ne(Ie,rt),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1",children:A.jsx(VA,{className:"w-4 h-4"})})]},rt))})]})]}),j.length>0&&Ie===0&&A.jsxs("div",{className:"border-t pt-4",children:[A.jsx("h5",{className:"font-medium text-gray-700 mb-3",children:"Photos existantes"}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:j.map(We=>A.jsx("div",{className:"relative bg-gray-100 rounded-lg border-2 border-gray-200 flex items-center justify-center",style:{aspectRatio:"3/4"},children:A.jsx("img",{src:We.url_photo,alt:`Photo ${We.position}`,className:"w-full h-full object-contain rounded-lg"})},We.id))})]}),(t||Z)&&A.jsx("div",{className:"border-t pt-4",children:A.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[A.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Actions"}),A.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:A.jsxs("button",{type:"button",onClick:_e,className:"btn-secondary flex items-center justify-center space-x-2",children:[A.jsx(so,{className:"w-5 h-5"}),A.jsx("span",{children:"Ajouter une autre armoire"})]})}),A.jsx("p",{className:"text-sm text-gray-600 mt-3",children:'Vous pouvez ajouter une autre armoire pour ce site ou valider les relevs en cliquant sur "Sauvegarder" en bas de page.'})]})})]})]},Ie))})]}),l.length>0&&(t||Z)&&A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("input",{type:"checkbox",id:"pret-a-signer",checked:D,onChange:Ee=>R(Ee.target.checked),className:"w-5 h-5 text-primary-600 rounded"}),A.jsx("label",{htmlFor:"pret-a-signer",className:"text-lg font-medium cursor-pointer",children:"Marquer comme prt  signer"})]}),A.jsx("p",{className:"text-sm text-gray-600 mt-2 ml-8",children:"Cochez cette case pour rendre le relev disponible dans la liste des relevs  signer."})]}),l.length>0&&A.jsxs("div",{className:"flex space-x-4",children:[A.jsxs("button",{type:"submit",className:"btn-primary flex items-center space-x-2",disabled:h,children:[A.jsx(lx,{className:"w-5 h-5"}),A.jsx("span",{children:h?"Enregistrement...":t||Z?l.length>1?`Sauvegarder (${l.length} armoire(s))`:"Modifier le relev":`Sauvegarder ${l.length} armoire(s)`})]}),!t&&!Z&&A.jsxs("button",{type:"button",onClick:_e,className:"btn-secondary flex items-center space-x-2",children:[A.jsx(so,{className:"w-5 h-5"}),A.jsx("span",{children:"Ajouter une armoire"})]})]})]}),fe&&!t&&A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold",children:"Relevs existants"}),G&&A.jsx("span",{className:"text-sm text-gray-500",children:"Chargement..."})]}),V.length>0?A.jsx("div",{className:"space-y-4",children:(()=>{const Ee=V.reduce((Ie,We)=>{const rt=hg(We.date_releve);return Ie[rt]||(Ie[rt]=[]),Ie[rt].push(We),Ie},{});return Object.entries(Ee).map(([Ie,We])=>A.jsxs("div",{className:"border rounded-lg bg-white",children:[A.jsxs("button",{onClick:()=>ve(Se===Ie?null:Ie),className:"w-full flex items-center justify-between text-left hover:bg-gray-50 transition-colors p-4 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(mh,{className:"w-6 h-6 text-primary-600"}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Relev du ",Ie]}),A.jsxs("p",{className:"text-sm text-gray-600",children:[We.length," armoire",We.length>1?"s":""]})]})]}),Se===Ie?A.jsx(Mh,{className:"w-6 h-6 text-gray-400"}):A.jsx(Dh,{className:"w-6 h-6 text-gray-400"})]}),Se===Ie&&A.jsx("div",{className:"px-4 pb-4 space-y-3 border-t pt-4",children:We.map(rt=>{var Zt,ht,kt,ut,wr,Pt,Or,Ut,_t,Kr;const lt=(Zt=rt.armoire)!=null&&Zt.hauteur&&((ht=rt.armoire)!=null&&ht.longueur)&&((kt=rt.armoire)!=null&&kt.profondeur)?(rt.armoire.hauteur*rt.armoire.longueur*rt.armoire.profondeur).toFixed(2):((wr=(ut=rt.armoire)==null?void 0:ut.volume)==null?void 0:wr.toString())||"-",Jt=rt.systemes.length>0?rt.systemes.map(rr=>{var xt;return`${((xt=e_.find(cs=>cs.value===rr.modele))==null?void 0:xt.label)||rr.modele}m (x${rr.quantite})`}).join(", "):"Aucun systme";return A.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${Z===rt.id?"bg-blue-50 border-blue-500 shadow-md":"bg-white hover:bg-gray-50 border-gray-300 hover:shadow-md"}`,onClick:()=>Te(rt.id),children:A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"flex-shrink-0 w-20 h-20",children:rt.firstPhoto?A.jsx("img",{src:rt.firstPhoto.url_photo,alt:"Photo armoire",crossOrigin:"anonymous",className:"w-full h-full object-cover rounded-lg border-2 border-gray-200",onError:rr=>{const ls=rr.target;ls.style.display="none"}}):A.jsx("div",{className:"w-full h-full bg-gray-100 rounded-lg border-2 border-gray-200 flex items-center justify-center",children:A.jsx($g,{className:"w-8 h-8 text-gray-400"})})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("h4",{className:"font-bold text-gray-900 text-lg mb-1",children:[((Pt=rt.armoire)==null?void 0:Pt.nom_armoire)||"Armoire sans nom",((Or=rt.armoire)==null?void 0:Or.zone)&&A.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-600",children:["(Zone: ",rt.armoire.zone,")"]})]}),A.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm",children:[A.jsxs("span",{className:"font-medium text-gray-700",children:["L: ",((Ut=rt.armoire)==null?void 0:Ut.longueur)||"-","m"]}),A.jsxs("span",{className:"font-medium text-gray-700",children:["H: ",((_t=rt.armoire)==null?void 0:_t.hauteur)||"-","m"]}),A.jsxs("span",{className:"font-medium text-gray-700",children:["P: ",((Kr=rt.armoire)==null?void 0:Kr.profondeur)||"-","m"]}),A.jsxs("span",{className:"font-bold text-primary-600",children:["V: ",lt,"m"]})]}),A.jsxs("div",{className:"mt-1 text-sm text-gray-700",children:[A.jsx("span",{className:"font-medium",children:"Systme:"})," ",A.jsx("span",{className:"text-blue-700",children:Jt})]}),A.jsxs("div",{className:"mt-2",children:[rt.statut==="brouillon"&&A.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:"Brouillon"}),rt.statut==="complete"&&A.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700",children:"En cours"})]})]}),Z===rt.id&&A.jsx("div",{className:"flex-shrink-0",children:A.jsx("div",{className:"text-blue-600 font-bold",children:"Slectionn"})})]})},rt.id)})})]},Ie))})()}):A.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aucun relev existant pour ce site."})]}),g&&A.jsx(Zg,{onCapture:Xe,onCancel:Ze}),Ue&&ue!==null&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:A.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:A.jsxs("div",{className:"p-6",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx(Rb,{className:"w-6 h-6 text-primary-600"}),A.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Prconisations Systme"})]}),A.jsx("button",{onClick:()=>{H(!1),ee(null)},className:"text-gray-400 hover:text-gray-600",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[A.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Informations de l'armoire"}),(()=>{const Ee=l[ue],Ie=ze(Ee.hauteur,Ee.longueur,Ee.profondeur);return A.jsxs("div",{className:"space-y-2 text-sm",children:[A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:"Nom:"})," ",Ee.nom_armoire]}),A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:"Dimensions:"})," L:",Ee.longueur,"m  H:",Ee.hauteur,"m  P:",Ee.profondeur,"m"]}),A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:"Volume:"})," ",Ie," m"]}),A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:"Cellules:"})," ",Ee.nb_cellules||"Non dfini"]}),A.jsxs("p",{children:[A.jsx("span",{className:"font-medium",children:"Ventilation:"})," ",Ee.ventilation?`Oui (${Ee.nb_ventilations||1})`:"Non"]})]})})()]}),A.jsx("div",{className:"border-t pt-4",children:A.jsxs("p",{className:"text-gray-600 text-center py-8",children:["Les prconisations seront calcules automatiquement en fonction des paramtres de l'armoire.",A.jsx("br",{}),A.jsx("span",{className:"text-sm text-gray-500",children:"(Fonctionnalit en cours de dveloppement)"})]})})]}),A.jsx("div",{className:"mt-6 flex justify-end",children:A.jsx("button",{onClick:()=>{H(!1),ee(null)},className:"btn-primary",children:"Fermer"})})]})})})]})}const Fa={async getAll(){const{data:t,error:e}=await Ft.from("installations").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},async getById(t){const{data:e,error:r}=await Ft.from("installations").select(`
        *,
        armoire:armoires (*),
        installation_systemes (*),
        installation_photos (*)
      `).eq("id",t).maybeSingle();if(r)throw r;return e},async getByArmoireId(t){const{data:e,error:r}=await Ft.from("installations").select("*").eq("armoire_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]},async getByReleveId(t){const{data:e,error:r}=await Ft.from("installations").select("*").eq("releve_etude_id",t).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(r)throw r;return e},async create(t){const{data:e,error:r}=await Ft.from("installations").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:n}=await Ft.from("installations").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},async delete(t){const{error:e}=await Ft.from("installations").delete().eq("id",t);if(e)throw e}},Jd={async create(t){const{data:e,error:r}=await Ft.from("installation_systemes").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:n}=await Ft.from("installation_systemes").update(e).eq("id",t).select().single();if(n)throw n;return r},async delete(t){const{error:e}=await Ft.from("installation_systemes").delete().eq("id",t);if(e)throw e},async getByInstallationId(t){const{data:e,error:r}=await Ft.from("installation_systemes").select("*").eq("installation_id",t).order("created_at",{ascending:!0});if(r)throw r;return e||[]}},vh={async create(t){const{data:e,error:r}=await Ft.from("installation_photos").insert(t).select().single();if(r)throw r;return e},async delete(t){const{error:e}=await Ft.from("installation_photos").delete().eq("id",t);if(e)throw e},async getByInstallationId(t){const{data:e,error:r}=await Ft.from("installation_photos").select("*").eq("installation_id",t).order("position",{ascending:!0});if(r)throw r;return e||[]}},Hh={async getAll(){const{data:t,error:e}=await Ft.from("verifications").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},async getById(t){const{data:e,error:r}=await Ft.from("verifications").select(`
        *,
        armoire:armoires (*),
        verification_systemes (*),
        verification_photos (*)
      `).eq("id",t).maybeSingle();if(r)throw r;return e},async getByArmoireId(t){const{data:e,error:r}=await Ft.from("verifications").select(`
        *,
        armoire:armoires (*),
        verification_systemes (*),
        verification_photos (*)
      `).eq("armoire_id",t).order("created_at",{ascending:!1}).maybeSingle();if(r)throw r;return e},async getBySessionId(t){const{data:e,error:r}=await Ft.from("verifications").select(`
        *,
        armoire:armoires (*),
        verification_systemes (*),
        verification_photos (*)
      `).eq("session_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]},async create(t){const{data:e,error:r}=await Ft.from("verifications").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:n}=await Ft.from("verifications").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},async delete(t){const{error:e}=await Ft.from("verifications").delete().eq("id",t);if(e)throw e}},nN={async create(t){const{data:e,error:r}=await Ft.from("verification_systemes").insert(t).select().single();if(r)throw r;return e},async update(t,e){const{data:r,error:n}=await Ft.from("verification_systemes").update(e).eq("id",t).select().single();if(n)throw n;return r},async delete(t){const{error:e}=await Ft.from("verification_systemes").delete().eq("id",t);if(e)throw e},async getByVerificationId(t){const{data:e,error:r}=await Ft.from("verification_systemes").select("*").eq("verification_id",t).order("created_at",{ascending:!0});if(r)throw r;return e||[]}},sN={async create(t){const{data:e,error:r}=await Ft.from("verification_photos").insert(t).select().single();if(r)throw r;return e},async delete(t){const{error:e}=await Ft.from("verification_photos").delete().eq("id",t);if(e)throw e},async getByVerificationId(t){const{data:e,error:r}=await Ft.from("verification_photos").select("*").eq("verification_id",t).order("position",{ascending:!0});if(r)throw r;return e||[]}},ja={async create(t,e,r){const{data:n,error:s}=await Ft.from("signatures_releve").insert({releve_id:t,signature_data:e,signed_by:r}).select().single();if(s)throw s;try{await r_(t)}catch(i){console.error("Erreur lors de la cration de l'installation:",i)}return n},async createForSession(t,e,r){const{data:n,error:s}=await Ft.from("signatures_releve").insert({session_id:t,signature_data:e,signed_by:r}).select().single();if(s)throw s;try{const i=await ms.getBySessionId(t);for(const o of i)await r_(o.id)}catch(i){console.error("Erreur lors de la cration des installations:",i)}return n},async getByReleveId(t){const{data:e,error:r}=await Ft.from("signatures_releve").select("*").eq("releve_id",t).order("created_at",{ascending:!1}).maybeSingle();if(r)throw r;return e},async getBySessionId(t){const{data:e,error:r}=await Ft.from("signatures_releve").select("*").eq("session_id",t).order("created_at",{ascending:!1}).maybeSingle();if(r)throw r;return e},async delete(t){const{error:e}=await Ft.from("signatures_releve").delete().eq("id",t);if(e)throw e}},dg={async create(t,e,r){const{data:n,error:s}=await Ft.from("signatures_installation").insert({site_id:t,signature_data:e,signed_by:r||null}).select().single();if(s)throw s;return n},async getBySiteId(t){const{data:e,error:r}=await Ft.from("signatures_installation").select("*").eq("site_id",t).order("created_at",{ascending:!1}).maybeSingle();if(r)throw r;return e},async delete(t){const{error:e}=await Ft.from("signatures_installation").delete().eq("id",t);if(e)throw e}};async function r_(t){if(await Fa.getByReleveId(t))return;const r=await ms.getById(t);if(!r)throw new Error("Relev introuvable");const n=await gs.getById(r.armoire_id);if(!n)throw new Error("Armoire introuvable");const s=await Fa.create({armoire_id:r.armoire_id,releve_etude_id:t,date_installation:r.date_releve,statut:" faire",hauteur:n.hauteur,longueur:n.longueur,profondeur:n.profondeur,volume:n.volume,nb_cellules:n.nb_cellules,ventilation:n.ventilation,nb_ventilations:n.nb_ventilations,arrivee_cables:n.arrivee_cables}),i=await ta.getByReleveId(t);for(const o of i)await Jd.create({installation_id:s.id,modele:o.modele,quantite:o.quantite,tube:o.tube,pressostat:o.pressostat,pressostat_type:o.pressostat_type,tete_sprinkler:o.tete_sprinkler,tete_sprinkler_quantite:o.tete_sprinkler_quantite,tete_sprinkler_temperature:o.tete_sprinkler_temperature,sirene_flash:o.sirene_flash,panneau:!1,contact_nf_suppl:!1});await ms.update(t,{statut:"complete"})}const n_={async create(t,e,r){const{data:n,error:s}=await Ft.from("signatures_verification").insert({session_id:t,signature_data:e,signed_by:r}).select().single();if(s)throw s;try{const i=await Hh.getBySessionId(t);for(const o of i)await Hh.update(o.id,{statut:"fait"})}catch(i){console.error("Erreur lors de la mise  jour des vrifications:",i)}return n},async getBySessionId(t){const{data:e,error:r}=await Ft.from("signatures_verification").select("*").eq("session_id",t).order("created_at",{ascending:!1}).maybeSingle();if(r)throw r;return e},async delete(t){const{error:e}=await Ft.from("signatures_verification").delete().eq("id",t);if(e)throw e}};function Yf({onSave:t,onCancel:e}){const r=le.useRef(null),[n,s]=le.useState(!1),[i,o]=le.useState(!1);le.useEffect(()=>{const w=r.current;if(!w)return;const y=w.getContext("2d");y&&(w.width=w.offsetWidth,w.height=w.offsetHeight,y.strokeStyle="#000",y.lineWidth=2,y.lineCap="round",y.lineJoin="round")},[]);const l=w=>{const y=r.current;if(!y)return;const F=y.getContext("2d");if(!F)return;s(!0),o(!0);const S=y.getBoundingClientRect();let Q,_;"touches"in w?(Q=w.touches[0].clientX-S.left,_=w.touches[0].clientY-S.top):(Q=w.clientX-S.left,_=w.clientY-S.top),F.beginPath(),F.moveTo(Q,_)},c=w=>{if(!n)return;const y=r.current;if(!y)return;const F=y.getContext("2d");if(!F)return;const S=y.getBoundingClientRect();let Q,_;"touches"in w?(w.preventDefault(),Q=w.touches[0].clientX-S.left,_=w.touches[0].clientY-S.top):(Q=w.clientX-S.left,_=w.clientY-S.top),F.lineTo(Q,_),F.stroke()},h=()=>{s(!1)},p=()=>{const w=r.current;if(!w)return;const y=w.getContext("2d");y&&(y.clearRect(0,0,w.width,w.height),o(!1))},g=()=>{const w=r.current;if(!w||!i)return;const y=w.toDataURL("image/png");t(y)};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[A.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Signature"}),A.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 transition-colors",children:A.jsx(Xf,{className:"w-6 h-6"})})]}),A.jsxs("div",{className:"p-6",children:[A.jsxs("div",{className:"mb-4 text-center",children:[A.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Bon pour offre technique et commerciale"}),A.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Signez dans la zone ci-dessous avec votre doigt ou votre souris"})]}),A.jsx("div",{className:"border-2 border-gray-300 rounded-lg bg-gray-50 mb-4",children:A.jsx("canvas",{ref:r,className:"w-full h-64 cursor-crosshair touch-none",onMouseDown:l,onMouseMove:c,onMouseUp:h,onMouseLeave:h,onTouchStart:l,onTouchMove:c,onTouchEnd:h})}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("button",{onClick:p,className:"flex-1 btn btn-secondary flex items-center justify-center gap-2",children:[A.jsx(pw,{className:"w-5 h-5"}),"Effacer"]}),A.jsx("button",{onClick:g,disabled:!i,className:"flex-1 btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Enregistrer la signature"})]})]})]})})}const hv=[{value:"RV0.5m3",label:"0.5"},{value:"RV1m3",label:"1"},{value:"RV1.5m3",label:"1.5"},{value:"RV2m3",label:"2"},{value:"RV2.5m3",label:"2.5"},{value:"RV3m3",label:"3"}];function RP(){var wt,Ke;const t=Us(),{data:e}=hc(),{user:r}=uo(),n=le.useRef(null),[s,i]=le.useState(""),[o,l]=le.useState(""),[c,h]=le.useState([]),[p,g]=le.useState(null),[w,y]=le.useState(null),[F,S]=le.useState(null),[Q,_]=le.useState("all"),[B,j]=le.useState("simplified"),[T,V]=le.useState(!1),[K,G]=le.useState(!1),[M,Z]=le.useState(null),[oe,D]=le.useState(null),[R,re]=le.useState(!1),ae=e==null?void 0:e.find(we=>we.id===s),Se=(ae==null?void 0:ae.sites)||[],ve=(ae==null?void 0:ae.multi_site)??!1,Ue=ve?o:((wt=Se[0])==null?void 0:wt.id)||"",H=s&&Ue;le.useEffect(()=>{(async()=>{if(!Ue){h([]);return}V(!0);try{const Ye=await ms.getBySiteId(Ue),pe=(await Promise.all(Ye.map(async ne=>{const it=ne.releve_systemes||[],Ze=(ne.releve_photos||[]).sort((At,Ee)=>At.position-Ee.position)[0];let ot=await ja.getByReleveId(ne.id);return!ot&&ne.session_id&&(ot=await ja.getBySessionId(ne.session_id)),{...ne,systemes:it,firstPhoto:Ze,signature:ot}}))).reduce((ne,it)=>{const Xe=new Date(it.date_releve).toLocaleDateString("fr-FR");if(it.session_id){const Ze=ne.find(ot=>ot.sessionId===it.session_id);Ze?Ze.releves.push(it):ne.push({date:Xe,sessionId:it.session_id,releves:[it]})}else ne.push({date:Xe,sessionId:void 0,releves:[it]});return ne},[]);pe.sort((ne,it)=>{const Xe=new Date(ne.releves[0].date_releve);return new Date(it.releves[0].date_releve).getTime()-Xe.getTime()}),h(pe)}catch(Ye){console.error("Erreur lors du chargement des relevs:",Ye)}finally{V(!1)}})()},[Ue]);const ue=()=>c.map(we=>{const Ye=we.releves.filter(et=>Q==="all"?!0:Q==="en_cours"?et.statut==="brouillon":Q==="valide"?et.statut==="complete"&&!et.signature:Q==="signe"?et.statut==="complete"&&!!et.signature:!0);return{...we,releves:Ye}}).filter(we=>we.releves.length>0),ee=we=>{g(p===we?null:we)},me=we=>{y(w===we?null:we),S(null)},P=we=>we.signature?A.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Sign"}):we.statut==="complete"?A.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"Valid"}):A.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700",children:"En cours"}),$=async we=>{V(!0);try{const Ye=await gs.getById(we.armoire_id);D(Ye),Z(we)}catch(Ye){console.error("Erreur lors du chargement des dtails:",Ye),alert("Erreur lors du chargement des dtails")}finally{V(!1)}},se=()=>{Z(null),D(null),re(!1)},ce=async we=>{if(!(!M||!r))try{const Ye=await ja.create(M.id,we,r.id);Z({...M,signature:Ye}),re(!1);const et=await ms.getBySiteId(Ue),ne=(await Promise.all(et.map(async it=>{const Xe=it.releve_systemes||[],ot=(it.releve_photos||[]).sort((Ee,Ie)=>Ee.position-Ie.position)[0];let At=await ja.getByReleveId(it.id);return!At&&it.session_id&&(At=await ja.getBySessionId(it.session_id)),{...it,systemes:Xe,firstPhoto:ot,signature:At}}))).reduce((it,Xe)=>{const Ze=new Date(Xe.date_releve).toLocaleDateString("fr-FR");if(Xe.session_id){const ot=it.find(At=>At.sessionId===Xe.session_id);ot?ot.releves.push(Xe):it.push({date:Ze,sessionId:Xe.session_id,releves:[Xe]})}else it.push({date:Ze,sessionId:void 0,releves:[Xe]});return it},[]);ne.sort((it,Xe)=>{const Ze=new Date(it.releves[0].date_releve);return new Date(Xe.releves[0].date_releve).getTime()-Ze.getTime()}),h(ne)}catch(Ye){console.error("Erreur lors de l'enregistrement de la signature:",Ye),alert("Erreur lors de l'enregistrement de la signature")}},fe=async we=>{if(we.releves.length!==0){G(!0);try{const Ye=we.releves[0];if(Ye.session_id)t(`/releves/session/${Ye.session_id}/signature`);else if(we.releves.length===1)await $(Ye),G(!1);else{const et=we.releves.map(ne=>ne.id),pe=await ms.createSessionFromReleves(et);t(`/releves/session/${pe}/signature`)}}catch(Ye){console.error("Erreur lors de la prparation de la signature:",Ye),alert("Erreur lors de la prparation de la signature"),G(!1)}}},Te=async()=>{if(!n.current)return null;try{const we=(await Mo(async()=>{const{default:We}=await Promise.resolve().then(()=>A0);return{default:We}},void 0)).default,Ye=(await Mo(async()=>{const{default:We}=await Promise.resolve().then(()=>bx);return{default:We}},void 0)).default,et=await we(n.current,{scale:2,useCORS:!0,logging:!1}),pe=et.toDataURL("image/jpeg",.95),ne=new Ye({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),it=ne.internal.pageSize.getWidth(),Xe=ne.internal.pageSize.getHeight(),Ze=it,ot=et.height*Ze/et.width;let At=ot,Ee=0,Ie=0;for(ne.addImage(pe,"JPEG",0,Ee,Ze,ot,void 0,"FAST"),At-=Xe;At>0;)Ie++,Ee=-(Xe*Ie),ne.addPage(),ne.addImage(pe,"JPEG",0,Ee,Ze,ot,void 0,"FAST"),At-=Xe;return ne.output("blob")}catch(we){return console.error("Erreur lors de la gnration du PDF:",we),null}},ze=async()=>{if(!M||!oe)return;const we=await Te();if(!we){alert("Erreur lors de la gnration du PDF");return}const Ye=`releve-${oe.nom_armoire}-${new Date().toLocaleDateString("fr-FR")}.pdf`,et=URL.createObjectURL(we),pe=document.createElement("a");pe.href=et,pe.download=Ye,pe.click(),URL.revokeObjectURL(et)},_e=ue();return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Liste des Relevs d'tude"}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filtres"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Client"}),A.jsxs("select",{value:s,onChange:we=>{i(we.target.value),l(""),g(null),y(null)},className:"input",children:[A.jsx("option",{value:"",children:"Slectionner un client"}),e==null?void 0:e.map(we=>A.jsx("option",{value:we.id,children:we.nom},we.id))]})]}),ve&&A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Site"}),A.jsxs("select",{value:o,onChange:we=>{l(we.target.value),g(null),y(null)},className:"input",disabled:!s,children:[A.jsx("option",{value:"",children:"Slectionner un site"}),Se.map(we=>A.jsx("option",{value:we.id,children:we.nom},we.id))]})]})]}),A.jsx("div",{className:"border-t pt-4",children:A.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"label mb-2 flex items-center gap-2",children:[A.jsx(sQ,{className:"w-4 h-4"}),"Filtrer par statut"]}),A.jsxs("div",{className:"flex gap-2 flex-wrap",children:[A.jsx("button",{onClick:()=>_("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Q==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tous"}),A.jsx("button",{onClick:()=>_("en_cours"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Q==="en_cours"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"En cours"}),A.jsx("button",{onClick:()=>_("valide"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Q==="valide"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Valid"}),A.jsx("button",{onClick:()=>_("signe"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Q==="signe"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Sign"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label mb-2",children:"Mode d'affichage"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:()=>j("simplified"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${B==="simplified"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[A.jsx(AQ,{className:"w-4 h-4"}),"Simplifi"]}),A.jsxs("button",{onClick:()=>j("detailed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${B==="detailed"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[A.jsx(oQ,{className:"w-4 h-4"}),"Dtaill"]})]})]})]})})]}),H&&A.jsx("div",{className:"flex justify-end",children:A.jsxs("button",{onClick:()=>t("/releve-etude"),className:"btn-primary flex items-center gap-2",children:[A.jsx(so,{className:"w-5 h-5"}),"Crer un nouveau relev"]})}),T&&A.jsx("div",{className:"text-center py-8",children:A.jsx("p",{className:"text-gray-500",children:"Chargement des relevs..."})}),!T&&H&&_e.length===0&&A.jsx("div",{className:"text-center py-8",children:A.jsx("p",{className:"text-gray-500",children:Q==="all"?"Aucun relev d'tude trouv pour ce client":"Aucun relev trouv pour ce filtre"})}),!T&&_e.length>0&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("p",{className:"text-sm text-gray-600",children:[_e.reduce((we,Ye)=>we+Ye.releves.length,0)," relev",_e.reduce((we,Ye)=>we+Ye.releves.length,0)>1?"s":""," trouv",_e.reduce((we,Ye)=>we+Ye.releves.length,0)>1?"s":""]}),A.jsx("div",{className:"space-y-4",children:_e.map(we=>{const Ye=we.releves.some(et=>et.signature);return A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[A.jsxs("button",{onClick:()=>ee(we.date),className:"flex-1 flex items-center justify-between text-left hover:bg-gray-50 transition-colors p-4 -m-4 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(mh,{className:"w-6 h-6 text-primary-600"}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Relev du ",we.date]}),A.jsxs("p",{className:"text-sm text-gray-600",children:[we.releves.length," armoire",we.releves.length>1?"s":""," releve",we.releves.length>1?"s":""]})]})]}),p===we.date?A.jsx(Mh,{className:"w-6 h-6 text-gray-400"}):A.jsx(Dh,{className:"w-6 h-6 text-gray-400"})]}),we.releves.length>1&&A.jsxs("button",{onClick:()=>fe(we),disabled:K,className:`btn flex items-center gap-2 ${Ye?"btn-secondary":"btn-primary"} disabled:opacity-50`,children:[A.jsx(Gc,{className:"w-5 h-5"}),Ye?"Voir le rapport":"Signer tout"]})]}),p===we.date&&A.jsx("div",{className:"mt-6 pt-6 border-t space-y-3",children:we.releves.map(et=>{var Xe,Ze,ot,At,Ee,Ie,We,rt,lt,Jt,Zt,ht,kt,ut,wr,Pt,Or;const pe=(Xe=et.armoire)!=null&&Xe.hauteur&&((Ze=et.armoire)!=null&&Ze.longueur)&&((ot=et.armoire)!=null&&ot.profondeur)?(et.armoire.hauteur*et.armoire.longueur*et.armoire.profondeur).toFixed(2):((Ee=(At=et.armoire)==null?void 0:At.volume)==null?void 0:Ee.toString())||"-",ne=et.systemes.length>0?et.systemes.map(Ut=>{var Kr;return`${((Kr=hv.find(rr=>rr.value===Ut.modele))==null?void 0:Kr.label)||Ut.modele}m (x${Ut.quantite})`}).join(", "):"Aucun systme",it=w===et.id;return A.jsxs("div",{className:"border rounded-lg bg-white overflow-hidden",children:[A.jsx("div",{className:"p-4",children:A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:()=>me(et.id),className:"flex-shrink-0 w-20 h-20 hover:opacity-80 transition-opacity",children:et.firstPhoto?A.jsx("img",{src:et.firstPhoto.url_photo,alt:"Photo armoire",crossOrigin:"anonymous",className:"w-full h-full object-cover rounded-lg border-2 border-gray-200",onError:Ut=>{const _t=Ut.target;_t.style.display="none"}}):A.jsx("div",{className:"w-full h-full bg-gray-100 rounded-lg border-2 border-gray-200 flex items-center justify-center",children:A.jsx($g,{className:"w-8 h-8 text-gray-400"})})}),A.jsxs("button",{onClick:()=>me(et.id),className:"flex-1 min-w-0 text-left hover:bg-gray-50 transition-colors p-2 rounded",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[A.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:((Ie=et.armoire)==null?void 0:Ie.nom_armoire)||"Armoire sans nom"}),P(et)]}),((We=et.armoire)==null?void 0:We.zone)&&A.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Zone: ",et.armoire.zone]}),B==="simplified"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm",children:[A.jsxs("span",{className:"font-medium text-gray-700",children:["L: ",((rt=et.armoire)==null?void 0:rt.longueur)||"-","m"]}),A.jsxs("span",{className:"font-medium text-gray-700",children:["H: ",((lt=et.armoire)==null?void 0:lt.hauteur)||"-","m"]}),A.jsxs("span",{className:"font-medium text-gray-700",children:["P: ",((Jt=et.armoire)==null?void 0:Jt.profondeur)||"-","m"]}),A.jsxs("span",{className:"font-bold text-primary-600",children:["V: ",pe,"m"]})]}),A.jsxs("div",{className:"mt-1 text-sm text-gray-700",children:[A.jsx("span",{className:"font-medium",children:"Systme:"})," ",A.jsx("span",{className:"text-blue-700",children:ne})]})]})]}),A.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[!et.signature&&A.jsx("button",{onClick:()=>t(`/releves/${et.id}`),className:"btn-secondary flex items-center gap-2",title:"Modifier",children:A.jsx(M4,{className:"w-5 h-5"})}),A.jsxs("button",{onClick:()=>$(et),className:`btn flex items-center gap-2 ${et.signature?"btn-secondary":"btn-primary"}`,children:[et.signature?A.jsx($d,{className:"w-5 h-5"}):A.jsx(Gc,{className:"w-5 h-5"}),et.signature?"Voir":"Signer"]}),A.jsx("button",{onClick:()=>me(et.id),className:"p-2 hover:bg-gray-100 rounded transition-colors",children:it?A.jsx(Mh,{className:"w-5 h-5 text-gray-600"}):A.jsx(Dh,{className:"w-5 h-5 text-gray-600"})})]})]})}),it&&B==="detailed"&&A.jsx("div",{className:"px-4 pb-4 border-t bg-gray-50",children:A.jsxs("div",{className:"py-4",children:[A.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Dtails de l'armoire"}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Longueur"}),A.jsxs("p",{className:"font-medium text-gray-900",children:[((Zt=et.armoire)==null?void 0:Zt.longueur)||"-"," m"]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Hauteur"}),A.jsxs("p",{className:"font-medium text-gray-900",children:[((ht=et.armoire)==null?void 0:ht.hauteur)||"-"," m"]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Profondeur"}),A.jsxs("p",{className:"font-medium text-gray-900",children:[((kt=et.armoire)==null?void 0:kt.profondeur)||"-"," m"]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Volume"}),A.jsxs("p",{className:"font-bold text-primary-600",children:[pe," m"]})]})]}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Cellules"}),A.jsx("p",{className:"font-medium text-gray-900",children:((ut=et.armoire)==null?void 0:ut.nb_cellules)||"-"})]}),((wr=et.armoire)==null?void 0:wr.ventilation)&&A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Ventilations"}),A.jsx("p",{className:"font-medium text-gray-900",children:((Pt=et.armoire)==null?void 0:Pt.nb_ventilations)||"-"})]}),((Or=et.armoire)==null?void 0:Or.arrivee_cables)&&A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Arrive cbles"}),A.jsx("p",{className:"font-medium text-gray-900",children:et.armoire.arrivee_cables})]})]}),A.jsxs("div",{className:"border-t pt-4",children:[A.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Systmes installs"}),et.systemes.length>0?A.jsx("div",{className:"space-y-2",children:et.systemes.map((Ut,_t)=>{var ls;const Kr=((ls=hv.find(xt=>xt.value===Ut.modele))==null?void 0:ls.label)||Ut.modele,rr=[];return Ut.tube&&rr.push("Tube"),Ut.pressostat&&rr.push(`Pressostat ${Ut.pressostat_type}`),Ut.tete_sprinkler&&rr.push(`Ttes: ${Ut.tete_sprinkler_quantite} (${Ut.tete_sprinkler_temperature})`),Ut.sirene_flash&&rr.push("Sirne/Flash"),A.jsx("div",{className:"bg-white rounded-lg p-3 border",children:A.jsx("div",{className:"flex items-center justify-between",children:A.jsxs("div",{children:[A.jsxs("p",{className:"font-medium text-gray-900",children:["Modle ",Kr,"m",A.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(Quantit: ",Ut.quantite,")"]})]}),rr.length>0&&A.jsx("p",{className:"text-sm text-gray-600 mt-1",children:rr.join("  ")})]})})},_t)})}):A.jsx("p",{className:"text-gray-500 text-sm",children:"Aucun systme configur"})]})]})})]},et.id)})})]},we.date)})})]}),M&&oe&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto",children:A.jsx("div",{className:"min-h-screen px-4 py-8",children:A.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-xl",children:A.jsxs("div",{className:"p-6",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Relev d'tude - ",oe.nom_armoire]}),A.jsx("button",{onClick:se,className:"text-gray-400 hover:text-gray-600",children:A.jsx(Xf,{className:"w-6 h-6"})})]}),A.jsxs("div",{ref:n,className:"space-y-6 bg-white p-6",children:[A.jsx("div",{className:"border-b pb-4",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:oe.nom_armoire}),A.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(M.date_releve).toLocaleDateString("fr-FR")]}),oe.zone&&A.jsxs("p",{className:"text-sm text-gray-600",children:["Zone: ",oe.zone]})]}),A.jsx("div",{children:P(M)})]})}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Longueur"}),A.jsxs("p",{className:"font-medium text-gray-900",children:[oe.longueur||"-"," m"]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Hauteur"}),A.jsxs("p",{className:"font-medium text-gray-900",children:[oe.hauteur||"-"," m"]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Profondeur"}),A.jsxs("p",{className:"font-medium text-gray-900",children:[oe.profondeur||"-"," m"]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Volume"}),A.jsxs("p",{className:"font-bold text-primary-600",children:[oe.hauteur&&oe.longueur&&oe.profondeur?(oe.hauteur*oe.longueur*oe.profondeur).toFixed(2):((Ke=oe.volume)==null?void 0:Ke.toString())||"-"," ","m"]})]})]}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Cellules"}),A.jsx("p",{className:"font-medium text-gray-900",children:oe.nb_cellules||"-"})]}),oe.ventilation&&A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Ventilations"}),A.jsx("p",{className:"font-medium text-gray-900",children:oe.nb_ventilations||"-"})]}),oe.arrivee_cables&&A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-gray-500",children:"Arrive cbles"}),A.jsx("p",{className:"font-medium text-gray-900",children:oe.arrivee_cables})]})]}),A.jsxs("div",{className:"border-t pt-4",children:[A.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Systmes installs"}),M.systemes.length>0?A.jsx("div",{className:"space-y-2",children:M.systemes.map((we,Ye)=>{var ne;const et=((ne=hv.find(it=>it.value===we.modele))==null?void 0:ne.label)||we.modele,pe=[];return we.tube&&pe.push("Tube"),we.pressostat&&pe.push(`Pressostat ${we.pressostat_type}`),we.tete_sprinkler&&pe.push(`Ttes: ${we.tete_sprinkler_quantite} (${we.tete_sprinkler_temperature})`),we.sirene_flash&&pe.push("Sirne/Flash"),A.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border",children:A.jsx("div",{className:"flex items-center justify-between",children:A.jsxs("div",{children:[A.jsxs("p",{className:"font-medium text-gray-900",children:["Modle ",et,"m",A.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(Quantit: ",we.quantite,")"]})]}),pe.length>0&&A.jsx("p",{className:"text-sm text-gray-600 mt-1",children:pe.join("  ")})]})})},Ye)})}):A.jsx("p",{className:"text-gray-500 text-sm",children:"Aucun systme configur"})]}),M.releve_photos&&M.releve_photos.length>0&&A.jsxs("div",{className:"border-t pt-4",children:[A.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Photos"}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:M.releve_photos.sort((we,Ye)=>we.position-Ye.position).map(we=>A.jsx("img",{src:we.url_photo,alt:`Photo ${we.position}`,crossOrigin:"anonymous",className:"w-full h-48 object-cover rounded-lg border"},we.id))})]}),M.signature&&A.jsxs("div",{className:"border-t pt-4",children:[A.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Signature"}),A.jsx("img",{src:M.signature.signature_data,alt:"Signature",className:"border rounded-lg p-2 bg-white max-w-md"}),A.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Sign le ",new Date(M.signature.created_at).toLocaleDateString("fr-FR")," "," ",new Date(M.signature.created_at).toLocaleTimeString("fr-FR")]})]})]}),A.jsxs("div",{className:"mt-6 flex items-center justify-between gap-4",children:[A.jsx("div",{className:"flex gap-2",children:A.jsxs("button",{onClick:ze,className:"btn-secondary flex items-center gap-2",children:[A.jsx(Zh,{className:"w-5 h-5"}),"PDF"]})}),M.signature?A.jsx("button",{onClick:se,className:"btn-primary",children:"Fermer"}):A.jsxs("button",{onClick:()=>re(!0),className:"btn-primary flex items-center gap-2",children:[A.jsx(Gc,{className:"w-5 h-5"}),"Signer"]})]})]})})})}),R&&A.jsx(Yf,{onSave:ce,onCancel:()=>re(!1)})]})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vw=function(t,e){return vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},vw(t,e)};function Ko(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yw=function(){return yw=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yw.apply(this,arguments)};function Pi(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(p){try{h(n.next(p))}catch(g){o(g)}}function c(p){try{h(n.throw(p))}catch(g){o(g)}}function h(p){p.done?i(p.value):s(p.value).then(l,c)}h((n=n.apply(t,[])).next())})}function mi(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(h){return function(p){return c([h,p])}}function c(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=h[0]&2?s.return:h[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,h[1])).done)return i;switch(s=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(p){h=[6,p],s=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Hp(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var el=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Xg=function(t,e){return el.fromClientRect(t,e.getBoundingClientRect())},DP=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new el(0,0,n,s)},Yg=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},ss=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var o=t[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},s_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",MP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Kp=0;Kp<s_.length;Kp++)MP[s_.charCodeAt(Kp)]=Kp;var i_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qp=0;qp<i_.length;qp++)jd[i_.charCodeAt(qp)]=qp;var HP=function(t){var e=t.length*.75,r=t.length,n,s=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<r;n+=4)i=jd[t.charCodeAt(n)],o=jd[t.charCodeAt(n+1)],l=jd[t.charCodeAt(n+2)],c=jd[t.charCodeAt(n+3)],p[s++]=i<<2|o>>4,p[s++]=(o&15)<<4|l>>2,p[s++]=(l&3)<<6|c&63;return h},KP=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},qP=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},$c=5,hx=11,dv=2,zP=hx-$c,iN=65536>>$c,VP=1<<$c,fv=VP-1,WP=1024>>$c,GP=iN+WP,$P=GP,JP=32,ZP=$P+JP,XP=65536>>hx,YP=1<<zP,e6=YP-1,a_=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},t6=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},r6=function(t,e){var r=HP(t),n=Array.isArray(r)?qP(r):new Uint32Array(r),s=Array.isArray(r)?KP(r):new Uint16Array(r),i=24,o=a_(s,i/2,n[4]/2),l=n[5]===2?a_(s,(i+n[4])/2):t6(n,Math.ceil((i+n[4])/4));return new n6(n[0],n[1],n[2],n[3],o,l)},n6=function(){function t(e,r,n,s,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>$c],r=(r<<dv)+(e&fv),this.data[r];if(e<=65535)return r=this.index[iN+(e-55296>>$c)],r=(r<<dv)+(e&fv),this.data[r];if(e<this.highStart)return r=ZP-XP+(e>>hx),r=this.index[r],r+=e>>$c&e6,r=this.index[r],r=(r<<dv)+(e&fv),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),o_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zp=0;zp<o_.length;zp++)s6[o_.charCodeAt(zp)]=zp;var i6="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",A_=50,a6=1,aN=2,oN=3,o6=4,A6=5,l_=7,AN=8,c_=9,Dl=10,ww=11,u_=12,xw=13,l6=14,Ud=15,bw=16,Vp=17,gd=18,c6=19,h_=20,_w=21,vd=22,pv=23,Qu=24,Ca=25,kd=26,Ld=27,Iu=28,u6=29,Ec=30,h6=31,Wp=32,Gp=33,Bw=34,Cw=35,Nw=36,If=37,Sw=38,Em=39,Fm=40,mv=41,lN=42,d6=43,f6=[9001,65288],cN="!",Lr="",$p="",Ew=r6(i6),kA=[Ec,Nw],Fw=[a6,aN,oN,A6],uN=[Dl,AN],d_=[Ld,kd],p6=Fw.concat(uN),f_=[Sw,Em,Fm,Bw,Cw],m6=[Ud,xw],g6=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,o){var l=Ew.get(i);if(l>A_?(s.push(!0),l-=A_):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(bw);if(l===o6||l===ww){if(o===0)return n.push(o),r.push(Ec);var c=r[o-1];return p6.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(Ec))}if(n.push(o),l===h6)return r.push(e==="strict"?_w:If);if(l===lN||l===u6)return r.push(Ec);if(l===d6)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(If):r.push(Ec);r.push(l)}),[n,r,s]},gv=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===e)return!0;if(o!==Dl)break}if(s===Dl)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==Dl)break}if(l!==Dl)break}return!1},p_=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Dl)r--;else return n}return 0},v6=function(t,e,r,n,s){if(r[n]===0)return Lr;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Lr;var o=i-1,l=i+1,c=e[i],h=o>=0?e[o]:0,p=e[l];if(c===aN&&p===oN)return Lr;if(Fw.indexOf(c)!==-1)return cN;if(Fw.indexOf(p)!==-1||uN.indexOf(p)!==-1)return Lr;if(p_(i,e)===AN)return $p;if(Ew.get(t[i])===ww||(c===Wp||c===Gp)&&Ew.get(t[l])===ww||c===l_||p===l_||c===c_||[Dl,xw,Ud].indexOf(c)===-1&&p===c_||[Vp,gd,c6,Qu,Iu].indexOf(p)!==-1||p_(i,e)===vd||gv(pv,vd,i,e)||gv([Vp,gd],_w,i,e)||gv(u_,u_,i,e))return Lr;if(c===Dl)return $p;if(c===pv||p===pv)return Lr;if(p===bw||c===bw)return $p;if([xw,Ud,_w].indexOf(p)!==-1||c===l6||h===Nw&&m6.indexOf(c)!==-1||c===Iu&&p===Nw||p===h_||kA.indexOf(p)!==-1&&c===Ca||kA.indexOf(c)!==-1&&p===Ca||c===Ld&&[If,Wp,Gp].indexOf(p)!==-1||[If,Wp,Gp].indexOf(c)!==-1&&p===kd||kA.indexOf(c)!==-1&&d_.indexOf(p)!==-1||d_.indexOf(c)!==-1&&kA.indexOf(p)!==-1||[Ld,kd].indexOf(c)!==-1&&(p===Ca||[vd,Ud].indexOf(p)!==-1&&e[l+1]===Ca)||[vd,Ud].indexOf(c)!==-1&&p===Ca||c===Ca&&[Ca,Iu,Qu].indexOf(p)!==-1)return Lr;if([Ca,Iu,Qu,Vp,gd].indexOf(p)!==-1)for(var g=i;g>=0;){var w=e[g];if(w===Ca)return Lr;if([Iu,Qu].indexOf(w)!==-1)g--;else break}if([Ld,kd].indexOf(p)!==-1)for(var g=[Vp,gd].indexOf(c)!==-1?o:i;g>=0;){var w=e[g];if(w===Ca)return Lr;if([Iu,Qu].indexOf(w)!==-1)g--;else break}if(Sw===c&&[Sw,Em,Bw,Cw].indexOf(p)!==-1||[Em,Bw].indexOf(c)!==-1&&[Em,Fm].indexOf(p)!==-1||[Fm,Cw].indexOf(c)!==-1&&p===Fm||f_.indexOf(c)!==-1&&[h_,kd].indexOf(p)!==-1||f_.indexOf(p)!==-1&&c===Ld||kA.indexOf(c)!==-1&&kA.indexOf(p)!==-1||c===Qu&&kA.indexOf(p)!==-1||kA.concat(Ca).indexOf(c)!==-1&&p===vd&&f6.indexOf(t[l])===-1||kA.concat(Ca).indexOf(p)!==-1&&c===gd)return Lr;if(c===mv&&p===mv){for(var y=r[i],F=1;y>0&&(y--,e[y]===mv);)F++;if(F%2!==0)return Lr}return c===Wp&&p===Gp?Lr:$p},y6=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=g6(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(l){return[Ca,Ec,lN].indexOf(l)!==-1?If:l}));var o=e.wordBreak==="keep-all"?i.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,s,o]},w6=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===cN,this.start=n,this.end=s}return t.prototype.slice=function(){return ss.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),x6=function(t,e){var r=Yg(t),n=y6(r,e),s=n[0],i=n[1],o=n[2],l=r.length,c=0,h=0;return{next:function(){if(h>=l)return{done:!0,value:null};for(var p=Lr;h<l&&(p=v6(r,i,s,++h,o))===Lr;);if(p!==Lr||h===l){var g=new w6(r,p,c,h);return c=h,{value:g,done:!1}}return{done:!0,value:null}}}},b6=1,_6=2,ep=4,m_=8,fg=10,g_=47,Zd=92,B6=9,C6=32,Jp=34,yd=61,N6=35,S6=36,E6=37,Zp=39,Xp=40,wd=41,F6=95,ra=45,j6=33,U6=60,k6=62,L6=64,Q6=91,I6=93,P6=61,T6=123,Yp=63,O6=125,v_=124,R6=126,D6=128,y_=65533,vv=42,Ic=43,M6=44,H6=58,K6=59,Pf=46,q6=0,z6=8,V6=11,W6=14,G6=31,$6=127,iA=-1,hN=48,dN=97,fN=101,J6=102,Z6=117,X6=122,pN=65,mN=69,gN=70,Y6=85,eT=90,gi=function(t){return t>=hN&&t<=57},tT=function(t){return t>=55296&&t<=57343},Pu=function(t){return gi(t)||t>=pN&&t<=gN||t>=dN&&t<=J6},rT=function(t){return t>=dN&&t<=X6},nT=function(t){return t>=pN&&t<=eT},sT=function(t){return rT(t)||nT(t)},iT=function(t){return t>=D6},em=function(t){return t===fg||t===B6||t===C6},pg=function(t){return sT(t)||iT(t)||t===F6},w_=function(t){return pg(t)||gi(t)||t===ra},aT=function(t){return t>=q6&&t<=z6||t===V6||t>=W6&&t<=G6||t===$6},_l=function(t,e){return t!==Zd?!1:e!==fg},tm=function(t,e,r){return t===ra?pg(e)||_l(e,r):pg(t)?!0:!!(t===Zd&&_l(t,e))},yv=function(t,e,r){return t===Ic||t===ra?gi(e)?!0:e===Pf&&gi(r):gi(t===Pf?e:t)},oT=function(t){var e=0,r=1;(t[e]===Ic||t[e]===ra)&&(t[e]===ra&&(r=-1),e++);for(var n=[];gi(t[e]);)n.push(t[e++]);var s=n.length?parseInt(ss.apply(void 0,n),10):0;t[e]===Pf&&e++;for(var i=[];gi(t[e]);)i.push(t[e++]);var o=i.length,l=o?parseInt(ss.apply(void 0,i),10):0;(t[e]===mN||t[e]===fN)&&e++;var c=1;(t[e]===Ic||t[e]===ra)&&(t[e]===ra&&(c=-1),e++);for(var h=[];gi(t[e]);)h.push(t[e++]);var p=h.length?parseInt(ss.apply(void 0,h),10):0;return r*(s+l*Math.pow(10,-o))*Math.pow(10,c*p)},AT={type:2},lT={type:3},cT={type:4},uT={type:13},hT={type:8},dT={type:21},fT={type:9},pT={type:10},mT={type:11},gT={type:12},vT={type:14},rm={type:23},yT={type:1},wT={type:25},xT={type:24},bT={type:26},_T={type:27},BT={type:28},CT={type:29},NT={type:31},jw={type:32},vN=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Yg(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==jw;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Jp:return this.consumeStringToken(Jp);case N6:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(w_(r)||_l(n,s)){var i=tm(r,n,s)?_6:b6,o=this.consumeName();return{type:5,value:o,flags:i}}break;case S6:if(this.peekCodePoint(0)===yd)return this.consumeCodePoint(),uT;break;case Zp:return this.consumeStringToken(Zp);case Xp:return AT;case wd:return lT;case vv:if(this.peekCodePoint(0)===yd)return this.consumeCodePoint(),vT;break;case Ic:if(yv(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case M6:return cT;case ra:var l=e,c=this.peekCodePoint(0),h=this.peekCodePoint(1);if(yv(l,c,h))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(tm(l,c,h))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===ra&&h===k6)return this.consumeCodePoint(),this.consumeCodePoint(),xT;break;case Pf:if(yv(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case g_:if(this.peekCodePoint(0)===vv)for(this.consumeCodePoint();;){var p=this.consumeCodePoint();if(p===vv&&(p=this.consumeCodePoint(),p===g_))return this.consumeToken();if(p===iA)return this.consumeToken()}break;case H6:return bT;case K6:return _T;case U6:if(this.peekCodePoint(0)===j6&&this.peekCodePoint(1)===ra&&this.peekCodePoint(2)===ra)return this.consumeCodePoint(),this.consumeCodePoint(),wT;break;case L6:var g=this.peekCodePoint(0),w=this.peekCodePoint(1),y=this.peekCodePoint(2);if(tm(g,w,y)){var o=this.consumeName();return{type:7,value:o}}break;case Q6:return BT;case Zd:if(_l(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case I6:return CT;case P6:if(this.peekCodePoint(0)===yd)return this.consumeCodePoint(),hT;break;case T6:return mT;case O6:return gT;case Z6:case Y6:var F=this.peekCodePoint(0),S=this.peekCodePoint(1);return F===Ic&&(Pu(S)||S===Yp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case v_:if(this.peekCodePoint(0)===yd)return this.consumeCodePoint(),fT;if(this.peekCodePoint(0)===v_)return this.consumeCodePoint(),dT;break;case R6:if(this.peekCodePoint(0)===yd)return this.consumeCodePoint(),pT;break;case iA:return jw}return em(e)?(this.consumeWhiteSpace(),NT):gi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):pg(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ss(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Pu(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Yp&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(ss.apply(void 0,e.map(function(c){return c===Yp?hN:c})),16),i=parseInt(ss.apply(void 0,e.map(function(c){return c===Yp?gN:c})),16);return{type:30,start:s,end:i}}var o=parseInt(ss.apply(void 0,e),16);if(this.peekCodePoint(0)===ra&&Pu(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Pu(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(ss.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Xp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Xp?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===iA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Zp||r===Jp){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===iA||this.peekCodePoint(0)===wd)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),rm)}for(;;){var s=this.consumeCodePoint();if(s===iA||s===wd)return{type:22,value:ss.apply(void 0,e)};if(em(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===iA||this.peekCodePoint(0)===wd?(this.consumeCodePoint(),{type:22,value:ss.apply(void 0,e)}):(this.consumeBadUrlRemnants(),rm);if(s===Jp||s===Zp||s===Xp||aT(s))return this.consumeBadUrlRemnants(),rm;if(s===Zd)if(_l(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),rm;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;em(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===wd||e===iA)return;_l(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=ss.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===iA||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===fg)return this._value.splice(0,n),yT;if(s===Zd){var i=this._value[n+1];i!==iA&&i!==void 0&&(i===fg?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):_l(s,i)&&(r+=this.consumeStringSlice(n),r+=ss(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=ep,n=this.peekCodePoint(0);for((n===Ic||n===ra)&&e.push(this.consumeCodePoint());gi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Pf&&gi(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=m_;gi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===mN||n===fN)&&((s===Ic||s===ra)&&gi(i)||gi(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=m_;gi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[oT(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(tm(s,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return s===E6?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Pu(e)){for(var r=ss(e);Pu(this.peekCodePoint(0))&&r.length<6;)r+=ss(this.consumeCodePoint());em(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||tT(n)||n>1114111?y_:n}return e===iA?y_:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(w_(r))e+=ss(r);else if(_l(r,this.peekCodePoint(0)))e+=ss(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),yN=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new vN;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||ET(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?jw:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),tp=function(t){return t.type===15},Yh=function(t){return t.type===17},sn=function(t){return t.type===20},ST=function(t){return t.type===0},Uw=function(t,e){return sn(t)&&t.value===e},wN=function(t){return t.type!==31},Kh=function(t){return t.type!==31&&t.type!==4},wA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},ET=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},ic=function(t){return t.type===17||t.type===15},vs=function(t){return t.type===16||ic(t)},xN=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ei={type:17,number:0,flags:ep},dx={type:16,number:50,flags:ep},Ml={type:16,number:100,flags:ep},Qd=function(t,e,r){var n=t[0],s=t[1];return[hn(n,e),hn(typeof s<"u"?s:n,r)]},hn=function(t,e){if(t.type===16)return t.number/100*e;if(tp(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},bN="deg",_N="grad",BN="rad",CN="turn",e0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case bN:return Math.PI*e.number/180;case _N:return Math.PI/200*e.number;case BN:return e.number;case CN:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},NN=function(t){return t.type===15&&(t.unit===bN||t.unit===_N||t.unit===BN||t.unit===CN)},SN=function(t){var e=t.filter(sn).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ei,ei];case"to top":case"bottom":return io(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ei,Ml];case"to right":case"left":return io(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ml,Ml];case"to bottom":case"top":return io(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ml,ei];case"to left":case"right":return io(270)}return 0},io=function(t){return Math.PI*t/180},ec={name:"color",parse:function(t,e){if(e.type===18){var r=FT[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Hl(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return Hl(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Hl(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return Hl(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var l=GA[e.value.toUpperCase()];if(typeof l<"u")return l}return GA.TRANSPARENT}},tc=function(t){return(255&t)===0},Os=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},Hl=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},x_=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},b_=function(t,e){var r=e.filter(Kh);if(r.length===3){var n=r.map(x_),s=n[0],i=n[1],o=n[2];return Hl(s,i,o,1)}if(r.length===4){var l=r.map(x_),s=l[0],i=l[1],o=l[2],c=l[3];return Hl(s,i,o,c)}return 0};function wv(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var __=function(t,e){var r=e.filter(Kh),n=r[0],s=r[1],i=r[2],o=r[3],l=(n.type===17?io(n.number):e0.parse(t,n))/(Math.PI*2),c=vs(s)?s.number/100:0,h=vs(i)?i.number/100:0,p=typeof o<"u"&&vs(o)?hn(o,1):1;if(c===0)return Hl(h*255,h*255,h*255,1);var g=h<=.5?h*(c+1):h+c-h*c,w=h*2-g,y=wv(w,g,l+1/3),F=wv(w,g,l),S=wv(w,g,l-1/3);return Hl(y*255,F*255,S*255,p)},FT={hsl:__,hsla:__,rgb:b_,rgba:b_},Xd=function(t,e){return ec.parse(t,yN.create(e).parseComponentValue())},GA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},jT={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(sn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},UT={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},t0=function(t,e){var r=ec.parse(t,e[0]),n=e[1];return n&&vs(n)?{color:r,stop:n}:{color:r,stop:null}},B_=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=ei),n.stop===null&&(n.stop=Ml);for(var s=[],i=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=hn(l,e);c>i?s.push(c):s.push(i),i=c}else s.push(null)}for(var h=null,o=0;o<s.length;o++){var p=s[o];if(p===null)h===null&&(h=o);else if(h!==null){for(var g=o-h,w=s[h-1],y=(p-w)/(g+1),F=1;F<=g;F++)s[h+F-1]=y*F;h=null}}return t.map(function(S,Q){var _=S.color;return{color:_,stop:Math.max(Math.min(1,s[Q]/e),0)}})},kT=function(t,e,r){var n=e/2,s=r/2,i=hn(t[0],e)-n,o=s-hn(t[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},LT=function(t,e,r){var n=typeof t=="number"?t:kT(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,o=r/2,l=s/2,c=Math.sin(n-Math.PI/2)*l,h=Math.cos(n-Math.PI/2)*l;return[s,i-h,i+h,o-c,o+c]},So=function(t,e){return Math.sqrt(t*t+e*e)},C_=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,l){var c=l[0],h=l[1],p=So(r-c,n-h);return(s?p<o.optimumDistance:p>o.optimumDistance)?{optimumCorner:l,optimumDistance:p}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},QT=function(t,e,r,n,s){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=o=Math.min(So(e,r),So(e,r-s),So(e-n,r),So(e-n,r-s));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),c=C_(n,s,e,r,!0),h=c[0],p=c[1];i=So(h-e,(p-r)/l),o=l*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=o=Math.max(So(e,r),So(e,r-s),So(e-n,r),So(e-n,r-s));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),g=C_(n,s,e,r,!1),h=g[0],p=g[1];i=So(h-e,(p-r)/l),o=l*i}break}return Array.isArray(t.size)&&(i=hn(t.size[0],n),o=t.size.length===2?hn(t.size[1],s):i),[i,o]},IT=function(t,e){var r=io(180),n=[];return wA(e).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){r=SN(s);return}else if(NN(o)){r=e0.parse(t,o);return}}var l=t0(t,s);n.push(l)}),{angle:r,stops:n,type:1}},nm=function(t,e){var r=io(180),n=[];return wA(e).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=SN(s);return}else if(NN(o)){r=(e0.parse(t,o)+io(270))%io(360);return}}var l=t0(t,s);n.push(l)}),{angle:r,stops:n,type:1}},PT=function(t,e){var r=io(180),n=[],s=1,i=0,o=3,l=[];return wA(e).forEach(function(c,h){var p=c[0];if(h===0){if(sn(p)&&p.value==="linear"){s=1;return}else if(sn(p)&&p.value==="radial"){s=2;return}}if(p.type===18){if(p.name==="from"){var g=ec.parse(t,p.values[0]);n.push({stop:ei,color:g})}else if(p.name==="to"){var g=ec.parse(t,p.values[0]);n.push({stop:Ml,color:g})}else if(p.name==="color-stop"){var w=p.values.filter(Kh);if(w.length===2){var g=ec.parse(t,w[1]),y=w[0];Yh(y)&&n.push({stop:{type:16,number:y.number*100,flags:y.flags},color:g})}}}}),s===1?{angle:(r+io(180))%io(360),stops:n,type:s}:{size:o,shape:i,stops:n,position:l,type:s}},EN="closest-side",FN="farthest-side",jN="closest-corner",UN="farthest-corner",kN="circle",LN="ellipse",QN="cover",IN="contain",TT=function(t,e){var r=0,n=3,s=[],i=[];return wA(e).forEach(function(o,l){var c=!0;if(l===0){var h=!1;c=o.reduce(function(g,w){if(h)if(sn(w))switch(w.value){case"center":return i.push(dx),g;case"top":case"left":return i.push(ei),g;case"right":case"bottom":return i.push(Ml),g}else(vs(w)||ic(w))&&i.push(w);else if(sn(w))switch(w.value){case kN:return r=0,!1;case LN:return r=1,!1;case"at":return h=!0,!1;case EN:return n=0,!1;case QN:case FN:return n=1,!1;case IN:case jN:return n=2,!1;case UN:return n=3,!1}else if(ic(w)||vs(w))return Array.isArray(n)||(n=[]),n.push(w),!1;return g},c)}if(c){var p=t0(t,o);s.push(p)}}),{size:n,shape:r,stops:s,position:i,type:2}},sm=function(t,e){var r=0,n=3,s=[],i=[];return wA(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(p,g){if(sn(g))switch(g.value){case"center":return i.push(dx),!1;case"top":case"left":return i.push(ei),!1;case"right":case"bottom":return i.push(Ml),!1}else if(vs(g)||ic(g))return i.push(g),!1;return p},c):l===1&&(c=o.reduce(function(p,g){if(sn(g))switch(g.value){case kN:return r=0,!1;case LN:return r=1,!1;case IN:case EN:return n=0,!1;case FN:return n=1,!1;case jN:return n=2,!1;case QN:case UN:return n=3,!1}else if(ic(g)||vs(g))return Array.isArray(n)||(n=[]),n.push(g),!1;return p},c)),c){var h=t0(t,o);s.push(h)}}),{size:n,shape:r,stops:s,position:i,type:2}},OT=function(t){return t.type===1},RT=function(t){return t.type===2},fx={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=PN[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function DT(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!PN[t.name])}var PN={"linear-gradient":IT,"-moz-linear-gradient":nm,"-ms-linear-gradient":nm,"-o-linear-gradient":nm,"-webkit-linear-gradient":nm,"radial-gradient":TT,"-moz-radial-gradient":sm,"-ms-radial-gradient":sm,"-o-radial-gradient":sm,"-webkit-radial-gradient":sm,"-webkit-gradient":PT},MT={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Kh(n)&&DT(n)}).map(function(n){return fx.parse(t,n)})}},HT={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(sn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},KT={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return wA(e).map(function(r){return r.filter(vs)}).map(xN)}},qT={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return wA(e).map(function(r){return r.filter(sn).map(function(n){return n.value}).join(" ")}).map(zT)}},zT=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},yh;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(yh||(yh={}));var VT={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return wA(e).map(function(r){return r.filter(WT)})}},WT=function(t){return sn(t)||vs(t)},r0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},GT=r0("top"),$T=r0("right"),JT=r0("bottom"),ZT=r0("left"),n0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return xN(r.filter(vs))}}},XT=n0("top-left"),YT=n0("top-right"),eO=n0("bottom-right"),tO=n0("bottom-left"),s0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rO=s0("top"),nO=s0("right"),sO=s0("bottom"),iO=s0("left"),i0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return tp(r)?r.number:0}}},aO=i0("top"),oO=i0("right"),AO=i0("bottom"),lO=i0("left"),cO={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},uO={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},hO={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(sn).reduce(function(r,n){return r|dO(n.value)},0)}},dO=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},fO={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},pO={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},mg;(function(t){t.NORMAL="normal",t.STRICT="strict"})(mg||(mg={}));var mO={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return mg.STRICT;case"normal":default:return mg.NORMAL}}},gO={name:"line-height",initialValue:"normal",prefix:!1,type:4},N_=function(t,e){return sn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:vs(t)?hn(t,e):e},vO={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:fx.parse(t,e)}},yO={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},kw={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},a0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},wO=a0("top"),xO=a0("right"),bO=a0("bottom"),_O=a0("left"),BO={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(sn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},CO={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},o0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},NO=o0("top"),SO=o0("right"),EO=o0("bottom"),FO=o0("left"),jO={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},UO={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},kO={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Uw(e[0],"none")?[]:wA(e).map(function(r){for(var n={color:GA.TRANSPARENT,offsetX:ei,offsetY:ei,blur:ei},s=0,i=0;i<r.length;i++){var o=r[i];ic(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:n.blur=o,s++):n.color=ec.parse(t,o)}return n})}},LO={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},QO={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=TO[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},IO=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},PO=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,n,s,i,o,l]:null},TO={matrix:IO,matrix3d:PO},S_={type:16,number:50,flags:ep},OO=[S_,S_],RO={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(vs);return r.length!==2?OO:[r[0],r[1]]}},DO={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Yd;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Yd||(Yd={}));var MO={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Yd.BREAK_ALL;case"keep-all":return Yd.KEEP_ALL;case"normal":default:return Yd.NORMAL}}},HO={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Yh(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},TN={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},KO={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Yh(e)?e.number:1}},qO={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zO={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(sn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},VO={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},WO={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},GO={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Yh(e))return e.number;if(sn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},$O={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(sn).map(function(r){return r.value})}},JO={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Fs=function(t,e){return(t&e)!==0},ZO={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},XO={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(wN),i=0;i<s.length;i++){var o=s[i],l=s[i+1];if(o.type===20){var c=l&&Yh(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},YO={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(wN),s=0;s<n.length;s++){var i=n[s],o=n[s+1];if(sn(i)&&i.value!=="none"){var l=o&&Yh(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},eR={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(tp).map(function(r){return TN.parse(t,r)})}},tR={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(ST);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,l=s[i+1].value;n.push({open:o,close:l})}return n}},E_=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},rR={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Uw(e[0],"none")?[]:wA(e).map(function(r){for(var n={color:255,offsetX:ei,offsetY:ei,blur:ei,spread:ei,inset:!1},s=0,i=0;i<r.length;i++){var o=r[i];Uw(o,"inset")?n.inset=!0:ic(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:s===2?n.blur=o:n.spread=o,s++):n.color=ec.parse(t,o)}return n})}},nR={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(sn).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},sR={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},iR={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return tp(e)?e.number:0}},aR=function(){function t(e,r){var n,s;this.animationDuration=zt(e,eR,r.animationDuration),this.backgroundClip=zt(e,jT,r.backgroundClip),this.backgroundColor=zt(e,UT,r.backgroundColor),this.backgroundImage=zt(e,MT,r.backgroundImage),this.backgroundOrigin=zt(e,HT,r.backgroundOrigin),this.backgroundPosition=zt(e,KT,r.backgroundPosition),this.backgroundRepeat=zt(e,qT,r.backgroundRepeat),this.backgroundSize=zt(e,VT,r.backgroundSize),this.borderTopColor=zt(e,GT,r.borderTopColor),this.borderRightColor=zt(e,$T,r.borderRightColor),this.borderBottomColor=zt(e,JT,r.borderBottomColor),this.borderLeftColor=zt(e,ZT,r.borderLeftColor),this.borderTopLeftRadius=zt(e,XT,r.borderTopLeftRadius),this.borderTopRightRadius=zt(e,YT,r.borderTopRightRadius),this.borderBottomRightRadius=zt(e,eO,r.borderBottomRightRadius),this.borderBottomLeftRadius=zt(e,tO,r.borderBottomLeftRadius),this.borderTopStyle=zt(e,rO,r.borderTopStyle),this.borderRightStyle=zt(e,nO,r.borderRightStyle),this.borderBottomStyle=zt(e,sO,r.borderBottomStyle),this.borderLeftStyle=zt(e,iO,r.borderLeftStyle),this.borderTopWidth=zt(e,aO,r.borderTopWidth),this.borderRightWidth=zt(e,oO,r.borderRightWidth),this.borderBottomWidth=zt(e,AO,r.borderBottomWidth),this.borderLeftWidth=zt(e,lO,r.borderLeftWidth),this.boxShadow=zt(e,rR,r.boxShadow),this.color=zt(e,cO,r.color),this.direction=zt(e,uO,r.direction),this.display=zt(e,hO,r.display),this.float=zt(e,fO,r.cssFloat),this.fontFamily=zt(e,VO,r.fontFamily),this.fontSize=zt(e,WO,r.fontSize),this.fontStyle=zt(e,JO,r.fontStyle),this.fontVariant=zt(e,$O,r.fontVariant),this.fontWeight=zt(e,GO,r.fontWeight),this.letterSpacing=zt(e,pO,r.letterSpacing),this.lineBreak=zt(e,mO,r.lineBreak),this.lineHeight=zt(e,gO,r.lineHeight),this.listStyleImage=zt(e,vO,r.listStyleImage),this.listStylePosition=zt(e,yO,r.listStylePosition),this.listStyleType=zt(e,kw,r.listStyleType),this.marginTop=zt(e,wO,r.marginTop),this.marginRight=zt(e,xO,r.marginRight),this.marginBottom=zt(e,bO,r.marginBottom),this.marginLeft=zt(e,_O,r.marginLeft),this.opacity=zt(e,KO,r.opacity);var i=zt(e,BO,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=zt(e,CO,r.overflowWrap),this.paddingTop=zt(e,NO,r.paddingTop),this.paddingRight=zt(e,SO,r.paddingRight),this.paddingBottom=zt(e,EO,r.paddingBottom),this.paddingLeft=zt(e,FO,r.paddingLeft),this.paintOrder=zt(e,nR,r.paintOrder),this.position=zt(e,UO,r.position),this.textAlign=zt(e,jO,r.textAlign),this.textDecorationColor=zt(e,qO,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=zt(e,zO,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=zt(e,kO,r.textShadow),this.textTransform=zt(e,LO,r.textTransform),this.transform=zt(e,QO,r.transform),this.transformOrigin=zt(e,RO,r.transformOrigin),this.visibility=zt(e,DO,r.visibility),this.webkitTextStrokeColor=zt(e,sR,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=zt(e,iR,r.webkitTextStrokeWidth),this.wordBreak=zt(e,MO,r.wordBreak),this.zIndex=zt(e,HO,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return tc(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Fs(this.display,4)||Fs(this.display,33554432)||Fs(this.display,268435456)||Fs(this.display,536870912)||Fs(this.display,67108864)||Fs(this.display,134217728)},t}(),oR=function(){function t(e,r){this.content=zt(e,ZO,r.content),this.quotes=zt(e,tR,r.quotes)}return t}(),F_=function(){function t(e,r){this.counterIncrement=zt(e,XO,r.counterIncrement),this.counterReset=zt(e,YO,r.counterReset)}return t}(),zt=function(t,e,r){var n=new vN,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new yN(n.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,sn(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return e0.parse(t,i.parseComponentValue());case"color":return ec.parse(t,i.parseComponentValue());case"image":return fx.parse(t,i.parseComponentValue());case"length":var l=i.parseComponentValue();return ic(l)?l:ei;case"length-percentage":var c=i.parseComponentValue();return vs(c)?c:ei;case"time":return TN.parse(t,i.parseComponentValue())}break}},AR="data-html2canvas-debug",lR=function(t){var e=t.getAttribute(AR);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Lw=function(t,e){var r=lR(t);return r===1||e===r},xA=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Lw(r,3))debugger;this.styles=new aR(e,window.getComputedStyle(r,null)),Pw(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Xg(this.context,r),Lw(r,4)&&(this.flags|=16)}return t}(),cR="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",j_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Id=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var im=0;im<j_.length;im++)Id[j_.charCodeAt(im)]=im;var uR=function(t){var e=t.length*.75,r=t.length,n,s=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<r;n+=4)i=Id[t.charCodeAt(n)],o=Id[t.charCodeAt(n+1)],l=Id[t.charCodeAt(n+2)],c=Id[t.charCodeAt(n+3)],p[s++]=i<<2|o>>4,p[s++]=(o&15)<<4|l>>2,p[s++]=(l&3)<<6|c&63;return h},hR=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},dR=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Jc=5,px=11,xv=2,fR=px-Jc,ON=65536>>Jc,pR=1<<Jc,bv=pR-1,mR=1024>>Jc,gR=ON+mR,vR=gR,yR=32,wR=vR+yR,xR=65536>>px,bR=1<<fR,_R=bR-1,U_=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},BR=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},CR=function(t,e){var r=uR(t),n=Array.isArray(r)?dR(r):new Uint32Array(r),s=Array.isArray(r)?hR(r):new Uint16Array(r),i=24,o=U_(s,i/2,n[4]/2),l=n[5]===2?U_(s,(i+n[4])/2):BR(n,Math.ceil((i+n[4])/4));return new NR(n[0],n[1],n[2],n[3],o,l)},NR=function(){function t(e,r,n,s,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Jc],r=(r<<xv)+(e&bv),this.data[r];if(e<=65535)return r=this.index[ON+(e-55296>>Jc)],r=(r<<xv)+(e&bv),this.data[r];if(e<this.highStart)return r=wR-xR+(e>>px),r=this.index[r],r+=e>>Jc&_R,r=this.index[r],r=(r<<xv)+(e&bv),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),k_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SR=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var am=0;am<k_.length;am++)SR[k_.charCodeAt(am)]=am;var ER=1,_v=2,Bv=3,L_=4,Q_=5,FR=7,I_=8,Cv=9,Nv=10,P_=11,T_=12,O_=13,R_=14,Sv=15,jR=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},UR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var o=t[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},kR=CR(cR),Za="",Ev="",LR=function(t){return kR.get(t)},QR=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],o=e[r];if(i===_v&&o===Bv)return Za;if(i===_v||i===Bv||i===L_||o===_v||o===Bv||o===L_)return Ev;if(i===I_&&[I_,Cv,P_,T_].indexOf(o)!==-1||(i===P_||i===Cv)&&(o===Cv||o===Nv)||(i===T_||i===Nv)&&o===Nv||o===O_||o===Q_||o===FR||i===ER)return Za;if(i===O_&&o===R_){for(;s===Q_;)s=e[--n];if(s===R_)return Za}if(i===Sv&&o===Sv){for(var l=0;s===Sv;)l++,s=e[--n];if(l%2===0)return Za}return Ev},IR=function(t){var e=jR(t),r=e.length,n=0,s=0,i=e.map(LR);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Za;n<r&&(o=QR(e,i,++n))===Za;);if(o!==Za||n===r){var l=UR.apply(null,e.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},PR=function(t){for(var e=IR(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},TR=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},OR=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=Yg(n.data).map(function(c){return ss(c)}),i=0,o={},l=s.every(function(c,h){r.setStart(n,i),r.setEnd(n,i+c.length);var p=r.getBoundingClientRect();i+=c.length;var g=p.x>o.x||p.y>o.y;return o=p,h===0?!0:g});return t.body.removeChild(e),l},RR=function(){return typeof new Image().crossOrigin<"u"},DR=function(){return typeof new XMLHttpRequest().responseType=="string"},MR=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},D_=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},HR=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var o=Qw(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),M_(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var h=t.createElement("div");return h.style.backgroundImage="url("+i+")",h.style.height=r+"px",D_(c)?M_(Qw(r,r,0,0,h)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),D_(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Qw=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},M_=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ys={get SUPPORT_RANGE_BOUNDS(){var t=TR(document);return Object.defineProperty(Ys,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ys.SUPPORT_RANGE_BOUNDS&&OR(document);return Object.defineProperty(Ys,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=MR(document);return Object.defineProperty(Ys,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?HR(document):Promise.resolve(!1);return Object.defineProperty(Ys,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=RR();return Object.defineProperty(Ys,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=DR();return Object.defineProperty(Ys,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ys,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ys,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},ef=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),KR=function(t,e,r,n){var s=VR(e,r),i=[],o=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Ys.SUPPORT_RANGE_BOUNDS){var c=H_(n,o,l.length).getClientRects();if(c.length>1){var h=mx(l),p=0;h.forEach(function(w){i.push(new ef(w,el.fromDOMRectList(t,H_(n,p+o,w.length).getClientRects()))),p+=w.length})}else i.push(new ef(l,el.fromDOMRectList(t,c)))}else{var g=n.splitText(l.length);i.push(new ef(l,qR(t,n))),n=g}else Ys.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},qR=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=Xg(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return el.EMPTY},H_=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},mx=function(t){if(Ys.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return PR(t)},zR=function(t,e){if(Ys.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return GR(t,e)},VR=function(t,e){return e.letterSpacing!==0?mx(t):zR(t,e)},WR=[32,160,4961,65792,65793,4153,4241],GR=function(t,e){for(var r=x6(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var o=s.value.slice(),l=Yg(o),c="";l.forEach(function(h){WR.indexOf(h)===-1?c+=ss(h):(c.length&&n.push(c),n.push(ss(h)),c="")}),c.length&&n.push(c)}};!(s=r.next()).done;)i();return n},$R=function(){function t(e,r,n){this.text=JR(r.data,n.textTransform),this.textBounds=KR(e,this.text,n,r)}return t}(),JR=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(ZR,XR);case 2:return t.toUpperCase();default:return t}},ZR=/(^|\s|:|-|\(|\))([a-z])/g,XR=function(t,e,r){return t.length>0?e+r.toUpperCase():t},RN=function(t){Ko(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(xA),DN=function(t){Ko(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(xA),MN=function(t){Ko(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,o=Xg(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(xA),HN=function(t){Ko(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(xA),Iw=function(t){Ko(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(xA),YR=[{type:15,flags:0,unit:"px",number:3}],eD=[{type:16,flags:0,number:50}],tD=function(t){return t.width>t.height?new el(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new el(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},rD=function(t){var e=t.type===nD?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},gg="checkbox",vg="radio",nD="password",K_=707406591,gx=function(t){Ko(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=rD(n),(s.type===gg||s.type===vg)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=tD(s.bounds)),s.type){case gg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=YR;break;case vg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=eD;break}return s}return e}(xA),KN=function(t){Ko(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(xA),qN=function(t){Ko(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(xA),zN=function(t){Ko(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=WN(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Xd(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):GA.TRANSPARENT,o=n.contentWindow.document.body?Xd(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):GA.TRANSPARENT;s.backgroundColor=tc(i)?tc(o)?s.styles.backgroundColor:o:i}}catch{}return s}return e}(xA),sD=["OL","UL","MENU"],jm=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,GN(s)&&s.data.trim().length>0)r.textNodes.push(new $R(t,s,r.styles));else if(Ah(s))if(XN(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return jm(t,l,r,n)});else{var o=VN(t,s);o.styles.isVisible()&&(iD(s,o,n)?o.flags|=4:aD(o.styles)&&(o.flags|=2),sD.indexOf(s.tagName)!==-1&&(o.flags|=8),r.elements.push(o),s.slot,s.shadowRoot?jm(t,s.shadowRoot,o,n):!yg(s)&&!$N(s)&&!wg(s)&&jm(t,s,o,n))}},VN=function(t,e){return Tw(e)?new RN(t,e):JN(e)?new DN(t,e):$N(e)?new MN(t,e):oD(e)?new HN(t,e):AD(e)?new Iw(t,e):lD(e)?new gx(t,e):wg(e)?new KN(t,e):yg(e)?new qN(t,e):ZN(e)?new zN(t,e):new xA(t,e)},WN=function(t,e){var r=VN(t,e);return r.flags|=4,jm(t,e,r,r),r},iD=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||vx(t)&&r.styles.isTransparent()},aD=function(t){return t.isPositioned()||t.isFloating()},GN=function(t){return t.nodeType===Node.TEXT_NODE},Ah=function(t){return t.nodeType===Node.ELEMENT_NODE},Pw=function(t){return Ah(t)&&typeof t.style<"u"&&!Um(t)},Um=function(t){return typeof t.className=="object"},oD=function(t){return t.tagName==="LI"},AD=function(t){return t.tagName==="OL"},lD=function(t){return t.tagName==="INPUT"},cD=function(t){return t.tagName==="HTML"},$N=function(t){return t.tagName==="svg"},vx=function(t){return t.tagName==="BODY"},JN=function(t){return t.tagName==="CANVAS"},q_=function(t){return t.tagName==="VIDEO"},Tw=function(t){return t.tagName==="IMG"},ZN=function(t){return t.tagName==="IFRAME"},z_=function(t){return t.tagName==="STYLE"},uD=function(t){return t.tagName==="SCRIPT"},yg=function(t){return t.tagName==="TEXTAREA"},wg=function(t){return t.tagName==="SELECT"},XN=function(t){return t.tagName==="SLOT"},V_=function(t){return t.tagName.indexOf("-")>0},hD=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&s.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t}(),W_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},G_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},dD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},fD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Tu=function(t,e,r,n,s,i){return t<e||t>r?Tf(t,s,i.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+i},YN=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},ns=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(YN(Math.abs(t),i,n,function(o){return ss(Math.floor(o%i)+e)})+s)},wc=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return YN(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},zu=1,vl=2,yl=4,Pd=8,LA=function(t,e,r,n,s,i){if(t<-9999||t>9999)return Tf(t,4,s.length>0);var o=Math.abs(t),l=s;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var h=o%10;h===0&&Fs(i,zu)&&l!==""?l=e[h]+l:h>1||h===1&&c===0||h===1&&c===1&&Fs(i,vl)||h===1&&c===1&&Fs(i,yl)&&t>100||h===1&&c>1&&Fs(i,Pd)?l=e[h]+(c>0?r[c-1]:"")+l:h===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},$_="",J_="",Z_="",Fv="",Tf=function(t,e,r){var n=r?". ":"",s=r?"":"",i=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=ns(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return wc(t,"",s);case 6:return Tu(t,1,3999,W_,3,n).toLowerCase();case 7:return Tu(t,1,3999,W_,3,n);case 8:return ns(t,945,969,!1,n);case 9:return ns(t,97,122,!1,n);case 10:return ns(t,65,90,!1,n);case 11:return ns(t,1632,1641,!0,n);case 12:case 49:return Tu(t,1,9999,G_,3,n);case 35:return Tu(t,1,9999,G_,3,n).toLowerCase();case 13:return ns(t,2534,2543,!0,n);case 14:case 30:return ns(t,6112,6121,!0,n);case 15:return wc(t,"",s);case 16:return wc(t,"",s);case 17:case 48:return LA(t,"",$_,"",s,vl|yl|Pd);case 47:return LA(t,"",J_,"",s,zu|vl|yl|Pd);case 42:return LA(t,"",$_,"",s,vl|yl|Pd);case 41:return LA(t,"",J_,"",s,zu|vl|yl|Pd);case 26:return LA(t,"","",Z_,s,0);case 25:return LA(t,"","",Z_,s,zu|vl|yl);case 31:return LA(t,"","",Fv,i,zu|vl|yl);case 33:return LA(t,"","",Fv,i,0);case 32:return LA(t,"","",Fv,i,zu|vl|yl);case 18:return ns(t,2406,2415,!0,n);case 20:return Tu(t,1,19999,fD,3,n);case 21:return ns(t,2790,2799,!0,n);case 22:return ns(t,2662,2671,!0,n);case 22:return Tu(t,1,10999,dD,3,n);case 23:return wc(t,"");case 24:return wc(t,"");case 27:return ns(t,3302,3311,!0,n);case 28:return wc(t,"",s);case 29:return wc(t,"",s);case 34:return ns(t,3792,3801,!0,n);case 37:return ns(t,6160,6169,!0,n);case 38:return ns(t,4160,4169,!0,n);case 39:return ns(t,2918,2927,!0,n);case 40:return ns(t,1776,1785,!0,n);case 43:return ns(t,3046,3055,!0,n);case 44:return ns(t,3174,3183,!0,n);case 45:return ns(t,3664,3673,!0,n);case 46:return ns(t,3872,3881,!0,n);case 3:default:return ns(t,48,57,!0,n)}},eS="data-html2canvas-ignore",X_=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new hD,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=pD(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=s.contentWindow,c=l.document,h=vD(s).then(function(){return Pi(n,void 0,void 0,function(){var p,g;return mi(this,function(w){switch(w.label){case 0:return this.scrolledElements.forEach(bD),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),p=this.options.onclone,g=this.clonedReferenceElement,typeof g>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:w.sent(),w.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,gD(c)]:[3,4];case 3:w.sent(),w.label=4;case 4:return typeof p=="function"?[2,Promise.resolve().then(function(){return p(c,g)}).then(function(){return s})]:[2,s]}})})});return c.open(),c.write(wD(document.doctype)+"<html></html>"),xD(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),h},t.prototype.createElementClone=function(e){if(Lw(e,2))debugger;if(JN(e))return this.createCanvasClone(e);if(q_(e))return this.createVideoClone(e);if(z_(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Tw(r)&&(Tw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),V_(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return jv(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!Ah(r)||!uD(r)&&!r.hasAttribute(eS)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Ah(r)||!z_(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Ah(i)&&XN(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(GN(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ah(e)&&(Pw(e)||Um(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&Pw(s)&&(this.clonedReferenceElement=s),vx(s)&&CD(s);var c=this.counters.parse(new F_(this.context,i)),h=this.resolvePseudoContent(e,s,o,tf.BEFORE);V_(e)&&(r=!0),q_(e)||this.cloneChildNodes(e,s,r),h&&s.insertBefore(h,s.firstChild);var p=this.resolvePseudoContent(e,s,l,tf.AFTER);return p&&s.appendChild(p),this.counters.pop(c),(i&&(this.options.copyStyles||Um(e))&&!ZN(e)||r)&&jv(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(yg(e)||wg(e))&&(yg(s)||wg(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new F_(this.context,n));var c=new oR(this.context,n),h=l.createElement("html2canvaspseudoelement");jv(n,h),c.content.forEach(function(g){if(g.type===0)h.appendChild(l.createTextNode(g.value));else if(g.type===22){var w=l.createElement("img");w.src=g.value,w.style.opacity="1",h.appendChild(w)}else if(g.type===18){if(g.name==="attr"){var y=g.values.filter(sn);y.length&&h.appendChild(l.createTextNode(e.getAttribute(y[0].value)||""))}else if(g.name==="counter"){var F=g.values.filter(Kh),S=F[0],Q=F[1];if(S&&sn(S)){var _=i.counters.getCounterValue(S.value),B=Q&&sn(Q)?kw.parse(i.context,Q.value):3;h.appendChild(l.createTextNode(Tf(_,B,!1)))}}else if(g.name==="counters"){var j=g.values.filter(Kh),S=j[0],T=j[1],Q=j[2];if(S&&sn(S)){var V=i.counters.getCounterValues(S.value),K=Q&&sn(Q)?kw.parse(i.context,Q.value):3,G=T&&T.type===0?T.value:"",M=V.map(function(D){return Tf(D,K,!1)}).join(G);h.appendChild(l.createTextNode(M))}}}else if(g.type===20)switch(g.value){case"open-quote":h.appendChild(l.createTextNode(E_(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":h.appendChild(l.createTextNode(E_(c.quotes,--i.quoteDepth,!1)));break;default:h.appendChild(l.createTextNode(g.value))}}),h.className=Ow+" "+Rw;var p=s===tf.BEFORE?" "+Ow:" "+Rw;return Um(r)?r.className.baseValue+=p:r.className+=p,h}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),tf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(tf||(tf={}));var pD=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(eS,"true"),t.body.appendChild(r),r},mD=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},gD=function(t){return Promise.all([].slice.call(t.images,0).map(mD))},vD=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},yD=["all","d","content"],jv=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);yD.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},wD=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},xD=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},bD=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},_D=":before",BD=":after",Ow="___html2canvas___pseudoelement_before",Rw="___html2canvas___pseudoelement_after",Y_=`{
    content: "" !important;
    display: none !important;
}`,CD=function(t){ND(t,"."+Ow+_D+Y_+`
         .`+Rw+BD+Y_)},ND=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},tS=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),SD=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(kv(e)||UD(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Pi(this,void 0,void 0,function(){var r,n,s,i,o=this;return mi(this,function(l){switch(l.label){case 0:return r=tS.isSameOrigin(e),n=!Uv(e)&&this._options.useCORS===!0&&Ys.SUPPORT_CORS_IMAGES&&!r,s=!Uv(e)&&!r&&!kv(e)&&typeof this._options.proxy=="string"&&Ys.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Uv(e)&&!kv(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,h){var p=new Image;p.onload=function(){return c(p)},p.onerror=h,(kD(i)||n)&&(p.crossOrigin="anonymous"),p.src=i,p.complete===!0&&setTimeout(function(){return c(p)},500),o._options.imageTimeout>0&&setTimeout(function(){return h("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,o){var l=Ys.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var g=new FileReader;g.addEventListener("load",function(){return i(g.result)},!1),g.addEventListener("error",function(w){return o(w)},!1),g.readAsDataURL(c.response)}else o("Failed to proxy resource "+s+" with status code "+c.status)},c.onerror=o;var h=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+h+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var p=r._options.imageTimeout;c.timeout=p,c.ontimeout=function(){return o("Timed out ("+p+"ms) proxying "+s)}}c.send()})},t}(),ED=/^data:image\/svg\+xml/i,FD=/^data:image\/.*;base64,/i,jD=/^data:image\/.*/i,UD=function(t){return Ys.SUPPORT_SVG_DRAWING||!LD(t)},Uv=function(t){return jD.test(t)},kD=function(t){return FD.test(t)},kv=function(t){return t.substr(0,4)==="blob"},LD=function(t){return t.substr(-3).toLowerCase()==="svg"||ED.test(t)},Mt=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Ou=function(t,e,r){return new Mt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},om=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=Ou(this.start,this.startControl,e),s=Ou(this.startControl,this.endControl,e),i=Ou(this.endControl,this.end,e),o=Ou(n,s,e),l=Ou(s,i,e),c=Ou(o,l,e);return r?new t(this.start,n,o,c):new t(c,l,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ro=function(t){return t.type===1},QD=function(){function t(e){var r=e.styles,n=e.bounds,s=Qd(r.borderTopLeftRadius,n.width,n.height),i=s[0],o=s[1],l=Qd(r.borderTopRightRadius,n.width,n.height),c=l[0],h=l[1],p=Qd(r.borderBottomRightRadius,n.width,n.height),g=p[0],w=p[1],y=Qd(r.borderBottomLeftRadius,n.width,n.height),F=y[0],S=y[1],Q=[];Q.push((i+c)/n.width),Q.push((F+g)/n.width),Q.push((o+S)/n.height),Q.push((h+w)/n.height);var _=Math.max.apply(Math,Q);_>1&&(i/=_,o/=_,c/=_,h/=_,g/=_,w/=_,F/=_,S/=_);var B=n.width-c,j=n.height-w,T=n.width-g,V=n.height-S,K=r.borderTopWidth,G=r.borderRightWidth,M=r.borderBottomWidth,Z=r.borderLeftWidth,oe=hn(r.paddingTop,e.bounds.width),D=hn(r.paddingRight,e.bounds.width),R=hn(r.paddingBottom,e.bounds.width),re=hn(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Cn(n.left+Z/3,n.top+K/3,i-Z/3,o-K/3,Vr.TOP_LEFT):new Mt(n.left+Z/3,n.top+K/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Cn(n.left+B,n.top+K/3,c-G/3,h-K/3,Vr.TOP_RIGHT):new Mt(n.left+n.width-G/3,n.top+K/3),this.bottomRightBorderDoubleOuterBox=g>0||w>0?Cn(n.left+T,n.top+j,g-G/3,w-M/3,Vr.BOTTOM_RIGHT):new Mt(n.left+n.width-G/3,n.top+n.height-M/3),this.bottomLeftBorderDoubleOuterBox=F>0||S>0?Cn(n.left+Z/3,n.top+V,F-Z/3,S-M/3,Vr.BOTTOM_LEFT):new Mt(n.left+Z/3,n.top+n.height-M/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Cn(n.left+Z*2/3,n.top+K*2/3,i-Z*2/3,o-K*2/3,Vr.TOP_LEFT):new Mt(n.left+Z*2/3,n.top+K*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Cn(n.left+B,n.top+K*2/3,c-G*2/3,h-K*2/3,Vr.TOP_RIGHT):new Mt(n.left+n.width-G*2/3,n.top+K*2/3),this.bottomRightBorderDoubleInnerBox=g>0||w>0?Cn(n.left+T,n.top+j,g-G*2/3,w-M*2/3,Vr.BOTTOM_RIGHT):new Mt(n.left+n.width-G*2/3,n.top+n.height-M*2/3),this.bottomLeftBorderDoubleInnerBox=F>0||S>0?Cn(n.left+Z*2/3,n.top+V,F-Z*2/3,S-M*2/3,Vr.BOTTOM_LEFT):new Mt(n.left+Z*2/3,n.top+n.height-M*2/3),this.topLeftBorderStroke=i>0||o>0?Cn(n.left+Z/2,n.top+K/2,i-Z/2,o-K/2,Vr.TOP_LEFT):new Mt(n.left+Z/2,n.top+K/2),this.topRightBorderStroke=i>0||o>0?Cn(n.left+B,n.top+K/2,c-G/2,h-K/2,Vr.TOP_RIGHT):new Mt(n.left+n.width-G/2,n.top+K/2),this.bottomRightBorderStroke=g>0||w>0?Cn(n.left+T,n.top+j,g-G/2,w-M/2,Vr.BOTTOM_RIGHT):new Mt(n.left+n.width-G/2,n.top+n.height-M/2),this.bottomLeftBorderStroke=F>0||S>0?Cn(n.left+Z/2,n.top+V,F-Z/2,S-M/2,Vr.BOTTOM_LEFT):new Mt(n.left+Z/2,n.top+n.height-M/2),this.topLeftBorderBox=i>0||o>0?Cn(n.left,n.top,i,o,Vr.TOP_LEFT):new Mt(n.left,n.top),this.topRightBorderBox=c>0||h>0?Cn(n.left+B,n.top,c,h,Vr.TOP_RIGHT):new Mt(n.left+n.width,n.top),this.bottomRightBorderBox=g>0||w>0?Cn(n.left+T,n.top+j,g,w,Vr.BOTTOM_RIGHT):new Mt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=F>0||S>0?Cn(n.left,n.top+V,F,S,Vr.BOTTOM_LEFT):new Mt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?Cn(n.left+Z,n.top+K,Math.max(0,i-Z),Math.max(0,o-K),Vr.TOP_LEFT):new Mt(n.left+Z,n.top+K),this.topRightPaddingBox=c>0||h>0?Cn(n.left+Math.min(B,n.width-G),n.top+K,B>n.width+G?0:Math.max(0,c-G),Math.max(0,h-K),Vr.TOP_RIGHT):new Mt(n.left+n.width-G,n.top+K),this.bottomRightPaddingBox=g>0||w>0?Cn(n.left+Math.min(T,n.width-Z),n.top+Math.min(j,n.height-M),Math.max(0,g-G),Math.max(0,w-M),Vr.BOTTOM_RIGHT):new Mt(n.left+n.width-G,n.top+n.height-M),this.bottomLeftPaddingBox=F>0||S>0?Cn(n.left+Z,n.top+Math.min(V,n.height-M),Math.max(0,F-Z),Math.max(0,S-M),Vr.BOTTOM_LEFT):new Mt(n.left+Z,n.top+n.height-M),this.topLeftContentBox=i>0||o>0?Cn(n.left+Z+re,n.top+K+oe,Math.max(0,i-(Z+re)),Math.max(0,o-(K+oe)),Vr.TOP_LEFT):new Mt(n.left+Z+re,n.top+K+oe),this.topRightContentBox=c>0||h>0?Cn(n.left+Math.min(B,n.width+Z+re),n.top+K+oe,B>n.width+Z+re?0:c-Z+re,h-(K+oe),Vr.TOP_RIGHT):new Mt(n.left+n.width-(G+D),n.top+K+oe),this.bottomRightContentBox=g>0||w>0?Cn(n.left+Math.min(T,n.width-(Z+re)),n.top+Math.min(j,n.height+K+oe),Math.max(0,g-(G+D)),w-(M+R),Vr.BOTTOM_RIGHT):new Mt(n.left+n.width-(G+D),n.top+n.height-(M+R)),this.bottomLeftContentBox=F>0||S>0?Cn(n.left+Z+re,n.top+V,Math.max(0,F-(Z+re)),S-(M+R),Vr.BOTTOM_LEFT):new Mt(n.left+Z+re,n.top+n.height-(M+R))}return t}(),Vr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Vr||(Vr={}));var Cn=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,c=t+r,h=e+n;switch(s){case Vr.TOP_LEFT:return new om(new Mt(t,h),new Mt(t,h-l),new Mt(c-o,e),new Mt(c,e));case Vr.TOP_RIGHT:return new om(new Mt(t,e),new Mt(t+o,e),new Mt(c,h-l),new Mt(c,h));case Vr.BOTTOM_RIGHT:return new om(new Mt(c,e),new Mt(c,e+l),new Mt(t+o,h),new Mt(t,h));case Vr.BOTTOM_LEFT:default:return new om(new Mt(c,h),new Mt(c-o,h),new Mt(t,e+l),new Mt(t,e))}},xg=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},ID=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},bg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},PD=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Am=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),TD=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),OD=function(t){return t.type===0},rS=function(t){return t.type===1},RD=function(t){return t.type===2},eB=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},DD=function(t,e,r,n,s){return t.map(function(i,o){switch(o){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},nS=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),sS=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new QD(this.container),this.container.styles.opacity<1&&this.effects.push(new TD(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new PD(n,s,i))}if(this.container.styles.overflowX!==0){var o=xg(this.curves),l=bg(this.curves);eB(o,l)?this.effects.push(new Am(o,6)):(this.effects.push(new Am(o,2)),this.effects.push(new Am(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!rS(c)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=xg(n.curves),l=bg(n.curves);eB(o,l)||s.unshift(new Am(l,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(c){return Fs(c.target,e)})},t}(),Dw=function(t,e,r,n){t.container.elements.forEach(function(s){var i=Fs(s.flags,4),o=Fs(s.flags,2),l=new sS(s,t);Fs(s.styles.display,2048)&&n.push(l);var c=Fs(s.flags,8)?[]:n;if(i||o){var h=i||s.styles.isPositioned()?r:e,p=new nS(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var g=s.styles.zIndex.order;if(g<0){var w=0;h.negativeZIndex.some(function(F,S){return g>F.element.container.styles.zIndex.order?(w=S,!1):w>0}),h.negativeZIndex.splice(w,0,p)}else if(g>0){var y=0;h.positiveZIndex.some(function(F,S){return g>=F.element.container.styles.zIndex.order?(y=S+1,!1):y>0}),h.positiveZIndex.splice(y,0,p)}else h.zeroOrAutoZIndexOrTransformedOrOpacity.push(p)}else s.styles.isFloating()?h.nonPositionedFloats.push(p):h.nonPositionedInlineLevel.push(p);Dw(l,p,i?p:r,c)}else s.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),Dw(l,e,r,c);Fs(s.flags,8)&&iS(s,c)})},iS=function(t,e){for(var r=t instanceof Iw?t.start:1,n=t instanceof Iw?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof HN&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Tf(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},MD=function(t){var e=new sS(t,null),r=new nS(e),n=[];return Dw(e,r,r,n),iS(e.container,n),r},tB=function(t,e){switch(e){case 0:return ao(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ao(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ao(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return ao(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},HD=function(t,e){switch(e){case 0:return ao(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ao(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ao(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return ao(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},KD=function(t,e){switch(e){case 0:return ao(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ao(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ao(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return ao(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},qD=function(t,e){switch(e){case 0:return lm(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return lm(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return lm(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return lm(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},lm=function(t,e){var r=[];return ro(t)?r.push(t.subdivide(.5,!1)):r.push(t),ro(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},ao=function(t,e,r,n){var s=[];return ro(t)?s.push(t.subdivide(.5,!1)):s.push(t),ro(r)?s.push(r.subdivide(.5,!0)):s.push(r),ro(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),ro(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},aS=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},_g=function(t){var e=t.styles,r=t.bounds,n=hn(e.paddingLeft,r.width),s=hn(e.paddingRight,r.width),i=hn(e.paddingTop,r.width),o=hn(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+o))},zD=function(t,e){return t===0?e.bounds:t===2?_g(e):aS(e)},VD=function(t,e){return t===0?e.bounds:t===2?_g(e):aS(e)},Lv=function(t,e,r){var n=zD(Vu(t.styles.backgroundOrigin,e),t),s=VD(Vu(t.styles.backgroundClip,e),t),i=WD(Vu(t.styles.backgroundSize,e),r,n),o=i[0],l=i[1],c=Qd(Vu(t.styles.backgroundPosition,e),n.width-o,n.height-l),h=GD(Vu(t.styles.backgroundRepeat,e),c,i,n,s),p=Math.round(n.left+c[0]),g=Math.round(n.top+c[1]);return[h,p,g,o,l]},Ru=function(t){return sn(t)&&t.value===yh.AUTO},cm=function(t){return typeof t=="number"},WD=function(t,e,r){var n=e[0],s=e[1],i=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(vs(o)&&l&&vs(l))return[hn(o,r.width),hn(l,r.height)];var c=cm(i);if(sn(o)&&(o.value===yh.CONTAIN||o.value===yh.COVER)){if(cm(i)){var h=r.width/r.height;return h<i!=(o.value===yh.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var p=cm(n),g=cm(s),w=p||g;if(Ru(o)&&(!l||Ru(l))){if(p&&g)return[n,s];if(!c&&!w)return[r.width,r.height];if(w&&c){var y=p?n:s*i,F=g?s:n/i;return[y,F]}var S=p?n:r.width,Q=g?s:r.height;return[S,Q]}if(c){var _=0,B=0;return vs(o)?_=hn(o,r.width):vs(l)&&(B=hn(l,r.height)),Ru(o)?_=B*i:(!l||Ru(l))&&(B=_/i),[_,B]}var j=null,T=null;if(vs(o)?j=hn(o,r.width):l&&vs(l)&&(T=hn(l,r.height)),j!==null&&(!l||Ru(l))&&(T=p&&g?j/n*s:r.height),T!==null&&Ru(o)&&(j=p&&g?T/s*n:r.width),j!==null&&T!==null)return[j,T];throw new Error("Unable to calculate background-size for element")},Vu=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},GD=function(t,e,r,n,s){var i=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new Mt(Math.round(n.left),Math.round(n.top+o)),new Mt(Math.round(n.left+n.width),Math.round(n.top+o)),new Mt(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Mt(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Mt(Math.round(n.left+i),Math.round(n.top)),new Mt(Math.round(n.left+i+l),Math.round(n.top)),new Mt(Math.round(n.left+i+l),Math.round(n.height+n.top)),new Mt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Mt(Math.round(n.left+i),Math.round(n.top+o)),new Mt(Math.round(n.left+i+l),Math.round(n.top+o)),new Mt(Math.round(n.left+i+l),Math.round(n.top+o+c)),new Mt(Math.round(n.left+i),Math.round(n.top+o+c))];default:return[new Mt(Math.round(s.left),Math.round(s.top)),new Mt(Math.round(s.left+s.width),Math.round(s.top)),new Mt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Mt(Math.round(s.left),Math.round(s.height+s.top))]}},$D="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",rB="Hidden Text",JD=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),s.src=$D,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(rB)),n.appendChild(i),n.appendChild(s);var l=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(rB)),n.style.lineHeight="normal",s.style.verticalAlign="super";var c=s.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),oS=function(){function t(e,r){this.context=e,this.options=r}return t}(),ZD=1e4,XD=function(t){Ko(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new JD(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),RD(r)&&(this.ctx.globalAlpha=r.opacity),OD(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),rS(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Pi(this,void 0,void 0,function(){var n;return mi(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Pi(this,void 0,void 0,function(){return mi(this,function(n){switch(n.label){case 0:if(Fs(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var o=mx(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+s),l+i.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=n8(r.fontFamily).join(", "),i=tp(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return Pi(this,void 0,void 0,function(){var s,i,o,l,c,h,p,g,w=this;return mi(this,function(y){return s=this.createFontStyle(n),i=s[0],o=s[1],l=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),h=c.baseline,p=c.middle,g=n.paintOrder,r.textBounds.forEach(function(F){g.forEach(function(S){switch(S){case 0:w.ctx.fillStyle=Os(n.color),w.renderTextWithLetterSpacing(F,n.letterSpacing,h);var Q=n.textShadow;Q.length&&F.text.trim().length&&(Q.slice(0).reverse().forEach(function(_){w.ctx.shadowColor=Os(_.color),w.ctx.shadowOffsetX=_.offsetX.number*w.options.scale,w.ctx.shadowOffsetY=_.offsetY.number*w.options.scale,w.ctx.shadowBlur=_.blur.number,w.renderTextWithLetterSpacing(F,n.letterSpacing,h)}),w.ctx.shadowColor="",w.ctx.shadowOffsetX=0,w.ctx.shadowOffsetY=0,w.ctx.shadowBlur=0),n.textDecorationLine.length&&(w.ctx.fillStyle=Os(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(_){switch(_){case 1:w.ctx.fillRect(F.bounds.left,Math.round(F.bounds.top+h),F.bounds.width,1);break;case 2:w.ctx.fillRect(F.bounds.left,Math.round(F.bounds.top),F.bounds.width,1);break;case 3:w.ctx.fillRect(F.bounds.left,Math.ceil(F.bounds.top+p),F.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&F.text.trim().length&&(w.ctx.strokeStyle=Os(n.webkitTextStrokeColor),w.ctx.lineWidth=n.webkitTextStrokeWidth,w.ctx.lineJoin=window.chrome?"miter":"round",w.ctx.strokeText(F.text,F.bounds.left,F.bounds.top+h)),w.ctx.strokeStyle="",w.ctx.lineWidth=0,w.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=_g(r),o=bg(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Pi(this,void 0,void 0,function(){var n,s,i,o,l,c,B,B,h,p,g,w,T,y,F,V,S,Q,_,B,j,T,V;return mi(this,function(K){switch(K.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,o=0,l=n.textNodes,K.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:K.sent(),K.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof RN))return[3,8];K.label=5;case 5:return K.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return B=K.sent(),this.renderReplacedElement(n,s,B),[3,8];case 7:return K.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof DN&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof MN))return[3,12];K.label=9;case 9:return K.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return B=K.sent(),this.renderReplacedElement(n,s,B),[3,12];case 11:return K.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof zN&&n.tree?(h=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,h.render(n.tree)]):[3,14];case 13:p=K.sent(),n.width&&n.height&&this.ctx.drawImage(p,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),K.label=14;case 14:if(n instanceof gx&&(g=Math.min(n.bounds.width,n.bounds.height),n.type===gg?n.checked&&(this.ctx.save(),this.path([new Mt(n.bounds.left+g*.39363,n.bounds.top+g*.79),new Mt(n.bounds.left+g*.16,n.bounds.top+g*.5549),new Mt(n.bounds.left+g*.27347,n.bounds.top+g*.44071),new Mt(n.bounds.left+g*.39694,n.bounds.top+g*.5649),new Mt(n.bounds.left+g*.72983,n.bounds.top+g*.23),new Mt(n.bounds.left+g*.84,n.bounds.top+g*.34085),new Mt(n.bounds.left+g*.39363,n.bounds.top+g*.79)]),this.ctx.fillStyle=Os(K_),this.ctx.fill(),this.ctx.restore()):n.type===vg&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+g/2,n.bounds.top+g/2,g/4,0,Math.PI*2,!0),this.ctx.fillStyle=Os(K_),this.ctx.fill(),this.ctx.restore())),YD(n)&&n.value.length){switch(w=this.createFontStyle(i),T=w[0],y=w[1],F=this.fontMetrics.getMetrics(T,y).baseline,this.ctx.font=T,this.ctx.fillStyle=Os(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=t8(n.styles.textAlign),V=_g(n),S=0,n.styles.textAlign){case 1:S+=V.width/2;break;case 2:S+=V.width;break}Q=V.add(S,0,0,-V.height/2+1),this.ctx.save(),this.path([new Mt(V.left,V.top),new Mt(V.left+V.width,V.top),new Mt(V.left+V.width,V.top+V.height),new Mt(V.left,V.top+V.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ef(n.value,Q),i.letterSpacing,F),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Fs(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(_=n.styles.listStyleImage,_.type!==0)return[3,18];B=void 0,j=_.url,K.label=15;case 15:return K.trys.push([15,17,,18]),[4,this.context.cache.match(j)];case 16:return B=K.sent(),this.ctx.drawImage(B,n.bounds.left-(B.width+10),n.bounds.top),[3,18];case 17:return K.sent(),this.context.logger.error("Error loading list-style-image "+j),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(T=this.createFontStyle(i)[0],this.ctx.font=T,this.ctx.fillStyle=Os(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",V=new el(n.bounds.left,n.bounds.top+hn(n.styles.paddingTop,n.bounds.width),n.bounds.width,N_(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ef(r.listValue,V),i.letterSpacing,N_(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),K.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Pi(this,void 0,void 0,function(){var n,s,_,i,o,_,l,c,_,h,p,_,g,w,_,y,F,_,S,Q,_;return mi(this,function(B){switch(B.label){case 0:if(Fs(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:B.sent(),n=0,s=r.negativeZIndex,B.label=2;case 2:return n<s.length?(_=s[n],[4,this.renderStack(_)]):[3,5];case 3:B.sent(),B.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:B.sent(),i=0,o=r.nonInlineLevel,B.label=7;case 7:return i<o.length?(_=o[i],[4,this.renderNode(_)]):[3,10];case 8:B.sent(),B.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,B.label=11;case 11:return l<c.length?(_=c[l],[4,this.renderStack(_)]):[3,14];case 12:B.sent(),B.label=13;case 13:return l++,[3,11];case 14:h=0,p=r.nonPositionedInlineLevel,B.label=15;case 15:return h<p.length?(_=p[h],[4,this.renderStack(_)]):[3,18];case 16:B.sent(),B.label=17;case 17:return h++,[3,15];case 18:g=0,w=r.inlineLevel,B.label=19;case 19:return g<w.length?(_=w[g],[4,this.renderNode(_)]):[3,22];case 20:B.sent(),B.label=21;case 21:return g++,[3,19];case 22:y=0,F=r.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return y<F.length?(_=F[y],[4,this.renderStack(_)]):[3,26];case 24:B.sent(),B.label=25;case 25:return y++,[3,23];case 26:S=0,Q=r.positiveZIndex,B.label=27;case 27:return S<Q.length?(_=Q[S],[4,this.renderStack(_)]):[3,30];case 28:B.sent(),B.label=29;case 29:return S++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var o=ro(s)?s.start:s;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),ro(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,s),l},e.prototype.renderBackgroundImage=function(r){return Pi(this,void 0,void 0,function(){var n,s,i,o,l,c;return mi(this,function(h){switch(h.label){case 0:n=r.styles.backgroundImage.length-1,s=function(p){var g,w,y,oe,ve,Ue,re,ae,M,F,oe,ve,Ue,re,ae,S,Q,_,B,j,T,V,K,G,M,Z,oe,D,R,re,ae,Se,ve,Ue,H,ue,ee,me,P,$,se,ce;return mi(this,function(fe){switch(fe.label){case 0:if(p.type!==0)return[3,5];g=void 0,w=p.url,fe.label=1;case 1:return fe.trys.push([1,3,,4]),[4,i.context.cache.match(w)];case 2:return g=fe.sent(),[3,4];case 3:return fe.sent(),i.context.logger.error("Error loading background-image "+w),[3,4];case 4:return g&&(y=Lv(r,n,[g.width,g.height,g.width/g.height]),oe=y[0],ve=y[1],Ue=y[2],re=y[3],ae=y[4],M=i.ctx.createPattern(i.resizeImage(g,re,ae),"repeat"),i.renderRepeat(oe,M,ve,Ue)),[3,6];case 5:OT(p)?(F=Lv(r,n,[null,null,null]),oe=F[0],ve=F[1],Ue=F[2],re=F[3],ae=F[4],S=LT(p.angle,re,ae),Q=S[0],_=S[1],B=S[2],j=S[3],T=S[4],V=document.createElement("canvas"),V.width=re,V.height=ae,K=V.getContext("2d"),G=K.createLinearGradient(_,j,B,T),B_(p.stops,Q).forEach(function(Te){return G.addColorStop(Te.stop,Os(Te.color))}),K.fillStyle=G,K.fillRect(0,0,re,ae),re>0&&ae>0&&(M=i.ctx.createPattern(V,"repeat"),i.renderRepeat(oe,M,ve,Ue))):RT(p)&&(Z=Lv(r,n,[null,null,null]),oe=Z[0],D=Z[1],R=Z[2],re=Z[3],ae=Z[4],Se=p.position.length===0?[dx]:p.position,ve=hn(Se[0],re),Ue=hn(Se[Se.length-1],ae),H=QT(p,ve,Ue,re,ae),ue=H[0],ee=H[1],ue>0&&ee>0&&(me=i.ctx.createRadialGradient(D+ve,R+Ue,0,D+ve,R+Ue,ue),B_(p.stops,ue*2).forEach(function(Te){return me.addColorStop(Te.stop,Os(Te.color))}),i.path(oe),i.ctx.fillStyle=me,ue!==ee?(P=r.bounds.left+.5*r.bounds.width,$=r.bounds.top+.5*r.bounds.height,se=ee/ue,ce=1/se,i.ctx.save(),i.ctx.translate(P,$),i.ctx.transform(1,0,0,se,0,0),i.ctx.translate(-P,-$),i.ctx.fillRect(D,ce*(R-$)+$,re,ae*ce),i.ctx.restore()):i.ctx.fill())),fe.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),h.label=1;case 1:return o<l.length?(c=l[o],[5,s(c)]):[3,4];case 2:h.sent(),h.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return Pi(this,void 0,void 0,function(){return mi(this,function(i){return this.path(tB(s,n)),this.ctx.fillStyle=Os(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return Pi(this,void 0,void 0,function(){var o,l;return mi(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=HD(i,s),this.path(o),this.ctx.fillStyle=Os(r),this.ctx.fill(),l=KD(i,s),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Pi(this,void 0,void 0,function(){var n,s,i,o,l,c,h,p,g=this;return mi(this,function(w){switch(w.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!tc(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=e8(Vu(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),tc(n.backgroundColor)||(this.ctx.fillStyle=Os(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:w.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(y){g.ctx.save();var F=xg(r.curves),S=y.inset?0:ZD,Q=DD(F,-S+(y.inset?1:-1)*y.spread.number,(y.inset?1:-1)*y.spread.number,y.spread.number*(y.inset?-2:2),y.spread.number*(y.inset?-2:2));y.inset?(g.path(F),g.ctx.clip(),g.mask(Q)):(g.mask(F),g.ctx.clip(),g.path(Q)),g.ctx.shadowOffsetX=y.offsetX.number+S,g.ctx.shadowOffsetY=y.offsetY.number,g.ctx.shadowColor=Os(y.color),g.ctx.shadowBlur=y.blur.number,g.ctx.fillStyle=y.inset?Os(y.color):"rgba(0,0,0,1)",g.ctx.fill(),g.ctx.restore()}),w.label=2;case 2:l=0,c=0,h=i,w.label=3;case 3:return c<h.length?(p=h[c],p.style!==0&&!tc(p.color)&&p.width>0?p.style!==2?[3,5]:[4,this.renderDashedDottedBorder(p.color,p.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return w.sent(),[3,11];case 5:return p.style!==3?[3,7]:[4,this.renderDashedDottedBorder(p.color,p.width,l,r.curves,3)];case 6:return w.sent(),[3,11];case 7:return p.style!==4?[3,9]:[4,this.renderDoubleBorder(p.color,p.width,l,r.curves)];case 8:return w.sent(),[3,11];case 9:return[4,this.renderSolidBorder(p.color,l,r.curves)];case 10:w.sent(),w.label=11;case 11:l++,w.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,o){return Pi(this,void 0,void 0,function(){var l,c,h,p,g,w,y,F,S,Q,_,B,j,T,V,K,V,K;return mi(this,function(G){return this.ctx.save(),l=qD(i,s),c=tB(i,s),o===2&&(this.path(c),this.ctx.clip()),ro(c[0])?(h=c[0].start.x,p=c[0].start.y):(h=c[0].x,p=c[0].y),ro(c[1])?(g=c[1].end.x,w=c[1].end.y):(g=c[1].x,w=c[1].y),s===0||s===2?y=Math.abs(h-g):y=Math.abs(p-w),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),F=n<3?n*3:n*2,S=n<3?n*2:n,o===3&&(F=n,S=n),Q=!0,y<=F*2?Q=!1:y<=F*2+S?(_=y/(2*F+S),F*=_,S*=_):(B=Math.floor((y+S)/(F+S)),j=(y-B*F)/(B-1),T=(y-(B+1)*F)/B,S=T<=0||Math.abs(S-j)<Math.abs(S-T)?j:T),Q&&(o===3?this.ctx.setLineDash([0,F+S]):this.ctx.setLineDash([F,S])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Os(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ro(c[0])&&(V=c[3],K=c[0],this.ctx.beginPath(),this.formatPath([new Mt(V.end.x,V.end.y),new Mt(K.start.x,K.start.y)]),this.ctx.stroke()),ro(c[1])&&(V=c[1],K=c[2],this.ctx.beginPath(),this.formatPath([new Mt(V.end.x,V.end.y),new Mt(K.start.x,K.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Pi(this,void 0,void 0,function(){var n;return mi(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Os(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=MD(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(oS),YD=function(t){return t instanceof qN||t instanceof KN?!0:t instanceof gx&&t.type!==vg&&t.type!==gg},e8=function(t,e){switch(t){case 0:return xg(e);case 2:return ID(e);case 1:default:return bg(e)}},t8=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},r8=["-apple-system","system-ui"],n8=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return r8.indexOf(e)===-1}):t},s8=function(t){Ko(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return Pi(this,void 0,void 0,function(){var n,s;return mi(this,function(i){switch(i.label){case 0:return n=Qw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,i8(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Os(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(oS),i8=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},a8=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Hp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Hp([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Hp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Hp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),o8=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new a8({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new SD(this,e)}return t.instanceCount=1,t}(),AS=function(t,e){return e===void 0&&(e={}),A8(t,e)};typeof window<"u"&&tS.setContext(window);var A8=function(t,e){return Pi(void 0,void 0,void 0,function(){var r,n,s,i,o,l,c,h,p,g,w,y,F,S,Q,_,B,j,T,V,G,K,G,M,Z,oe,D,R,re,ae,Se,ve,Ue,H,ue,ee,me,P,$,se;return mi(this,function(ce){switch(ce.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(M=e.allowTaint)!==null&&M!==void 0?M:!1,imageTimeout:(Z=e.imageTimeout)!==null&&Z!==void 0?Z:15e3,proxy:e.proxy,useCORS:(oe=e.useCORS)!==null&&oe!==void 0?oe:!1},i=yw({logging:(D=e.logging)!==null&&D!==void 0?D:!0,cache:e.cache},s),o={windowWidth:(R=e.windowWidth)!==null&&R!==void 0?R:n.innerWidth,windowHeight:(re=e.windowHeight)!==null&&re!==void 0?re:n.innerHeight,scrollX:(ae=e.scrollX)!==null&&ae!==void 0?ae:n.pageXOffset,scrollY:(Se=e.scrollY)!==null&&Se!==void 0?Se:n.pageYOffset},l=new el(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new o8(i,l),h=(ve=e.foreignObjectRendering)!==null&&ve!==void 0?ve:!1,p={allowTaint:(Ue=e.allowTaint)!==null&&Ue!==void 0?Ue:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:h,copyStyles:h},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),g=new X_(c,t,p),w=g.clonedReferenceElement,w?[4,g.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=ce.sent(),F=vx(w)||cD(w)?DP(w.ownerDocument):Xg(c,w),S=F.width,Q=F.height,_=F.left,B=F.top,j=l8(c,w,e.backgroundColor),T={canvas:e.canvas,backgroundColor:j,scale:(ue=(H=e.scale)!==null&&H!==void 0?H:n.devicePixelRatio)!==null&&ue!==void 0?ue:1,x:((ee=e.x)!==null&&ee!==void 0?ee:0)+_,y:((me=e.y)!==null&&me!==void 0?me:0)+B,width:(P=e.width)!==null&&P!==void 0?P:Math.ceil(S),height:($=e.height)!==null&&$!==void 0?$:Math.ceil(Q)},h?(c.logger.debug("Document cloned, using foreign object rendering"),G=new s8(c,T),[4,G.render(w)]):[3,3];case 2:return V=ce.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+_+","+B+" with size "+S+"x"+Q+" using computed rendering"),c.logger.debug("Starting DOM parsing"),K=WN(c,w),j===K.styles.backgroundColor&&(K.styles.backgroundColor=GA.TRANSPARENT),c.logger.debug("Starting renderer for element at "+T.x+","+T.y+" with size "+T.width+"x"+T.height),G=new XD(c,T),[4,G.render(K)];case 4:V=ce.sent(),ce.label=5;case 5:return(!((se=e.removeContainer)!==null&&se!==void 0)||se)&&(X_.destroy(y)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,V]}})})},l8=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?Xd(t,getComputedStyle(n.documentElement).backgroundColor):GA.TRANSPARENT,i=n.body?Xd(t,getComputedStyle(n.body).backgroundColor):GA.TRANSPARENT,o=typeof r=="string"?Xd(t,r):r===null?GA.TRANSPARENT:4294967295;return e===n.documentElement?tc(s)?tc(i)?o:i:s:o};const A0=Object.freeze(Object.defineProperty({__proto__:null,default:AS},Symbol.toStringTag,{value:"Module"}));function Yr(t){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(t)}var yi=Uint8Array,La=Uint16Array,yx=Int32Array,l0=new yi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c0=new yi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mw=new yi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lS=function(t,e){for(var r=new La(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new yx(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},cS=lS(l0,2),uS=cS.b,Hw=cS.r;uS[28]=258,Hw[258]=28;var hS=lS(c0,0),c8=hS.b,nB=hS.r,Kw=new La(32768);for(var vn=0;vn<32768;++vn){var pl=(vn&43690)>>1|(vn&21845)<<1;pl=(pl&52428)>>2|(pl&13107)<<2,pl=(pl&61680)>>4|(pl&3855)<<4,Kw[vn]=((pl&65280)>>8|(pl&255)<<8)>>1}var vA=function(t,e,r){for(var n=t.length,s=0,i=new La(e);s<n;++s)t[s]&&++i[t[s]-1];var o=new La(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new La(1<<e);var c=15-e;for(s=0;s<n;++s)if(t[s])for(var h=s<<4|t[s],p=e-t[s],g=o[t[s]-1]++<<p,w=g|(1<<p)-1;g<=w;++g)l[Kw[g]>>c]=h}else for(l=new La(n),s=0;s<n;++s)t[s]&&(l[s]=Kw[o[t[s]-1]++]>>15-t[s]);return l},ac=new yi(288);for(var vn=0;vn<144;++vn)ac[vn]=8;for(var vn=144;vn<256;++vn)ac[vn]=9;for(var vn=256;vn<280;++vn)ac[vn]=7;for(var vn=280;vn<288;++vn)ac[vn]=8;var Of=new yi(32);for(var vn=0;vn<32;++vn)Of[vn]=5;var u8=vA(ac,9,0),h8=vA(ac,9,1),d8=vA(Of,5,0),f8=vA(Of,5,1),Qv=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Bo=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Iv=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},wx=function(t){return(t+7)/8|0},dS=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new yi(t.subarray(e,r))},p8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],jo=function(t,e,r){var n=new Error(e||p8[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,jo),!r)throw n;return n},m8=function(t,e,r,n){var s=t.length,i=0;if(!s||e.f&&!e.l)return r||new yi(0);var o=!r,l=o||e.i!=2,c=e.i;o&&(r=new yi(s*3));var h=function(Ke){var we=r.length;if(Ke>we){var Ye=new yi(Math.max(we*2,Ke));Ye.set(r),r=Ye}},p=e.f||0,g=e.p||0,w=e.b||0,y=e.l,F=e.d,S=e.m,Q=e.n,_=s*8;do{if(!y){p=Bo(t,g,1);var B=Bo(t,g+1,3);if(g+=3,B)if(B==1)y=h8,F=f8,S=9,Q=5;else if(B==2){var K=Bo(t,g,31)+257,G=Bo(t,g+10,15)+4,M=K+Bo(t,g+5,31)+1;g+=14;for(var Z=new yi(M),oe=new yi(19),D=0;D<G;++D)oe[Mw[D]]=Bo(t,g+D*3,7);g+=G*3;for(var R=Qv(oe),re=(1<<R)-1,ae=vA(oe,R,1),D=0;D<M;){var Se=ae[Bo(t,g,re)];g+=Se&15;var j=Se>>4;if(j<16)Z[D++]=j;else{var ve=0,Ue=0;for(j==16?(Ue=3+Bo(t,g,3),g+=2,ve=Z[D-1]):j==17?(Ue=3+Bo(t,g,7),g+=3):j==18&&(Ue=11+Bo(t,g,127),g+=7);Ue--;)Z[D++]=ve}}var H=Z.subarray(0,K),ue=Z.subarray(K);S=Qv(H),Q=Qv(ue),y=vA(H,S,1),F=vA(ue,Q,1)}else jo(1);else{var j=wx(g)+4,T=t[j-4]|t[j-3]<<8,V=j+T;if(V>s){c&&jo(0);break}l&&h(w+T),r.set(t.subarray(j,V),w),e.b=w+=T,e.p=g=V*8,e.f=p;continue}if(g>_){c&&jo(0);break}}l&&h(w+131072);for(var ee=(1<<S)-1,me=(1<<Q)-1,P=g;;P=g){var ve=y[Iv(t,g)&ee],$=ve>>4;if(g+=ve&15,g>_){c&&jo(0);break}if(ve||jo(2),$<256)r[w++]=$;else if($==256){P=g,y=null;break}else{var se=$-254;if($>264){var D=$-257,ce=l0[D];se=Bo(t,g,(1<<ce)-1)+uS[D],g+=ce}var fe=F[Iv(t,g)&me],Te=fe>>4;fe||jo(3),g+=fe&15;var ue=c8[Te];if(Te>3){var ce=c0[Te];ue+=Iv(t,g)&(1<<ce)-1,g+=ce}if(g>_){c&&jo(0);break}l&&h(w+131072);var ze=w+se;if(w<ue){var _e=i-ue,wt=Math.min(ue,ze);for(_e+w<0&&jo(3);w<wt;++w)r[w]=n[_e+w]}for(;w<ze;++w)r[w]=r[w-ue]}}e.l=y,e.p=P,e.b=w,e.f=p,y&&(p=1,e.m=S,e.d=F,e.n=Q)}while(!p);return w!=r.length&&o?dS(r,0,w):r.subarray(0,w)},QA=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},xd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Pv=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:pS,l:0};if(s==1){var o=new yi(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(V,K){return V.f-K.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],h=0,p=1,g=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};p!=s-1;)l=r[r[h].f<r[g].f?h++:g++],c=r[h!=p&&r[h].f<r[g].f?h++:g++],r[p++]={s:-1,f:l.f+c.f,l,r:c};for(var w=i[0].s,n=1;n<s;++n)i[n].s>w&&(w=i[n].s);var y=new La(w+1),F=qw(r[p-1],y,0);if(F>e){var n=0,S=0,Q=F-e,_=1<<Q;for(i.sort(function(K,G){return y[G.s]-y[K.s]||K.f-G.f});n<s;++n){var B=i[n].s;if(y[B]>e)S+=_-(1<<F-y[B]),y[B]=e;else break}for(S>>=Q;S>0;){var j=i[n].s;y[j]<e?S-=1<<e-y[j]++-1:++n}for(;n>=0&&S;--n){var T=i[n].s;y[T]==e&&(--y[T],++S)}F=e}return{t:new yi(y),l:F}},qw=function(t,e,r){return t.s==-1?Math.max(qw(t.l,e,r+1),qw(t.r,e,r+1)):e[t.s]=r},sB=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new La(++e),n=0,s=t[0],i=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==s&&l!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[l]}return{c:r.subarray(0,n),n:e}},bd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},fS=function(t,e,r){var n=r.length,s=wx(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},iB=function(t,e,r,n,s,i,o,l,c,h,p){QA(e,p++,r),++s[256];for(var g=Pv(s,15),w=g.t,y=g.l,F=Pv(i,15),S=F.t,Q=F.l,_=sB(w),B=_.c,j=_.n,T=sB(S),V=T.c,K=T.n,G=new La(19),M=0;M<B.length;++M)++G[B[M]&31];for(var M=0;M<V.length;++M)++G[V[M]&31];for(var Z=Pv(G,7),oe=Z.t,D=Z.l,R=19;R>4&&!oe[Mw[R-1]];--R);var re=h+5<<3,ae=bd(s,ac)+bd(i,Of)+o,Se=bd(s,w)+bd(i,S)+o+14+3*R+bd(G,oe)+2*G[16]+3*G[17]+7*G[18];if(c>=0&&re<=ae&&re<=Se)return fS(e,p,t.subarray(c,c+h));var ve,Ue,H,ue;if(QA(e,p,1+(Se<ae)),p+=2,Se<ae){ve=vA(w,y,0),Ue=w,H=vA(S,Q,0),ue=S;var ee=vA(oe,D,0);QA(e,p,j-257),QA(e,p+5,K-1),QA(e,p+10,R-4),p+=14;for(var M=0;M<R;++M)QA(e,p+3*M,oe[Mw[M]]);p+=3*R;for(var me=[B,V],P=0;P<2;++P)for(var $=me[P],M=0;M<$.length;++M){var se=$[M]&31;QA(e,p,ee[se]),p+=oe[se],se>15&&(QA(e,p,$[M]>>5&127),p+=$[M]>>12)}}else ve=u8,Ue=ac,H=d8,ue=Of;for(var M=0;M<l;++M){var ce=n[M];if(ce>255){var se=ce>>18&31;xd(e,p,ve[se+257]),p+=Ue[se+257],se>7&&(QA(e,p,ce>>23&31),p+=l0[se]);var fe=ce&31;xd(e,p,H[fe]),p+=ue[fe],fe>3&&(xd(e,p,ce>>5&8191),p+=c0[fe])}else xd(e,p,ve[ce]),p+=Ue[ce]}return xd(e,p,ve[256]),p+Ue[256]},g8=new yx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pS=new yi(0),v8=function(t,e,r,n,s,i){var o=i.z||t.length,l=new yi(n+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(n,l.length-s),h=i.l,p=(i.r||0)&7;if(e){p&&(c[0]=i.r>>3);for(var g=g8[e-1],w=g>>13,y=g&8191,F=(1<<r)-1,S=i.p||new La(32768),Q=i.h||new La(F+1),_=Math.ceil(r/3),B=2*_,j=function(et){return(t[et]^t[et+1]<<_^t[et+2]<<B)&F},T=new yx(25e3),V=new La(288),K=new La(32),G=0,M=0,Z=i.i||0,oe=0,D=i.w||0,R=0;Z+2<o;++Z){var re=j(Z),ae=Z&32767,Se=Q[re];if(S[ae]=Se,Q[re]=ae,D<=Z){var ve=o-Z;if((G>7e3||oe>24576)&&(ve>423||!h)){p=iB(t,c,0,T,V,K,M,oe,R,Z-R,p),oe=G=M=0,R=Z;for(var Ue=0;Ue<286;++Ue)V[Ue]=0;for(var Ue=0;Ue<30;++Ue)K[Ue]=0}var H=2,ue=0,ee=y,me=ae-Se&32767;if(ve>2&&re==j(Z-me))for(var P=Math.min(w,ve)-1,$=Math.min(32767,Z),se=Math.min(258,ve);me<=$&&--ee&&ae!=Se;){if(t[Z+H]==t[Z+H-me]){for(var ce=0;ce<se&&t[Z+ce]==t[Z+ce-me];++ce);if(ce>H){if(H=ce,ue=me,ce>P)break;for(var fe=Math.min(me,ce-2),Te=0,Ue=0;Ue<fe;++Ue){var ze=Z-me+Ue&32767,_e=S[ze],wt=ze-_e&32767;wt>Te&&(Te=wt,Se=ze)}}}ae=Se,Se=S[ae],me+=ae-Se&32767}if(ue){T[oe++]=268435456|Hw[H]<<18|nB[ue];var Ke=Hw[H]&31,we=nB[ue]&31;M+=l0[Ke]+c0[we],++V[257+Ke],++K[we],D=Z+H,++G}else T[oe++]=t[Z],++V[t[Z]]}}for(Z=Math.max(Z,D);Z<o;++Z)T[oe++]=t[Z],++V[t[Z]];p=iB(t,c,h,T,V,K,M,oe,R,Z-R,p),h||(i.r=p&7|c[p/8|0]<<3,p-=7,i.h=Q,i.p=S,i.i=Z,i.w=D)}else{for(var Z=i.w||0;Z<o+h;Z+=65535){var Ye=Z+65535;Ye>=o&&(c[p/8|0]=h,Ye=o),p=fS(c,p+1,t.subarray(Z,Ye))}i.i=o}return dS(l,0,n+wx(p)+s)},mS=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},y8=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new yi(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return v8(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},gS=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},w8=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=mS();s.p(e.dictionary),gS(t,2,s.d())}},x8=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&jo(6,"invalid zlib data"),(t[1]>>5&1)==1&&jo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function zw(t,e){e||(e={});var r=mS();r.p(t);var n=y8(t,e,e.dictionary?6:2,4);return w8(n,e),gS(n,n.length-4,r.d()),n}function b8(t,e){return m8(t.subarray(x8(t),-4),{i:2},e,e)}var _8=typeof TextDecoder<"u"&&new TextDecoder,B8=0;try{_8.decode(pS,{stream:!0}),B8=1}catch{}var dr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Tv(){dr.console&&typeof dr.console.log=="function"&&dr.console.log.apply(dr.console,arguments)}var ln={log:Tv,warn:function(t){dr.console&&(typeof dr.console.warn=="function"?dr.console.warn.apply(dr.console,arguments):Tv.call(null,arguments))},error:function(t){dr.console&&(typeof dr.console.error=="function"?dr.console.error.apply(dr.console,arguments):Tv(t))}};function Ov(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Cc(n.response,e,r)},n.onerror=function(){ln.error("could not download file")},n.send()}function aB(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function um(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var rf,Vw,Cc=dr.saveAs||((typeof window>"u"?"undefined":Yr(window))!=="object"||window!==dr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=dr.URL||dr.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?aB(s.href)?Ov(t,e,r):um(s,s.target="_blank"):um(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){um(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(aB(t))Ov(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){um(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Yr(i)!=="object"&&(ln.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ov(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(dr.HTMLElement)||dr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":Yr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},l.readAsDataURL(t)}else{var c=dr.URL||dr.webkitURL,h=c.createObjectURL(t);n?n.location=h:location.href=h,n=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+l+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rv(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=hi(r,n,s,i,e[0],7,-680876936),i=hi(i,r,n,s,e[1],12,-389564586),s=hi(s,i,r,n,e[2],17,606105819),n=hi(n,s,i,r,e[3],22,-1044525330),r=hi(r,n,s,i,e[4],7,-176418897),i=hi(i,r,n,s,e[5],12,1200080426),s=hi(s,i,r,n,e[6],17,-1473231341),n=hi(n,s,i,r,e[7],22,-45705983),r=hi(r,n,s,i,e[8],7,1770035416),i=hi(i,r,n,s,e[9],12,-1958414417),s=hi(s,i,r,n,e[10],17,-42063),n=hi(n,s,i,r,e[11],22,-1990404162),r=hi(r,n,s,i,e[12],7,1804603682),i=hi(i,r,n,s,e[13],12,-40341101),s=hi(s,i,r,n,e[14],17,-1502002290),r=di(r,n=hi(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=di(i,r,n,s,e[6],9,-1069501632),s=di(s,i,r,n,e[11],14,643717713),n=di(n,s,i,r,e[0],20,-373897302),r=di(r,n,s,i,e[5],5,-701558691),i=di(i,r,n,s,e[10],9,38016083),s=di(s,i,r,n,e[15],14,-660478335),n=di(n,s,i,r,e[4],20,-405537848),r=di(r,n,s,i,e[9],5,568446438),i=di(i,r,n,s,e[14],9,-1019803690),s=di(s,i,r,n,e[3],14,-187363961),n=di(n,s,i,r,e[8],20,1163531501),r=di(r,n,s,i,e[13],5,-1444681467),i=di(i,r,n,s,e[2],9,-51403784),s=di(s,i,r,n,e[7],14,1735328473),r=fi(r,n=di(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=fi(i,r,n,s,e[8],11,-2022574463),s=fi(s,i,r,n,e[11],16,1839030562),n=fi(n,s,i,r,e[14],23,-35309556),r=fi(r,n,s,i,e[1],4,-1530992060),i=fi(i,r,n,s,e[4],11,1272893353),s=fi(s,i,r,n,e[7],16,-155497632),n=fi(n,s,i,r,e[10],23,-1094730640),r=fi(r,n,s,i,e[13],4,681279174),i=fi(i,r,n,s,e[0],11,-358537222),s=fi(s,i,r,n,e[3],16,-722521979),n=fi(n,s,i,r,e[6],23,76029189),r=fi(r,n,s,i,e[9],4,-640364487),i=fi(i,r,n,s,e[12],11,-421815835),s=fi(s,i,r,n,e[15],16,530742520),r=pi(r,n=fi(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=pi(i,r,n,s,e[7],10,1126891415),s=pi(s,i,r,n,e[14],15,-1416354905),n=pi(n,s,i,r,e[5],21,-57434055),r=pi(r,n,s,i,e[12],6,1700485571),i=pi(i,r,n,s,e[3],10,-1894986606),s=pi(s,i,r,n,e[10],15,-1051523),n=pi(n,s,i,r,e[1],21,-2054922799),r=pi(r,n,s,i,e[8],6,1873313359),i=pi(i,r,n,s,e[15],10,-30611744),s=pi(s,i,r,n,e[6],15,-1560198380),n=pi(n,s,i,r,e[13],21,1309151649),r=pi(r,n,s,i,e[4],6,-145523070),i=pi(i,r,n,s,e[11],10,-1120210379),s=pi(s,i,r,n,e[2],15,718787259),n=pi(n,s,i,r,e[9],21,-343485551),t[0]=Kl(r,t[0]),t[1]=Kl(n,t[1]),t[2]=Kl(s,t[2]),t[3]=Kl(i,t[3])}function u0(t,e,r,n,s,i){return e=Kl(Kl(e,t),Kl(n,i)),Kl(e<<s|e>>>32-s,r)}function hi(t,e,r,n,s,i,o){return u0(e&r|~e&n,t,e,s,i,o)}function di(t,e,r,n,s,i,o){return u0(e&n|r&~n,t,e,s,i,o)}function fi(t,e,r,n,s,i,o){return u0(e^r^n,t,e,s,i,o)}function pi(t,e,r,n,s,i,o){return u0(r^(e|~n),t,e,s,i,o)}function yS(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Rv(n,C8(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Rv(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,Rv(n,s),n}function C8(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}rf=dr.atob.bind(dr),Vw=dr.btoa.bind(dr);var oB="0123456789abcdef".split("");function N8(t){for(var e="",r=0;r<4;r++)e+=oB[t>>8*r+4&15]+oB[t>>8*r&15];return e}function S8(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Ww(t){return yS(t).map(S8).join("")}var E8=function(t){for(var e=0;e<t.length;e++)t[e]=N8(t[e]);return t.join("")}(yS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Kl(t,e){if(E8){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Gw(t,e){var r,n,s,i;if(t!==r){for(var o=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var h=0;for(c=0;c<256;c++){var p=l[c];h=(h+p+o.charCodeAt(c))%256,l[c]=l[h],l[h]=p}r=t,n=l}else l=n;var g=e.length,w=0,y=0,F="";for(c=0;c<g;c++)y=(y+(p=l[w=(w+1)%256]))%256,l[w]=l[y],l[y]=p,o=l[(l[w]+l[y])%256],F+=String.fromCharCode(e.charCodeAt(c)^o);return F}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var AB={print:4,modify:8,copy:16,"annot-forms":32};function Wu(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(l){if(AB.perm!==void 0)throw new Error("Invalid permission: "+l);s+=AB[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=Ww(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Gw(this.encryptionKey,this.padding)}function Gu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function lB(t){if(Yr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(l){dr.console&&ln.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Rf(t){if(!(this instanceof Rf))return new Rf(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function wS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Sl(t,e,r,n,s){if(!(this instanceof Sl))return new Sl(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,wS.call(this,n,s)}function Pc(t,e,r,n,s){if(!(this instanceof Pc))return new Pc(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,wS.call(this,n,s)}function ar(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,h="S",p=null;Yr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),h=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=lB;var F="1.3",S=y.__private__.getPdfVersion=function(){return F};y.__private__.setPdfVersion=function(b){F=b};var Q={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return Q};var _=y.__private__.getPageFormat=function(b){return Q[b]};s=s||"a4";var B={COMPAT:"compat",ADVANCED:"advanced"},j=B.COMPAT;function T(){this.saveGraphicsState(),ne(new Yt(ut,0,0,-ut,0,ya()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),h="n",j=B.ADVANCED}function V(){this.restoreGraphicsState(),h="S",j=B.COMPAT}var K=y.__private__.combineFontStyleAndFontWeight=function(b,q){if(b=="bold"&&q=="normal"||b=="bold"&&q==400||b=="normal"&&q=="italic"||b=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(b=q==400||q==="normal"?b==="italic"?"italic":"normal":q!=700&&q!=="bold"||b!=="normal"?(q==700?"bold":q)+""+b:"bold"),b};y.advancedAPI=function(b){var q=j===B.COMPAT;return q&&T.call(this),typeof b!="function"||(b(this),q&&V.call(this)),this},y.compatAPI=function(b){var q=j===B.ADVANCED;return q&&V.call(this),typeof b!="function"||(b(this),q&&T.call(this)),this},y.isAdvancedAPI=function(){return j===B.ADVANCED};var G,M=function(b){if(j!==B.ADVANCED)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=y.roundToPrecision=y.__private__.roundToPrecision=function(b,q){var de=e||q;if(isNaN(b)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(de).replace(/0+$/,"")};G=y.hpf=y.__private__.hpf=typeof c=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(b,c)}:c==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(b,16)};var oe=y.f2=y.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return Z(b,2)},D=y.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return Z(b,3)},R=y.scale=y.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return j===B.COMPAT?b*ut:j===B.ADVANCED?b:void 0},re=function(b){return j===B.COMPAT?ya()-b:j===B.ADVANCED?b:void 0},ae=function(b){return R(re(b))};y.__private__.setPrecision=y.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var Se,ve="00000000000000000000000000000000",Ue=y.__private__.getFileId=function(){return ve},H=y.__private__.setFileId=function(b){return ve=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(cn=new Wu(p.userPermissions,p.userPassword,p.ownerPassword,ve)),ve};y.setFileId=function(b){return H(b),this},y.getFileId=function(){return Ue()};var ue=y.__private__.convertDateToPDFDate=function(b){var q=b.getTimezoneOffset(),de=q<0?"+":"-",Ne=Math.floor(Math.abs(q/60)),He=Math.abs(q%60),nt=[de,se(Ne),"'",se(He),"'"].join("");return["D:",b.getFullYear(),se(b.getMonth()+1),se(b.getDate()),se(b.getHours()),se(b.getMinutes()),se(b.getSeconds()),nt].join("")},ee=y.__private__.convertPDFDateToDate=function(b){var q=parseInt(b.substr(2,4),10),de=parseInt(b.substr(6,2),10)-1,Ne=parseInt(b.substr(8,2),10),He=parseInt(b.substr(10,2),10),nt=parseInt(b.substr(12,2),10),vt=parseInt(b.substr(14,2),10);return new Date(q,de,Ne,He,nt,vt,0)},me=y.__private__.setCreationDate=function(b){var q;if(b===void 0&&(b=new Date),b instanceof Date)q=ue(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=b}return Se=q},P=y.__private__.getCreationDate=function(b){var q=Se;return b==="jsDate"&&(q=ee(Se)),q};y.setCreationDate=function(b){return me(b),this},y.getCreationDate=function(b){return P(b)};var $,se=y.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},ce=y.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},fe=0,Te=[],ze=[],_e=0,wt=[],Ke=[],we=!1,Ye=ze,et=function(){fe=0,_e=0,ze=[],Te=[],wt=[],Ki=Lt(),En=Lt()};y.__private__.setCustomOutputDestination=function(b){we=!0,Ye=b};var pe=function(b){we||(Ye=b)};y.__private__.resetCustomOutputDestination=function(){we=!1,Ye=ze};var ne=y.__private__.out=function(b){return b=b.toString(),_e+=b.length+1,Ye.push(b),Ye},it=y.__private__.write=function(b){return ne(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},Xe=y.__private__.getArrayBuffer=function(b){for(var q=b.length,de=new ArrayBuffer(q),Ne=new Uint8Array(de);q--;)Ne[q]=b.charCodeAt(q);return de},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Ze};var ot=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(b){return ot=j===B.ADVANCED?b/ut:b,this};var At,Ee=y.__private__.getFontSize=y.getFontSize=function(){return j===B.COMPAT?ot:ot*ut},Ie=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(b){return Ie=b,this},y.__private__.getR2L=y.getR2L=function(){return Ie};var We,rt=y.__private__.setZoomMode=function(b){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))At=b;else if(isNaN(b)){if(q.indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');At=b}else At=parseInt(b,10)};y.__private__.getZoomMode=function(){return At};var lt,Jt=y.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');We=b};y.__private__.getPageMode=function(){return We};var Zt=y.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');lt=b};y.__private__.getLayoutMode=function(){return lt},y.__private__.setDisplayMode=y.setDisplayMode=function(b,q,de){return rt(b),Zt(q),Jt(de),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(b){if(Object.keys(ht).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[b]},y.__private__.getDocumentProperties=function(){return ht},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(b){for(var q in ht)ht.hasOwnProperty(q)&&b[q]&&(ht[q]=b[q]);return this},y.__private__.setDocumentProperty=function(b,q){if(Object.keys(ht).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[b]=q};var kt,ut,wr,Pt,Or,Ut={},_t={},Kr=[],rr={},ls={},xt={},cs={},xi=null,tn=0,hr=[],jr=new lB(y),ho=t.hotfixes||[],Jn={},ws={},Zn=[],Yt=function b(q,de,Ne,He,nt,vt){if(!(this instanceof b))return new b(q,de,Ne,He,nt,vt);isNaN(q)&&(q=1),isNaN(de)&&(de=0),isNaN(Ne)&&(Ne=0),isNaN(He)&&(He=1),isNaN(nt)&&(nt=0),isNaN(vt)&&(vt=0),this._matrix=[q,de,Ne,He,nt,vt]};Object.defineProperty(Yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Yt.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(G).join(b)},Yt.prototype.multiply=function(b){var q=b.sx*this.sx+b.shy*this.shx,de=b.sx*this.shy+b.shy*this.sy,Ne=b.shx*this.sx+b.sy*this.shx,He=b.shx*this.shy+b.sy*this.sy,nt=b.tx*this.sx+b.ty*this.shx+this.tx,vt=b.tx*this.shy+b.ty*this.sy+this.ty;return new Yt(q,de,Ne,He,nt,vt)},Yt.prototype.decompose=function(){var b=this.sx,q=this.shy,de=this.shx,Ne=this.sy,He=this.tx,nt=this.ty,vt=Math.sqrt(b*b+q*q),Qt=(b/=vt)*de+(q/=vt)*Ne;de-=b*Qt,Ne-=q*Qt;var Ht=Math.sqrt(de*de+Ne*Ne);return Qt/=Ht,b*(Ne/=Ht)<q*(de/=Ht)&&(b=-b,q=-q,Qt=-Qt,vt=-vt),{scale:new Yt(vt,0,0,Ht,0,0),translate:new Yt(1,0,0,1,He,nt),rotate:new Yt(b,q,-q,b,0,0),skew:new Yt(1,0,Qt,1,0,0)}},Yt.prototype.toString=function(b){return this.join(" ")},Yt.prototype.inversed=function(){var b=this.sx,q=this.shy,de=this.shx,Ne=this.sy,He=this.tx,nt=this.ty,vt=1/(b*Ne-q*de),Qt=Ne*vt,Ht=-q*vt,lr=-de*vt,sr=b*vt;return new Yt(Qt,Ht,lr,sr,-Qt*He-lr*nt,-Ht*He-sr*nt)},Yt.prototype.applyToPoint=function(b){var q=b.x*this.sx+b.y*this.shx+this.tx,de=b.x*this.shy+b.y*this.sy+this.ty;return new pa(q,de)},Yt.prototype.applyToRectangle=function(b){var q=this.applyToPoint(b),de=this.applyToPoint(new pa(b.x+b.w,b.y+b.h));return new Ls(q.x,q.y,de.x-q.x,de.y-q.y)},Yt.prototype.clone=function(){var b=this.sx,q=this.shy,de=this.shx,Ne=this.sy,He=this.tx,nt=this.ty;return new Yt(b,q,de,Ne,He,nt)},y.Matrix=Yt;var ks=y.matrixMult=function(b,q){return q.multiply(b)},Nr=new Yt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Nr;var Qr=function(b,q){if(!ls[b]){var de=(q instanceof Sl?"Sh":"P")+(Object.keys(rr).length+1).toString(10);q.id=de,ls[b]=de,rr[de]=q,jr.publish("addPattern",q)}};y.ShadingPattern=Sl,y.TilingPattern=Pc,y.addShadingPattern=function(b,q){return M("addShadingPattern()"),Qr(b,q),this},y.beginTilingPattern=function(b){M("beginTilingPattern()"),_n(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},y.endTilingPattern=function(b,q){M("endTilingPattern()"),q.stream=Ke[$].join(`
`),Qr(b,q),jr.publish("endTilingPattern",q),Zn.pop().restore()};var Rr=y.__private__.newObject=function(){var b=Lt();return Xn(b,!0),b},Lt=y.__private__.newObjectDeferred=function(){return fe++,Te[fe]=function(){return _e},fe},Xn=function(b,q){return q=typeof q=="boolean"&&q,Te[b]=_e,q&&ne(b+" 0 obj"),b},Hi=y.__private__.newAdditionalObject=function(){var b={objId:Lt(),content:""};return wt.push(b),b},Ki=Lt(),En=Lt(),Mn=y.__private__.decodeColorString=function(b){var q=b.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var de=parseFloat(q[0]);q=[de,de,de,"r"]}for(var Ne="#",He=0;He<3;He++)Ne+=("0"+Math.floor(255*parseFloat(q[He])).toString(16)).slice(-2);return Ne},Fn=y.__private__.encodeColorString=function(b){var q;typeof b=="string"&&(b={ch1:b});var de=b.ch1,Ne=b.ch2,He=b.ch3,nt=b.ch4,vt=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var Qt=new vS(de);if(Qt.ok)de=Qt.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var Ht=parseInt(de.substr(1),16);de=Ht>>16&255,Ne=Ht>>8&255,He=255&Ht}if(Ne===void 0||nt===void 0&&de===Ne&&Ne===He)if(typeof de=="string")q=de+" "+vt[0];else switch(b.precision){case 2:q=oe(de/255)+" "+vt[0];break;case 3:default:q=D(de/255)+" "+vt[0]}else if(nt===void 0||Yr(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return q=["1.","1.","1.",vt[1]].join(" ");if(typeof de=="string")q=[de,Ne,He,vt[1]].join(" ");else switch(b.precision){case 2:q=[oe(de/255),oe(Ne/255),oe(He/255),vt[1]].join(" ");break;default:case 3:q=[D(de/255),D(Ne/255),D(He/255),vt[1]].join(" ")}}else if(typeof de=="string")q=[de,Ne,He,nt,vt[2]].join(" ");else switch(b.precision){case 2:q=[oe(de),oe(Ne),oe(He),oe(nt),vt[2]].join(" ");break;case 3:default:q=[D(de),D(Ne),D(He),D(nt),vt[2]].join(" ")}return q},Hn=y.__private__.getFilters=function(){return o},Hs=y.__private__.putStream=function(b){var q=(b=b||{}).data||"",de=b.filters||Hn(),Ne=b.alreadyAppliedFilters||[],He=b.addLength1||!1,nt=q.length,vt=b.objectId,Qt=function(ts){return ts};if(p!==null&&vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Qt=cn.encryptor(vt,0));var Ht={};de===!0&&(de=["FlateEncode"]);var lr=b.additionalKeyValues||[],sr=(Ht=ar.API.processDataByFilters!==void 0?ar.API.processDataByFilters(q,de):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(Ne)?Ne.join(" "):Ne.toString());if(Ht.data.length!==0&&(lr.push({key:"Length",value:Ht.data.length}),He===!0&&lr.push({key:"Length1",value:nt})),sr.length!=0)if(sr.split("/").length-1==1)lr.push({key:"Filter",value:sr});else{lr.push({key:"Filter",value:"["+sr+"]"});for(var Cr=0;Cr<lr.length;Cr+=1)if(lr[Cr].key==="DecodeParms"){for(var Mr=[],zr=0;zr<Ht.reverseChain.split("/").length-1;zr+=1)Mr.push("null");Mr.push(lr[Cr].value),lr[Cr].value="["+Mr.join(" ")+"]"}}ne("<<");for(var Bn=0;Bn<lr.length;Bn++)ne("/"+lr[Bn].key+" "+lr[Bn].value);ne(">>"),Ht.data.length!==0&&(ne("stream"),ne(Qt(Ht.data)),ne("endstream"))},Yn=y.__private__.putPage=function(b){var q=b.number,de=b.data,Ne=b.objId,He=b.contentsObjId;Xn(Ne,!0),ne("<</Type /Page"),ne("/Parent "+b.rootDictionaryObjId+" 0 R"),ne("/Resources "+b.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(G(b.mediaBox.bottomLeftX))+" "+parseFloat(G(b.mediaBox.bottomLeftY))+" "+G(b.mediaBox.topRightX)+" "+G(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&ne("/CropBox ["+G(b.cropBox.bottomLeftX)+" "+G(b.cropBox.bottomLeftY)+" "+G(b.cropBox.topRightX)+" "+G(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&ne("/BleedBox ["+G(b.bleedBox.bottomLeftX)+" "+G(b.bleedBox.bottomLeftY)+" "+G(b.bleedBox.topRightX)+" "+G(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&ne("/TrimBox ["+G(b.trimBox.bottomLeftX)+" "+G(b.trimBox.bottomLeftY)+" "+G(b.trimBox.topRightX)+" "+G(b.trimBox.topRightY)+"]"),b.artBox!==null&&ne("/ArtBox ["+G(b.artBox.bottomLeftX)+" "+G(b.artBox.bottomLeftY)+" "+G(b.artBox.topRightX)+" "+G(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&ne("/UserUnit "+b.userUnit),jr.publish("putPage",{objId:Ne,pageContext:hr[q],pageNumber:q,page:de}),ne("/Contents "+He+" 0 R"),ne(">>"),ne("endobj");var nt=de.join(`
`);return j===B.ADVANCED&&(nt+=`
Q`),Xn(He,!0),Hs({data:nt,filters:Hn(),objectId:He}),ne("endobj"),Ne},Oa=y.__private__.putPages=function(){var b,q,de=[];for(b=1;b<=tn;b++)hr[b].objId=Lt(),hr[b].contentsObjId=Lt();for(b=1;b<=tn;b++)de.push(Yn({number:b,data:Ke[b],objId:hr[b].objId,contentsObjId:hr[b].contentsObjId,mediaBox:hr[b].mediaBox,cropBox:hr[b].cropBox,bleedBox:hr[b].bleedBox,trimBox:hr[b].trimBox,artBox:hr[b].artBox,userUnit:hr[b].userUnit,rootDictionaryObjId:Ki,resourceDictionaryObjId:En}));Xn(Ki,!0),ne("<</Type /Pages");var Ne="/Kids [";for(q=0;q<tn;q++)Ne+=de[q]+" 0 R ";ne(Ne+"]"),ne("/Count "+tn),ne(">>"),ne("endobj"),jr.publish("postPutPages")},ni=function(b){jr.publish("putFont",{font:b,out:ne,newObject:Rr,putStream:Hs}),b.isAlreadyPutted!==!0&&(b.objectNumber=Rr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Gu(b.postScriptName)),ne("/Subtype /Type1"),typeof b.encoding=="string"&&ne("/Encoding /"+b.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},fo=function(){for(var b in Ut)Ut.hasOwnProperty(b)&&(g===!1||g===!0&&w.hasOwnProperty(b))&&ni(Ut[b])},la=function(b){b.objectNumber=Rr();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[G(b.x),G(b.y),G(b.x+b.width),G(b.y+b.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var de=b.pages[1].join(`
`);Hs({data:de,additionalKeyValues:q,objectId:b.objectNumber}),ne("endobj")},qr=function(){for(var b in Jn)Jn.hasOwnProperty(b)&&la(Jn[b])},Ks=function(b,q){var de,Ne=[],He=1/(q-1);for(de=0;de<1;de+=He)Ne.push(de);if(Ne.push(1),b[0].offset!=0){var nt={offset:0,color:b[0].color};b.unshift(nt)}if(b[b.length-1].offset!=1){var vt={offset:1,color:b[b.length-1].color};b.push(vt)}for(var Qt="",Ht=0,lr=0;lr<Ne.length;lr++){for(de=Ne[lr];de>b[Ht+1].offset;)Ht++;var sr=b[Ht].offset,Cr=(de-sr)/(b[Ht+1].offset-sr),Mr=b[Ht].color,zr=b[Ht+1].color;Qt+=ce(Math.round((1-Cr)*Mr[0]+Cr*zr[0]).toString(16))+ce(Math.round((1-Cr)*Mr[1]+Cr*zr[1]).toString(16))+ce(Math.round((1-Cr)*Mr[2]+Cr*zr[2]).toString(16))}return Qt.trim()},bi=function(b,q){q||(q=21);var de=Rr(),Ne=Ks(b.colors,q),He=[];He.push({key:"FunctionType",value:"0"}),He.push({key:"Domain",value:"[0.0 1.0]"}),He.push({key:"Size",value:"["+q+"]"}),He.push({key:"BitsPerSample",value:"8"}),He.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hs({data:Ne,additionalKeyValues:He,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),ne("endobj"),b.objectNumber=Rr(),ne("<< /ShadingType "+b.type),ne("/ColorSpace /DeviceRGB");var nt="/Coords ["+G(parseFloat(b.coords[0]))+" "+G(parseFloat(b.coords[1]))+" ";b.type===2?nt+=G(parseFloat(b.coords[2]))+" "+G(parseFloat(b.coords[3])):nt+=G(parseFloat(b.coords[2]))+" "+G(parseFloat(b.coords[3]))+" "+G(parseFloat(b.coords[4]))+" "+G(parseFloat(b.coords[5])),ne(nt+="]"),b.matrix&&ne("/Matrix ["+b.matrix.toString()+"]"),ne("/Function "+de+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},sl=function(b,q){var de=Lt(),Ne=Rr();q.push({resourcesOid:de,objectOid:Ne}),b.objectNumber=Ne;var He=[];He.push({key:"Type",value:"/Pattern"}),He.push({key:"PatternType",value:"1"}),He.push({key:"PaintType",value:"1"}),He.push({key:"TilingType",value:"1"}),He.push({key:"BBox",value:"["+b.boundingBox.map(G).join(" ")+"]"}),He.push({key:"XStep",value:G(b.xStep)}),He.push({key:"YStep",value:G(b.yStep)}),He.push({key:"Resources",value:de+" 0 R"}),b.matrix&&He.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),Hs({data:b.stream,additionalKeyValues:He,objectId:b.objectNumber}),ne("endobj")},_i=function(b){var q;for(q in rr)rr.hasOwnProperty(q)&&(rr[q]instanceof Sl?bi(rr[q]):rr[q]instanceof Pc&&sl(rr[q],b))},po=function(b){for(var q in b.objectNumber=Rr(),ne("<<"),b)switch(q){case"opacity":ne("/ca "+oe(b[q]));break;case"stroke-opacity":ne("/CA "+oe(b[q]))}ne(">>"),ne("endobj")},_A=function(){var b;for(b in xt)xt.hasOwnProperty(b)&&po(xt[b])},ca=function(){for(var b in ne("/XObject <<"),Jn)Jn.hasOwnProperty(b)&&Jn[b].objectNumber>=0&&ne("/"+b+" "+Jn[b].objectNumber+" 0 R");jr.publish("putXobjectDict"),ne(">>")},qs=function(){cn.oid=Rr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+cn.v),ne("/R "+cn.r),ne("/U <"+cn.toHexString(cn.U)+">"),ne("/O <"+cn.toHexString(cn.O)+">"),ne("/P "+cn.P),ne(">>"),ne("endobj")},Vo=function(){for(var b in ne("/Font <<"),Ut)Ut.hasOwnProperty(b)&&(g===!1||g===!0&&w.hasOwnProperty(b))&&ne("/"+b+" "+Ut[b].objectNumber+" 0 R");ne(">>")},mo=function(){if(Object.keys(rr).length>0){for(var b in ne("/Shading <<"),rr)rr.hasOwnProperty(b)&&rr[b]instanceof Sl&&rr[b].objectNumber>=0&&ne("/"+b+" "+rr[b].objectNumber+" 0 R");jr.publish("putShadingPatternDict"),ne(">>")}},Bi=function(b){if(Object.keys(rr).length>0){for(var q in ne("/Pattern <<"),rr)rr.hasOwnProperty(q)&&rr[q]instanceof y.TilingPattern&&rr[q].objectNumber>=0&&rr[q].objectNumber<b&&ne("/"+q+" "+rr[q].objectNumber+" 0 R");jr.publish("putTilingPatternDict"),ne(">>")}},Dt=function(){if(Object.keys(xt).length>0){var b;for(b in ne("/ExtGState <<"),xt)xt.hasOwnProperty(b)&&xt[b].objectNumber>=0&&ne("/"+b+" "+xt[b].objectNumber+" 0 R");jr.publish("putGStateDict"),ne(">>")}},pr=function(b){Xn(b.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Vo(),mo(),Bi(b.objectOid),Dt(),ca(),ne(">>"),ne("endobj")},Ra=function(){var b=[];fo(),_A(),qr(),_i(b),jr.publish("putResources"),b.forEach(pr),pr({resourcesOid:En,objectOid:Number.MAX_SAFE_INTEGER}),jr.publish("postPutResources")},si=function(){jr.publish("putAdditionalObjects");for(var b=0;b<wt.length;b++){var q=wt[b];Xn(q.objId,!0),ne(q.content),ne("endobj")}jr.publish("postPutAdditionalObjects")},zs=function(b){_t[b.fontName]=_t[b.fontName]||{},_t[b.fontName][b.fontStyle]=b.id},Da=function(b,q,de,Ne,He){var nt={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:b,fontName:q,fontStyle:de,encoding:Ne,isStandardFont:He||!1,metadata:{}};return jr.publish("addFont",{font:nt,instance:this}),Ut[nt.id]=nt,zs(nt),nt.id},mr=function(b){for(var q=0,de=Ze.length;q<de;q++){var Ne=Da.call(this,b[q][0],b[q][1],b[q][2],Ze[q][3],!0);g===!1&&(w[Ne]=!0);var He=b[q][0].split("-");zs({id:Ne,fontName:He[0],fontStyle:He[1]||""})}jr.publish("addFonts",{fonts:Ut,dictionary:_t})},Ur=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(Ne){var q=Ne.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var de="Error in function "+q.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!dr.console)throw new Error(de);dr.console.error(de,Ne),dr.alert&&alert(de)}},b.foo.bar=b,b.foo},Sr=function(b,q){var de,Ne,He,nt,vt,Qt,Ht,lr,sr;if(He=(q=q||{}).sourceEncoding||"Unicode",vt=q.outputEncoding,(q.autoencode||vt)&&Ut[kt].metadata&&Ut[kt].metadata[He]&&Ut[kt].metadata[He].encoding&&(nt=Ut[kt].metadata[He].encoding,!vt&&Ut[kt].encoding&&(vt=Ut[kt].encoding),!vt&&nt.codePages&&(vt=nt.codePages[0]),typeof vt=="string"&&(vt=nt[vt]),vt)){for(Ht=!1,Qt=[],de=0,Ne=b.length;de<Ne;de++)(lr=vt[b.charCodeAt(de)])?Qt.push(String.fromCharCode(lr)):Qt.push(b[de]),Qt[de].charCodeAt(0)>>8&&(Ht=!0);b=Qt.join("")}for(de=b.length;Ht===void 0&&de!==0;)b.charCodeAt(de-1)>>8&&(Ht=!0),de--;if(!Ht)return b;for(Qt=q.noBOM?[]:[254,255],de=0,Ne=b.length;de<Ne;de++){if((sr=(lr=b.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+b+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qt.push(sr),Qt.push(lr-(sr<<8))}return String.fromCharCode.apply(void 0,Qt)},fn=y.__private__.pdfEscape=y.pdfEscape=function(b,q){return Sr(b,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wn=y.__private__.beginPage=function(b){Ke[++tn]=[],hr[tn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},ii(tn),pe(Ke[$])},ua=function(b,q){var de,Ne,He;switch(r=q||r,typeof b=="string"&&(de=_(b.toLowerCase()),Array.isArray(de)&&(Ne=de[0],He=de[1])),Array.isArray(b)&&(Ne=b[0]*ut,He=b[1]*ut),isNaN(Ne)&&(Ne=s[0],He=s[1]),(Ne>14400||He>14400)&&(ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ne=Math.min(14400,Ne),He=Math.min(14400,He)),s=[Ne,He],r.substr(0,1)){case"l":He>Ne&&(s=[He,Ne]);break;case"p":Ne>He&&(s=[He,Ne])}wn(s),il(Vi),ne(bs),NA!==0&&ne(NA+" J"),jn!==0&&ne(jn+" j"),jr.publish("addPage",{pageNumber:tn})},Ma=function(b){b>0&&b<=tn&&(Ke.splice(b,1),hr.splice(b,1),tn--,$>tn&&($=tn),this.setPage($))},ii=function(b){b>0&&b<=tn&&($=b)},Gr=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ke.length-1},Ci=function(b,q,de){var Ne,He=void 0;return de=de||{},b=b!==void 0?b:Ut[kt].fontName,q=q!==void 0?q:Ut[kt].fontStyle,Ne=b.toLowerCase(),_t[Ne]!==void 0&&_t[Ne][q]!==void 0?He=_t[Ne][q]:_t[b]!==void 0&&_t[b][q]!==void 0?He=_t[b][q]:de.disableWarning===!1&&ln.warn("Unable to look up font label for font '"+b+"', '"+q+"'. Refer to getFontList() for available fonts."),He||de.noFallback||(He=_t.times[q])==null&&(He=_t.times.normal),He},qi=y.__private__.putInfo=function(){var b=Rr(),q=function(Ne){return Ne};for(var de in p!==null&&(q=cn.encryptor(b,0)),ne("<<"),ne("/Producer ("+fn(q("jsPDF "+ar.version))+")"),ht)ht.hasOwnProperty(de)&&ht[de]&&ne("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+fn(q(ht[de]))+")");ne("/CreationDate ("+fn(q(Se))+")"),ne(">>"),ne("endobj")},zi=y.__private__.putCatalog=function(b){var q=(b=b||{}).rootDictionaryObjId||Ki;switch(Rr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+q+" 0 R"),At||(At="fullwidth"),At){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+At;de.substr(de.length-1)==="%"&&(At=parseInt(At)/100),typeof At=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+oe(At)+"]")}switch(lt||(lt="continuous"),lt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}We&&ne("/PageMode /"+We),jr.publish("putCatalog"),ne(">>"),ne("endobj")},BA=y.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(fe+1)),ne("/Root "+fe+" 0 R"),ne("/Info "+(fe-1)+" 0 R"),p!==null&&ne("/Encrypt "+cn.oid+" 0 R"),ne("/ID [ <"+ve+"> <"+ve+"> ]"),ne(">>")},xr=y.__private__.putHeader=function(){ne("%PDF-"+F),ne("%")},Wo=y.__private__.putXRef=function(){var b="0000000000";ne("xref"),ne("0 "+(fe+1)),ne("0000000000 65535 f ");for(var q=1;q<=fe;q++)typeof Te[q]=="function"?ne((b+Te[q]()).slice(-10)+" 00000 n "):Te[q]!==void 0?ne((b+Te[q]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Ni=y.__private__.buildDocument=function(){et(),pe(ze),jr.publish("buildDocument"),xr(),Oa(),si(),Ra(),p!==null&&qs(),qi(),zi();var b=_e;return Wo(),BA(),ne("startxref"),ne(""+b),ne("%%EOF"),pe(Ke[$]),ze.join(`
`)},ha=y.__private__.getBlob=function(b){return new Blob([Xe(b)],{type:"application/pdf"})},xn=y.output=y.__private__.output=Ur(function(b,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",b){case void 0:return Ni();case"save":y.save(q.filename);break;case"arraybuffer":return Xe(Ni());case"blob":return ha(Ni());case"bloburi":case"bloburl":if(dr.URL!==void 0&&typeof dr.URL.createObjectURL=="function")return dr.URL&&dr.URL.createObjectURL(ha(Ni()))||void 0;ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",Ne=Ni();try{de=Vw(Ne)}catch{de=Vw(unescape(encodeURIComponent(Ne)))}return"data:application/pdf;filename="+q.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dr)==="[object Window]"){var He="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(He=q.pdfObjectUrl,nt="");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+He+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",Qt=dr.open();return Qt!==null&&Qt.document.write(vt),Qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dr)==="[object Window]"){var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',lr=dr.open();if(lr!==null){lr.document.write(Ht);var sr=this;lr.document.documentElement.querySelector("#pdfViewer").onload=function(){lr.document.title=q.filename,lr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return lr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Mr=dr.open();if(Mr!==null&&(Mr.document.write(Cr),Mr.document.title=q.filename),Mr||typeof safari>"u")return Mr;break;case"datauri":case"dataurl":return dr.document.location.href=this.output("datauristring",q);default:return null}}),Si=function(b){return Array.isArray(ho)===!0&&ho.indexOf(b)>-1};switch(n){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=Si("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ut=n}var cn=null;me(),H();var Ei=function(b){return p!==null?cn.encryptor(b,0):function(q){return q}},go=y.__private__.getPageInfo=y.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:hr[b].objId,pageNumber:b,pageContext:hr[b]}},Ar=y.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in hr)if(hr[q].objId===b)break;return go(q)},Gt=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:hr[$].objId,pageNumber:$,pageContext:hr[$]}};y.addPage=function(){return ua.apply(this,arguments),this},y.setPage=function(){return ii.apply(this,arguments),pe.call(this,Ke[$]),this},y.insertPage=function(b){return this.addPage(),this.movePage($,b),this},y.movePage=function(b,q){var de,Ne;if(b>q){de=Ke[b],Ne=hr[b];for(var He=b;He>q;He--)Ke[He]=Ke[He-1],hr[He]=hr[He-1];Ke[q]=de,hr[q]=Ne,this.setPage(q)}else if(b<q){de=Ke[b],Ne=hr[b];for(var nt=b;nt<q;nt++)Ke[nt]=Ke[nt+1],hr[nt]=hr[nt+1];Ke[q]=de,hr[q]=Ne,this.setPage(q)}return this},y.deletePage=function(){return Ma.apply(this,arguments),this},y.__private__.text=y.text=function(b,q,de,Ne,He){var nt,vt,Qt,Ht,lr,sr,Cr,Mr,zr,Bn=(Ne=Ne||{}).scope||this;if(typeof b=="number"&&typeof q=="number"&&(typeof de=="string"||Array.isArray(de))){var ts=de;de=q,q=b,b=ts}if(arguments[3]instanceof Yt?(M("The transform parameter of text() with a Matrix value"),zr=He):(Qt=arguments[4],Ht=arguments[5],Yr(Cr=arguments[3])==="object"&&Cr!==null||(typeof Qt=="string"&&(Ht=Qt,Qt=null),typeof Cr=="string"&&(Ht=Cr,Cr=null),typeof Cr=="number"&&(Qt=Cr,Cr=null),Ne={flags:Cr,angle:Qt,align:Ht})),isNaN(q)||isNaN(de)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Bn;var Un="",ai=!1,rn=typeof Ne.lineHeightFactor=="number"?Ne.lineHeightFactor:wo,_s=Bn.internal.scaleFactor;function SA(mt){return mt=mt.split("	").join(Array(Ne.TabLen||9).join(" ")),fn(mt,Cr)}function Bs(mt){for(var St,Vt=mt.concat(),Kt=[],or=Vt.length;or--;)typeof(St=Vt.shift())=="string"?Kt.push(St):Array.isArray(mt)&&(St.length===1||St[1]===void 0&&St[2]===void 0)?Kt.push(St[0]):Kt.push([St[0],St[1],St[2]]);return Kt}function eA(mt,St){var Vt;if(typeof mt=="string")Vt=St(mt)[0];else if(Array.isArray(mt)){for(var Kt,or,qn=mt.concat(),er=[],Qn=qn.length;Qn--;)typeof(Kt=qn.shift())=="string"?er.push(St(Kt)[0]):Array.isArray(Kt)&&typeof Kt[0]=="string"&&(or=St(Kt[0],Kt[1],Kt[2]),er.push([or[0],or[1],or[2]]));Vt=er}return Vt}var oi=!1,EA=!0;if(typeof b=="string")oi=!0;else if(Array.isArray(b)){var wa=b.concat();vt=[];for(var xo,on=wa.length;on--;)(typeof(xo=wa.shift())!="string"||Array.isArray(xo)&&typeof xo[0]!="string")&&(EA=!1);oi=EA}if(oi===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var Qs=ot/Bn.internal.scaleFactor,Er=Qs*(rn-1);switch(Ne.baseline){case"bottom":de-=Er;break;case"top":de+=Qs-Er;break;case"hanging":de+=Qs-2*Er;break;case"middle":de+=Qs/2-Er}if((sr=Ne.maxWidth||0)>0&&(typeof b=="string"?b=Bn.splitTextToSize(b,sr):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(mt,St){return mt.concat(Bn.splitTextToSize(St,sr))},[]))),nt={text:b,x:q,y:de,options:Ne,mutex:{pdfEscape:fn,activeFontKey:kt,fonts:Ut,activeFontSize:ot}},jr.publish("preProcessText",nt),b=nt.text,Qt=(Ne=nt.options).angle,!(zr instanceof Yt)&&Qt&&typeof Qt=="number"){Qt*=Math.PI/180,Ne.rotationDirection===0&&(Qt=-Qt),j===B.ADVANCED&&(Qt=-Qt);var Ai=Math.cos(Qt),us=Math.sin(Qt);zr=new Yt(Ai,us,-us,Ai,0,0)}else Qt&&Qt instanceof Yt&&(zr=Qt);j!==B.ADVANCED||zr||(zr=Nr),(lr=Ne.charSpace||fa)!==void 0&&(Un+=G(R(lr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mr=Ne.horizontalScale)!==void 0&&(Un+=G(100*Mr)+` Tz
`),Ne.lang;var hs=-1,FA=Ne.renderingMode!==void 0?Ne.renderingMode:Ne.stroke,Is=Bn.internal.getCurrentPageInfo().pageContext;switch(FA){case 0:case!1:case"fill":hs=0;break;case 1:case!0:case"stroke":hs=1;break;case 2:case"fillThenStroke":hs=2;break;case 3:case"invisible":hs=3;break;case 4:case"fillAndAddForClipping":hs=4;break;case 5:case"strokeAndAddPathForClipping":hs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hs=6;break;case 7:case"addToPathForClipping":hs=7}var $i=Is.usedRenderingMode!==void 0?Is.usedRenderingMode:-1;hs!==-1?Un+=hs+` Tr
`:$i!==-1&&(Un+=`0 Tr
`),hs!==-1&&(Is.usedRenderingMode=hs),Ht=Ne.align||"left";var kn,Ui=ot*rn,Ln=Bn.internal.pageSize.getWidth(),Wa=Ut[kt];lr=Ne.charSpace||fa,sr=Ne.maxWidth||0,Cr=Object.assign({autoencode:!0,noBOM:!0},Ne.flags);var f=[],x=function(mt){return Bn.getStringUnitWidth(mt,{font:Wa,charSpace:lr,fontSize:ot,doKerning:!1})*ot/_s};if(Object.prototype.toString.call(b)==="[object Array]"){var E;vt=Bs(b),Ht!=="left"&&(kn=vt.map(x));var k,O=0;if(Ht==="right"){q-=kn[0],b=[],on=vt.length;for(var W=0;W<on;W++)W===0?(k=bn(q),E=Vs(de)):(k=R(O-kn[W]),E=-Ui),b.push([vt[W],k,E]),O=kn[W]}else if(Ht==="center"){q-=kn[0]/2,b=[],on=vt.length;for(var Ae=0;Ae<on;Ae++)Ae===0?(k=bn(q),E=Vs(de)):(k=R((O-kn[Ae])/2),E=-Ui),b.push([vt[Ae],k,E]),O=kn[Ae]}else if(Ht==="left"){b=[],on=vt.length;for(var ge=0;ge<on;ge++)b.push(vt[ge])}else if(Ht==="justify"&&Wa.encoding==="Identity-H"){b=[],on=vt.length,sr=sr!==0?sr:Ln;for(var Ce=0,be=0;be<on;be++)if(E=be===0?Vs(de):-Ui,k=be===0?bn(q):Ce,be<on-1){var Re=R((sr-kn[be])/(vt[be].split(" ").length-1)),ye=vt[be].split(" ");b.push([ye[0]+" ",k,E]),Ce=0;for(var De=1;De<ye.length;De++){var Fe=(x(ye[De-1]+" "+ye[De])-x(ye[De]))*_s+Re;De==ye.length-1?b.push([ye[De],Fe,0]):b.push([ye[De]+" ",Fe,0]),Ce-=Fe}}else b.push([vt[be],k,E]);b.push(["",Ce,0])}else{if(Ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],on=vt.length,sr=sr!==0?sr:Ln,be=0;be<on;be++)E=be===0?Vs(de):-Ui,k=be===0?bn(q):0,be<on-1?f.push(G(R((sr-kn[be])/(vt[be].split(" ").length-1)))):f.push(0),b.push([vt[be],k,E])}}var Le=typeof Ne.R2L=="boolean"?Ne.R2L:Ie;Le===!0&&(b=eA(b,function(mt,St,Vt){return[mt.split("").reverse().join(""),St,Vt]})),nt={text:b,x:q,y:de,options:Ne,mutex:{pdfEscape:fn,activeFontKey:kt,fonts:Ut,activeFontSize:ot}},jr.publish("postProcessText",nt),b=nt.text,ai=nt.mutex.isHex||!1;var Qe=Ut[kt].encoding;Qe!=="WinAnsiEncoding"&&Qe!=="StandardEncoding"||(b=eA(b,function(mt,St,Vt){return[SA(mt),St,Vt]})),vt=Bs(b),b=[];for(var Pe,qe,Ge,st=0,ct=1,Ct=Array.isArray(vt[0])?ct:st,jt="",bt=function(mt,St,Vt){var Kt="";return Vt instanceof Yt?(Vt=typeof Ne.angle=="number"?ks(Vt,new Yt(1,0,0,1,mt,St)):ks(new Yt(1,0,0,1,mt,St),Vt),j===B.ADVANCED&&(Vt=ks(new Yt(1,0,0,-1,0,0),Vt)),Kt=Vt.join(" ")+` Tm
`):Kt=G(mt)+" "+G(St)+` Td
`,Kt},Bt=0;Bt<vt.length;Bt++){switch(jt="",Ct){case ct:Ge=(ai?"<":"(")+vt[Bt][0]+(ai?">":")"),Pe=parseFloat(vt[Bt][1]),qe=parseFloat(vt[Bt][2]);break;case st:Ge=(ai?"<":"(")+vt[Bt]+(ai?">":")"),Pe=bn(q),qe=Vs(de)}f!==void 0&&f[Bt]!==void 0&&(jt=f[Bt]+` Tw
`),Bt===0?b.push(jt+bt(Pe,qe,zr)+Ge):Ct===st?b.push(jt+Ge):Ct===ct&&b.push(jt+bt(Pe,qe,zr)+Ge)}b=Ct===st?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var Nt=`BT
/`;return Nt+=kt+" "+ot+` Tf
`,Nt+=G(ot*rn)+` TL
`,Nt+=ji+`
`,Nt+=Un,Nt+=b,ne(Nt+="ET"),w[kt]=!0,Bn};var pn=y.__private__.clip=y.clip=function(b){return ne(b==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return pn("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ne("n"),this};var yr=y.__private__.isValidStyle=function(b){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(q=!0),q};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(b){return yr(b)&&(h=b),this};var da=y.__private__.getStyle=y.getStyle=function(b){var q=h;switch(b){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=b}return q},Ha=y.close=function(){return ne("h"),this};y.stroke=function(){return ne("S"),this},y.fill=function(b){return xs("f",b),this},y.fillEvenOdd=function(b){return xs("f*",b),this},y.fillStroke=function(b){return xs("B",b),this},y.fillStrokeEvenOdd=function(b){return xs("B*",b),this};var xs=function(b,q){Yr(q)==="object"?yo(q,b):ne(b)},vo=function(b){b===null||j===B.ADVANCED&&b===void 0||(b=da(b),ne(b))};function Kn(b,q,de,Ne,He){var nt=new Pc(q||this.boundingBox,de||this.xStep,Ne||this.yStep,this.gState,He||this.matrix);nt.stream=this.stream;var vt=b+"$$"+this.cloneIndex+++"$$";return Qr(vt,nt),nt}var yo=function(b,q){var de=ls[b.key],Ne=rr[de];if(Ne instanceof Sl)ne("q"),ne(Ka(q)),Ne.gState&&y.setGState(Ne.gState),ne(b.matrix.toString()+" cm"),ne("/"+de+" sh"),ne("Q");else if(Ne instanceof Pc){var He=new Yt(1,0,0,-1,0,ya());b.matrix&&(He=He.multiply(b.matrix||Nr),de=Kn.call(Ne,b.key,b.boundingBox,b.xStep,b.yStep,He).id),ne("q"),ne("/Pattern cs"),ne("/"+de+" scn"),Ne.gState&&y.setGState(Ne.gState),ne(q),ne("Q")}},Ka=function(b){switch(b){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},an=y.moveTo=function(b,q){return ne(G(R(b))+" "+G(ae(q))+" m"),this},es=y.lineTo=function(b,q){return ne(G(R(b))+" "+G(ae(q))+" l"),this},Fi=y.curveTo=function(b,q,de,Ne,He,nt){return ne([G(R(b)),G(ae(q)),G(R(de)),G(ae(Ne)),G(R(He)),G(ae(nt)),"c"].join(" ")),this};y.__private__.line=y.line=function(b,q,de,Ne,He){if(isNaN(b)||isNaN(q)||isNaN(de)||isNaN(Ne)||!yr(He))throw new Error("Invalid arguments passed to jsPDF.line");return j===B.COMPAT?this.lines([[de-b,Ne-q]],b,q,[1,1],He||"S"):this.lines([[de-b,Ne-q]],b,q,[1,1]).stroke()},y.__private__.lines=y.lines=function(b,q,de,Ne,He,nt){var vt,Qt,Ht,lr,sr,Cr,Mr,zr,Bn,ts,Un,ai;if(typeof b=="number"&&(ai=de,de=q,q=b,b=ai),Ne=Ne||[1,1],nt=nt||!1,isNaN(q)||isNaN(de)||!Array.isArray(b)||!Array.isArray(Ne)||!yr(He)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(an(q,de),vt=Ne[0],Qt=Ne[1],lr=b.length,ts=q,Un=de,Ht=0;Ht<lr;Ht++)(sr=b[Ht]).length===2?(ts=sr[0]*vt+ts,Un=sr[1]*Qt+Un,es(ts,Un)):(Cr=sr[0]*vt+ts,Mr=sr[1]*Qt+Un,zr=sr[2]*vt+ts,Bn=sr[3]*Qt+Un,ts=sr[4]*vt+ts,Un=sr[5]*Qt+Un,Fi(Cr,Mr,zr,Bn,ts,Un));return nt&&Ha(),vo(He),this},y.path=function(b){for(var q=0;q<b.length;q++){var de=b[q],Ne=de.c;switch(de.op){case"m":an(Ne[0],Ne[1]);break;case"l":es(Ne[0],Ne[1]);break;case"c":Fi.apply(this,Ne);break;case"h":Ha()}}return this},y.__private__.rect=y.rect=function(b,q,de,Ne,He){if(isNaN(b)||isNaN(q)||isNaN(de)||isNaN(Ne)||!yr(He))throw new Error("Invalid arguments passed to jsPDF.rect");return j===B.COMPAT&&(Ne=-Ne),ne([G(R(b)),G(ae(q)),G(R(de)),G(R(Ne)),"re"].join(" ")),vo(He),this},y.__private__.triangle=y.triangle=function(b,q,de,Ne,He,nt,vt){if(isNaN(b)||isNaN(q)||isNaN(de)||isNaN(Ne)||isNaN(He)||isNaN(nt)||!yr(vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-b,Ne-q],[He-de,nt-Ne],[b-He,q-nt]],b,q,[1,1],vt,!0),this},y.__private__.roundedRect=y.roundedRect=function(b,q,de,Ne,He,nt,vt){if(isNaN(b)||isNaN(q)||isNaN(de)||isNaN(Ne)||isNaN(He)||isNaN(nt)||!yr(vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qt=4/3*(Math.SQRT2-1);return He=Math.min(He,.5*de),nt=Math.min(nt,.5*Ne),this.lines([[de-2*He,0],[He*Qt,0,He,nt-nt*Qt,He,nt],[0,Ne-2*nt],[0,nt*Qt,-He*Qt,nt,-He,nt],[2*He-de,0],[-He*Qt,0,-He,-nt*Qt,-He,-nt],[0,2*nt-Ne],[0,-nt*Qt,He*Qt,-nt,He,-nt]],b+He,q,[1,1],vt,!0),this},y.__private__.ellipse=y.ellipse=function(b,q,de,Ne,He){if(isNaN(b)||isNaN(q)||isNaN(de)||isNaN(Ne)||!yr(He))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*de,vt=4/3*(Math.SQRT2-1)*Ne;return an(b+de,q),Fi(b+de,q-vt,b+nt,q-Ne,b,q-Ne),Fi(b-nt,q-Ne,b-de,q-vt,b-de,q),Fi(b-de,q+vt,b-nt,q+Ne,b,q+Ne),Fi(b+nt,q+Ne,b+de,q+vt,b+de,q),vo(He),this},y.__private__.circle=y.circle=function(b,q,de,Ne){if(isNaN(b)||isNaN(q)||isNaN(de)||!yr(Ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,q,de,de,Ne)},y.setFont=function(b,q,de){return de&&(q=K(q,de)),kt=Ci(b,q,{disableWarning:!1}),this};var CA=y.__private__.getFont=y.getFont=function(){return Ut[Ci.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var b,q,de={};for(b in _t)if(_t.hasOwnProperty(b))for(q in de[b]=[],_t[b])_t[b].hasOwnProperty(q)&&de[b].push(q);return de},y.addFont=function(b,q,de,Ne,He){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?He=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(de=K(de,Ne)),He=He||"Identity-H",Da.call(this,b,q,de,He)};var wo,Vi=t.lineWidth||.200025,qa=y.__private__.getLineWidth=y.getLineWidth=function(){return Vi},il=y.__private__.setLineWidth=y.setLineWidth=function(b){return Vi=b,ne(G(R(b))+" w"),this};y.__private__.setLineDash=ar.API.setLineDash=ar.API.setLineDashPattern=function(b,q){if(b=b||[],q=q||0,isNaN(q)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(de){return G(R(de))}).join(" "),q=G(R(q)),ne("["+b+"] "+q+" d"),this};var za=y.__private__.getLineHeight=y.getLineHeight=function(){return ot*wo};y.__private__.getLineHeight=y.getLineHeight=function(){return ot*wo};var gr=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(wo=b),this},Go=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return wo};gr(t.lineHeight);var bn=y.__private__.getHorizontalCoordinate=function(b){return R(b)},Vs=y.__private__.getVerticalCoordinate=function(b){return j===B.ADVANCED?b:hr[$].mediaBox.topRightY-hr[$].mediaBox.bottomLeftY-R(b)},al=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(b){return G(bn(b))},Wi=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(b){return G(Vs(b))},bs=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Mn(bs)},y.__private__.setStrokeColor=y.setDrawColor=function(b,q,de,Ne){return bs=Fn({ch1:b,ch2:q,ch3:de,ch4:Ne,pdfColorType:"draw",precision:2}),ne(bs),this};var $o=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Mn($o)},y.__private__.setFillColor=y.setFillColor=function(b,q,de,Ne){return $o=Fn({ch1:b,ch2:q,ch3:de,ch4:Ne,pdfColorType:"fill",precision:2}),ne($o),this};var ji=t.textColor||"0 g",Jo=y.__private__.getTextColor=y.getTextColor=function(){return Mn(ji)};y.__private__.setTextColor=y.setTextColor=function(b,q,de,Ne){return ji=Fn({ch1:b,ch2:q,ch3:de,ch4:Ne,pdfColorType:"text",precision:3}),this};var fa=t.charSpace,Zo=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(fa||0)};y.__private__.setCharSpace=y.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fa=b,this};var NA=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(b){var q=y.CapJoinStyles[b];if(q===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return NA=q,ne(q+" J"),this};var jn=0;y.__private__.setLineJoin=y.setLineJoin=function(b){var q=y.CapJoinStyles[b];if(q===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jn=q,ne(q+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(G(R(b))+" M"),this},y.GState=Rf,y.setGState=function(b){(b=typeof b=="string"?xt[cs[b]]:Xo(null,b)).equals(xi)||(ne("/"+b.id+" gs"),xi=b)};var Xo=function(b,q){if(!b||!cs[b]){var de=!1;for(var Ne in xt)if(xt.hasOwnProperty(Ne)&&xt[Ne].equals(q)){de=!0;break}if(de)q=xt[Ne];else{var He="GS"+(Object.keys(xt).length+1).toString(10);xt[He]=q,q.id=He}return b&&(cs[b]=q.id),jr.publish("addGState",q),q}};y.addGState=function(b,q){return Xo(b,q),this},y.saveGraphicsState=function(){return ne("q"),Kr.push({key:kt,size:ot,color:ji}),this},y.restoreGraphicsState=function(){ne("Q");var b=Kr.pop();return kt=b.key,ot=b.size,ji=b.color,xi=null,this},y.setCurrentTransformationMatrix=function(b){return ne(b.toString()+" cm"),this},y.comment=function(b){return ne("#"+b),this};var pa=function(b,q){var de=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(nt){isNaN(nt)||(de=parseFloat(nt))}});var Ne=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ne},set:function(nt){isNaN(nt)||(Ne=parseFloat(nt))}});var He="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return He},set:function(nt){He=nt.toString()}}),this},Ls=function(b,q,de,Ne){pa.call(this,b,q),this.type="rect";var He=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return He},set:function(vt){isNaN(vt)||(He=parseFloat(vt))}});var nt=Ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(vt){isNaN(vt)||(nt=parseFloat(vt))}}),this},Va=function(){this.page=tn,this.currentPage=$,this.pages=Ke.slice(0),this.pagesContext=hr.slice(0),this.x=wr,this.y=Pt,this.matrix=Or,this.width=ga($),this.height=ya($),this.outputDestination=Ye,this.id="",this.objectNumber=-1};Va.prototype.restore=function(){tn=this.page,$=this.currentPage,hr=this.pagesContext,Ke=this.pages,wr=this.x,Pt=this.y,Or=this.matrix,va($,this.width),Yo($,this.height),Ye=this.outputDestination};var _n=function(b,q,de,Ne,He){Zn.push(new Va),tn=$=0,Ke=[],wr=b,Pt=q,Or=He,wn([de,Ne])},ma=function(b){if(ws[b])Zn.pop().restore();else{var q=new Va,de="Xo"+(Object.keys(Jn).length+1).toString(10);q.id=de,ws[b]=de,Jn[de]=q,jr.publish("addFormObject",q),Zn.pop().restore()}};for(var Gi in y.beginFormObject=function(b,q,de,Ne,He){return _n(b,q,de,Ne,He),this},y.endFormObject=function(b){return ma(b),this},y.doFormObject=function(b,q){var de=Jn[ws[b]];return ne("q"),ne(q.toString()+" cm"),ne("/"+de.id+" Do"),ne("Q"),this},y.getFormObject=function(b){var q=Jn[ws[b]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},y.save=function(b,q){return b=b||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Cc(ha(Ni()),b),typeof Cc.unload=="function"&&dr.setTimeout&&setTimeout(Cc.unload,911),this):new Promise(function(de,Ne){try{var He=Cc(ha(Ni()),b);typeof Cc.unload=="function"&&dr.setTimeout&&setTimeout(Cc.unload,911),de(He)}catch(nt){Ne(nt.message)}})},ar.API)ar.API.hasOwnProperty(Gi)&&(Gi==="events"&&ar.API.events.length?function(b,q){var de,Ne,He;for(He=q.length-1;He!==-1;He--)de=q[He][0],Ne=q[He][1],b.subscribe.apply(b,[de].concat(typeof Ne=="function"?[Ne]:Ne))}(jr,ar.API.events):y[Gi]=ar.API[Gi]);var ga=y.getPageWidth=function(b){return(hr[b=b||$].mediaBox.topRightX-hr[b].mediaBox.bottomLeftX)/ut},va=y.setPageWidth=function(b,q){hr[b].mediaBox.topRightX=q*ut+hr[b].mediaBox.bottomLeftX},ya=y.getPageHeight=function(b){return(hr[b=b||$].mediaBox.topRightY-hr[b].mediaBox.bottomLeftY)/ut},Yo=y.setPageHeight=function(b,q){hr[b].mediaBox.topRightY=q*ut+hr[b].mediaBox.bottomLeftY};return y.internal={pdfEscape:fn,getStyle:da,getFont:CA,getFontSize:Ee,getCharSpace:Zo,getTextColor:Jo,getLineHeight:za,getLineHeightFactor:Go,getLineWidth:qa,write:it,getHorizontalCoordinate:bn,getVerticalCoordinate:Vs,getCoordinateString:al,getVerticalCoordinateString:Wi,collections:{},newObject:Rr,newAdditionalObject:Hi,newObjectDeferred:Lt,newObjectDeferredBegin:Xn,getFilters:Hn,putStream:Hs,events:jr,scaleFactor:ut,pageSize:{getWidth:function(){return ga($)},setWidth:function(b){va($,b)},getHeight:function(){return ya($)},setHeight:function(b){Yo($,b)}},encryptionOptions:p,encryption:cn,getEncryptor:Ei,output:xn,getNumberOfPages:Gr,pages:Ke,out:ne,f2:oe,f3:D,getPageInfo:go,getPageInfoByObjId:Ar,getCurrentPageInfo:Gt,getPDFVersion:S,Point:pa,Rectangle:Ls,Matrix:Yt,hasHotfix:Si},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return ga($)},set:function(b){va($,b)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return ya($)},set:function(b){Yo($,b)},enumerable:!0,configurable:!0}),mr.call(y,Ze),kt="F1",ua(s,r),jr.publish("initialized"),y}Wu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Wu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Wu.prototype.processOwnerPassword=function(t,e){return Gw(Ww(e).substr(0,5),t)},Wu.prototype.encryptor=function(t,e){var r=Ww(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Gw(r,n)}},Rf.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Yr(t)!==Yr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ar.API={events:[]},ar.version="2.5.2";var Wn=ar.API,xx=1,pu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Du=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vr=function(t){return t.toFixed(2)},ml=function(t){return t.toFixed(5)};Wn.__acroform__={};var Aa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},cB=function(t){return t*xx},aA=function(t){var e=new bS,r=$t.internal.getHeight(t)||0,n=$t.internal.getWidth(t)||0;return e.BBox=[0,0,Number(vr(n)),Number(vr(r))],e},F8=Wn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},j8=Wn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},U8=Wn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},as=Wn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return U8(t,e-1)},os=Wn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return F8(t,e-1)},As=Wn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return j8(t,e-1)},k8=Wn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=n(i)||0,[Number(vr(c.lowerLeft_X)),Number(vr(c.lowerLeft_Y)),Number(vr(c.upperRight_X)),Number(vr(c.upperRight_Y))]},L8=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=$w(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+vr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=aA(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},$w=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(D){return D.split(`
`)}):s.map(function(D){return[D]});var i=r,o=$t.internal.getHeight(t)||0;o=o<0?-o:o;var l=$t.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(D,R,re){if(D+1<s.length){var ae=R+" "+s[D+1][0];return hm(ae,t,re).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var h,p,g=hm("3",t,i).height,w=t.multiline?o-i:(o-g)/2,y=w+=2,F=0,S=0,Q=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+hm(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var _="",B=0,j=0;j<s.length;j++)if(s.hasOwnProperty(j)){var T=!1;if(s[j].length!==1&&Q!==s[j].length-1){if((g+2)*(B+2)+2>o)continue e;_+=s[j][Q],T=!0,S=j,j--}else{_=(_+=s[j][Q]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var V=parseInt(j),K=c(V,_,i),G=j>=s.length-1;if(K&&!G){_+=" ",Q=0;continue}if(K||G){if(G)S=V;else if(t.multiline&&(g+2)*(B+2)+2>o)continue e}else{if(!t.multiline||(g+2)*(B+2)+2>o)continue e;S=V}}for(var M="",Z=F;Z<=S;Z++){var oe=s[Z];if(t.multiline){if(Z===S){M+=oe[Q]+" ",Q=(Q+1)%oe.length;continue}if(Z===F){M+=oe[oe.length-1]+" ";continue}}M+=oe[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,p=hm(M,t,i).width,t.textAlign){case"right":h=l-p-2;break;case"center":h=(l-p)/2;break;case"left":default:h=2}e+=vr(h)+" "+vr(y)+` Td
`,e+="("+pu(M)+`) Tj
`,e+=-vr(h)+` 0 Td
`,y=-(i+2),p=0,F=T?S:S+1,B++,_=""}break}return n.text=e,n.fontSize=i,n},hm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},Q8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},I8=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},P8=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),Yr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},T8=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(qo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Q8)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xx=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new _S,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&I8(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],h=l.Rect;if(l.Rect&&(l.Rect=k8(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=$t.createDefaultAppearanceStream(l),Yr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=L8(l);c.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var g="";for(var w in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(w)){var y=l.appearanceStreamContent[w];if(g+="/"+w+" ",g+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var o in y)if(y.hasOwnProperty(o)){var F=y[o];typeof F=="function"&&(F=F.call(s,l)),g+="/"+o+" "+F+" ",s.internal.acroformPlugin.xForms.indexOf(F)>=0||s.internal.acroformPlugin.xForms.push(F)}}else typeof(F=y)=="function"&&(F=F.call(s,l)),g+="/"+o+" "+F,s.internal.acroformPlugin.xForms.indexOf(F)>=0||s.internal.acroformPlugin.xForms.push(F);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&P8(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},xS=Wn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Yr(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+pu(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Dv=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+pu(n(t))+")"},pA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pA.prototype.toString=function(){return this.objId+" 0 R"},pA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},pA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:xS(s,this.objId,this.scope)}):s instanceof pA?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var bS=function(){pA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Aa(bS,pA);var _S=function(){pA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+pu(r(t))+")"}},set:function(r){t=r}})};Aa(_S,pA);var qo=function t(){pA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!as(e,3)},set:function(_){_?this.F=os(e,3):this.F=As(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Bg)return;i="FieldObject"+t.FieldNum++}var _=function(B){return B};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+pu(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/xx:h},set:function(_){h=_}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(_){p=_}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Bg||this instanceof rc))return Dv(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=_}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Ss?w:Dv(w,this.objId,this.scope)},set:function(_){_=_.toString(),w=this instanceof Ss?_:_.substr(0,1)==="("?Du(_.substr(1,_.length-2)):Du(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ss?Du(w.substr(1,w.length-1)):w},set:function(_){_=_.toString(),w=this instanceof Ss?"/"+_:_}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ss?y:Dv(y,this.objId,this.scope)},set:function(_){_=_.toString(),y=this instanceof Ss?_:_.substr(0,1)==="("?Du(_.substr(1,_.length-2)):Du(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ss?Du(y.substr(1,y.length-1)):y},set:function(_){_=_.toString(),y=this instanceof Ss?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var F,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(_){_=!!_,S=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(F)return F},set:function(_){F=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,1)},set:function(_){_?this.Ff=os(this.Ff,1):this.Ff=As(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,2)},set:function(_){_?this.Ff=os(this.Ff,2):this.Ff=As(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,3)},set:function(_){_?this.Ff=os(this.Ff,3):this.Ff=As(this.Ff,3)}});var Q=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Q!==null)return Q},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');Q=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(Q){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:Q=2;break;case"center":case 1:Q=1;break;case"left":case 0:default:Q=0}}})};Aa(qo,pA);var Zc=function(){qo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xS(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,o,l){l||(l=1);for(var c,h=[];c=o.exec(i);)h.push(c[l]);return h}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,18)},set:function(r){r?this.Ff=os(this.Ff,18):this.Ff=As(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=os(this.Ff,19):this.Ff=As(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,20)},set:function(r){r?(this.Ff=os(this.Ff,20),e.sort()):this.Ff=As(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,22)},set:function(r){r?this.Ff=os(this.Ff,22):this.Ff=As(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,23)},set:function(r){r?this.Ff=os(this.Ff,23):this.Ff=As(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,27)},set:function(r){r?this.Ff=os(this.Ff,27):this.Ff=As(this.Ff,27)}}),this.hasAppearanceStream=!1};Aa(Zc,qo);var Xc=function(){Zc.call(this),this.fontName="helvetica",this.combo=!1};Aa(Xc,Zc);var Yc=function(){Xc.call(this),this.combo=!0};Aa(Yc,Xc);var nf=function(){Yc.call(this),this.edit=!0};Aa(nf,Yc);var Ss=function(){qo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,15)},set:function(r){r?this.Ff=os(this.Ff,15):this.Ff=As(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,16)},set:function(r){r?this.Ff=os(this.Ff,16):this.Ff=As(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,17)},set:function(r){r?this.Ff=os(this.Ff,17):this.Ff=As(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,26)},set:function(r){r?this.Ff=os(this.Ff,26):this.Ff=As(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+pu(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Yr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Aa(Ss,qo);var sf=function(){Ss.call(this),this.pushButton=!0};Aa(sf,Ss);var eu=function(){Ss.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Aa(eu,Ss);var Bg=function(){var t,e;qo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+pu(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Yr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Aa(Bg,qo),eu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},eu.prototype.createOption=function(t){var e=new Bg;return e.Parent=this,e.optionName=t,this.Kids.push(e),O8.call(this.scope,e),e};var af=function(){Ss.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};Aa(af,Ss);var rc=function(){qo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,13)},set:function(e){e?this.Ff=os(this.Ff,13):this.Ff=As(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,21)},set:function(e){e?this.Ff=os(this.Ff,21):this.Ff=As(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,23)},set:function(e){e?this.Ff=os(this.Ff,23):this.Ff=As(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,24)},set:function(e){e?this.Ff=os(this.Ff,24):this.Ff=As(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,25)},set:function(e){e?this.Ff=os(this.Ff,25):this.Ff=As(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,26)},set:function(e){e?this.Ff=os(this.Ff,26):this.Ff=As(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Aa(rc,qo);var of=function(){rc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,14)},set:function(t){t?this.Ff=os(this.Ff,14):this.Ff=As(this.Ff,14)}}),this.password=!0};Aa(of,rc);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=$w(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+vr($t.internal.getWidth(t))+" "+vr($t.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+vr(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=$t.internal.getHeight(t),o=$t.internal.getWidth(t),l=$w(t,t.caption);return s.push("1 g"),s.push("0 0 "+vr(o)+" "+vr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+vr(o-1)+" "+vr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+vr(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vr($t.internal.getWidth(t))+" "+vr($t.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=$t.RadioButton.Circle.YesNormal,e.D[t]=$t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=$t.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ml($t.internal.getWidth(t)/2)+" "+ml($t.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*$t.internal.Bezier_C).toFixed(5)),o=Number((n*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ml($t.internal.getWidth(t)/2)+" "+ml($t.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ml($t.internal.getWidth(t)/2)+" "+ml($t.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ml($t.internal.getWidth(t)/2)+" "+ml($t.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=$t.RadioButton.Cross.YesNormal,e.D[t]=$t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=aA(t);e.scope=t.scope;var r=[],n=$t.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+vr($t.internal.getWidth(t)-2)+" "+vr($t.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(vr(n.x1.x)+" "+vr(n.x1.y)+" m"),r.push(vr(n.x2.x)+" "+vr(n.x2.y)+" l"),r.push(vr(n.x4.x)+" "+vr(n.x4.y)+" m"),r.push(vr(n.x3.x)+" "+vr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=$t.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+vr($t.internal.getWidth(t))+" "+vr($t.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+vr($t.internal.getWidth(t)-2)+" "+vr($t.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(vr(r.x1.x)+" "+vr(r.x1.y)+" m"),n.push(vr(r.x2.x)+" "+vr(r.x2.y)+" l"),n.push(vr(r.x4.x)+" "+vr(r.x4.y)+" m"),n.push(vr(r.x3.x)+" "+vr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=aA(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vr($t.internal.getWidth(t))+" "+vr($t.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};$t.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=$t.internal.getWidth(t),r=$t.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},$t.internal.getWidth=function(t){var e=0;return Yr(t)==="object"&&(e=cB(t.Rect[2])),e},$t.internal.getHeight=function(t){var e=0;return Yr(t)==="object"&&(e=cB(t.Rect[3])),e};var O8=Wn.addField=function(t){if(T8(this,t),!(t instanceof qo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Wn.AcroFormChoiceField=Zc,Wn.AcroFormListBox=Xc,Wn.AcroFormComboBox=Yc,Wn.AcroFormEditBox=nf,Wn.AcroFormButton=Ss,Wn.AcroFormPushButton=sf,Wn.AcroFormRadioButton=eu,Wn.AcroFormCheckBox=af,Wn.AcroFormTextField=rc,Wn.AcroFormPasswordField=of,Wn.AcroFormAppearance=$t,Wn.AcroForm={ChoiceField:Zc,ListBox:Xc,ComboBox:Yc,EditBox:nf,Button:Ss,PushButton:sf,RadioButton:eu,CheckBox:af,TextField:rc,PasswordField:of,Appearance:$t},ar.AcroForm={ChoiceField:Zc,ListBox:Xc,ComboBox:Yc,EditBox:nf,Button:Ss,PushButton:sf,RadioButton:eu,CheckBox:af,TextField:rc,PasswordField:of,Appearance:$t};ar.AcroForm;function BS(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(D,R){var re,ae,Se,ve,Ue,H=e;if((R=R||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(K(D))for(Ue in r)for(Se=r[Ue],re=0;re<Se.length;re+=1){for(ve=!0,ae=0;ae<Se[re].length;ae+=1)if(Se[re][ae]!==void 0&&Se[re][ae]!==D[ae]){ve=!1;break}if(ve===!0){H=Ue;break}}else for(Ue in r)for(Se=r[Ue],re=0;re<Se.length;re+=1){for(ve=!0,ae=0;ae<Se[re].length;ae+=1)if(Se[re][ae]!==void 0&&Se[re][ae]!==D.charCodeAt(ae)){ve=!1;break}if(ve===!0){H=Ue;break}}return H===e&&R!==e&&(H=R),H},s=function D(R){for(var re=this.internal.write,ae=this.internal.putStream,Se=(0,this.internal.getFilters)();Se.indexOf("FlateEncode")!==-1;)Se.splice(Se.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:R.width}),ve.push({key:"Height",value:R.height}),R.colorSpace===Q.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===Q.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var Ue="",H=0,ue=R.transparency.length;H<ue;H++)Ue+=R.transparency[H]+" "+R.transparency[H]+" ";ve.push({key:"Mask",value:"["+Ue+"]"})}R.sMask!==void 0&&ve.push({key:"SMask",value:R.objectId+1+" 0 R"});var ee=R.filter!==void 0?["/"+R.filter]:void 0;if(ae({data:R.data,additionalKeyValues:ve,alreadyAppliedFilters:ee,objectId:R.objectId}),re("endobj"),"sMask"in R&&R.sMask!==void 0){var me="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,P={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:me,data:R.sMask};"filter"in R&&(P.filter=R.filter),D.call(this,P)}if(R.colorSpace===Q.INDEXED){var $=this.internal.newObject();ae({data:M(new Uint8Array(R.palette)),objectId:$}),re("endobj")}},i=function(){var D=this.internal.collections.addImage_images;for(var R in D)s.call(this,D[R])},o=function(){var D,R=this.internal.collections.addImage_images,re=this.internal.write;for(var ae in R)re("/I"+(D=R[ae]).index,D.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var D=this.internal.collections.addImage_images;return l.call(this),D},h=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(D){return typeof t["process"+D.toUpperCase()]=="function"},g=function(D){return Yr(D)==="object"&&D.nodeType===1},w=function(D,R){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var re=""+D.getAttribute("src");if(re.indexOf("data:image/")===0)return rf(unescape(re).split("base64,").pop());var ae=t.loadFile(re,!0);if(ae!==void 0)return ae}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var Se;switch(R){case"PNG":Se="image/png";break;case"WEBP":Se="image/webp";break;case"JPEG":case"JPG":default:Se="image/jpeg"}return rf(D.toDataURL(Se,1).split("base64,").pop())}},y=function(D){var R=this.internal.collections.addImage_images;if(R){for(var re in R)if(D===R[re].alias)return R[re]}},F=function(D,R,re){return D||R||(D=-96,R=-96),D<0&&(D=-1*re.width*72/D/this.internal.scaleFactor),R<0&&(R=-1*re.height*72/R/this.internal.scaleFactor),D===0&&(D=R*re.width/re.height),R===0&&(R=D*re.height/re.width),[D,R]},S=function(D,R,re,ae,Se,ve){var Ue=F.call(this,re,ae,Se),H=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,ee=c.call(this);if(re=Ue[0],ae=Ue[1],ee[Se.index]=Se,ve){ve*=Math.PI/180;var me=Math.cos(ve),P=Math.sin(ve),$=function(ce){return ce.toFixed(4)},se=[$(me),$(P),$(-1*P),$(me),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,H(D),ue(R+ae),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([H(re),"0","0",H(ae),"0","0","cm"].join(" "))):this.internal.write([H(re),"0","0",H(ae),H(D),ue(R+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Se.index+" Do"),this.internal.write("Q")},Q=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(D){var R,re,ae=0;if(typeof D=="string")for(re=D.length,R=0;R<re;R++)ae=(ae<<5)-ae+D.charCodeAt(R),ae|=0;else if(K(D))for(re=D.byteLength/2,R=0;R<re;R++)ae=(ae<<5)-ae+D[R],ae|=0;return ae},j=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var R=!0;return D.length===0&&(R=!1),D.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(R=!1),R},T=t.__addimage__.extractImageFromDataUrl=function(D){var R=(D=D||"").split("base64,"),re=null;if(R.length===2){var ae=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(ae)&&(re={mimeType:ae[1],charset:ae[2],data:R[1]})}return re},V=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(D){return V()&&D instanceof ArrayBuffer};var K=t.__addimage__.isArrayBufferView=function(D){return V()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},G=t.__addimage__.binaryStringToUint8Array=function(D){for(var R=D.length,re=new Uint8Array(R),ae=0;ae<R;ae++)re[ae]=D.charCodeAt(ae);return re},M=t.__addimage__.arrayBufferToBinaryString=function(D){for(var R="",re=K(D)?D:new Uint8Array(D),ae=0;ae<re.length;ae+=8192)R+=String.fromCharCode.apply(null,re.subarray(ae,ae+8192));return R};t.addImage=function(){var D,R,re,ae,Se,ve,Ue,H,ue;if(typeof arguments[1]=="number"?(R=e,re=arguments[1],ae=arguments[2],Se=arguments[3],ve=arguments[4],Ue=arguments[5],H=arguments[6],ue=arguments[7]):(R=arguments[1],re=arguments[2],ae=arguments[3],Se=arguments[4],ve=arguments[5],Ue=arguments[6],H=arguments[7],ue=arguments[8]),Yr(D=arguments[0])==="object"&&!g(D)&&"imageData"in D){var ee=D;D=ee.imageData,R=ee.format||R||e,re=ee.x||re||0,ae=ee.y||ae||0,Se=ee.w||ee.width||Se,ve=ee.h||ee.height||ve,Ue=ee.alias||Ue,H=ee.compression||H,ue=ee.rotation||ee.angle||ue}var me=this.internal.getFilters();if(H===void 0&&me.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(re)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=Z.call(this,D,R,Ue,H);return S.call(this,re,ae,Se,ve,P,ue),this};var Z=function(D,R,re,ae){var Se,ve,Ue;if(typeof D=="string"&&n(D)===e){D=unescape(D);var H=oe(D,!1);(H!==""||(H=t.loadFile(D,!0))!==void 0)&&(D=H)}if(g(D)&&(D=w(D,R)),R=n(D,R),!p(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((Ue=re)==null||Ue.length===0)&&(re=function(ue){return typeof ue=="string"||K(ue)?B(ue):K(ue.data)?B(ue.data):null}(D)),(Se=y.call(this,re))||(V()&&(D instanceof Uint8Array||R==="RGBA"||(ve=D,D=G(D))),Se=this["process"+R.toUpperCase()](D,h.call(this),re,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:_.NONE}(ae),ve)),!Se)throw new Error("An unknown error occurred whilst processing the image.");return Se},oe=t.__addimage__.convertBase64ToBinaryString=function(D,R){var re;R=typeof R!="boolean"||R;var ae,Se="";if(typeof D=="string"){ae=(re=T(D))!==null?re.data:D;try{Se=rf(ae)}catch(ve){if(R)throw j(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Se};t.getImageProperties=function(D){var R,re,ae="";if(g(D)&&(D=w(D)),typeof D=="string"&&n(D)===e&&((ae=oe(D,!1))===""&&(ae=t.loadFile(D)||""),D=ae),re=n(D),!p(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(!V()||D instanceof Uint8Array||(D=G(D)),!(R=this["process"+re.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=re,R}})(ar.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ar.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,p=!1,g=0;g<h.length&&!p;g++)switch((n=h[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<h.length;w++){n=h[w];var y=this.internal.pdfEscape,F=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),Q=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(S.objId),B=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+y(_(n.contents))+")",i+=" /Popup "+Q.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+y(_(B))+") >>",S.content=i;var j=S.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(i+=" /Open true"),i+=" >>",Q.content=i,this.internal.write(S.objId,"0 R",Q.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+y(F(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var V=this.annotations._nameMap[n.options.name];n.options.pageNumber=V.page,n.options.top=V.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+y(F(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var K=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+K+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:h(n),w:c(r+s),h:h(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,s,i){var o,l,c=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var p=this.splitTextToSize(r,l).length;o=Math.ceil(h*p)}else l=c,o=h;return this.text(r,n,s,i),s+=.2*h,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-h,l,o,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ar.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=t.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&i(S)&&e[S.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&s.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&i(S)&&e[S.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&i(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&i(S)&&e[S.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&i(S)&&e[S.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(S){var Q=0,_=r,B="",j=0;for(Q=0;Q<S.length;Q+=1)_[S.charCodeAt(Q)]!==void 0?(j++,typeof(_=_[S.charCodeAt(Q)])=="number"&&(B+=String.fromCharCode(_),_=r,j=0),Q===S.length-1&&(_=r,B+=S.charAt(Q-(j-1)),Q-=j-1,j=0)):(_=r,B+=S.charAt(Q-j),Q-=j,j=0);return B};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var w=t.__arabicParser__.getCorrectForm=function(S,Q,_){return o(S)?i(S)===!1?-1:!h(S)||!o(Q)&&!o(_)||!o(_)&&l(Q)||l(S)&&!o(Q)||l(S)&&c(Q)||l(S)&&l(Q)?0:p(S)&&o(Q)&&!l(Q)&&o(_)&&h(_)?3:l(S)||!o(_)?1:2:-1},y=function(S){var Q=0,_=0,B=0,j="",T="",V="",K=(S=S||"").split("\\s+"),G=[];for(Q=0;Q<K.length;Q+=1){for(G.push(""),_=0;_<K[Q].length;_+=1)j=K[Q][_],T=K[Q][_-1],V=K[Q][_+1],o(j)?(B=w(j,T,V),G[Q]+=B!==-1?String.fromCharCode(e[j.charCodeAt(0)][B]):j):G[Q]+=j;G[Q]=g(G[Q])}return G.join(" ")},F=t.__arabicParser__.processArabic=t.processArabic=function(){var S,Q=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(Q)){var B=0;for(_=[],B=0;B<Q.length;B+=1)Array.isArray(Q[B])?_.push([y(Q[B][0]),Q[B][1],Q[B][2]]):_.push([y(Q[B])]);S=_}else S=y(Q);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",F])}(ar.API),ar.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ar.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(S){w=S}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var F=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return F},set:function(S){F=S}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,h){n.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),w=h.scaleFactor||this.internal.scaleFactor,y=0,F=0,S=0,Q=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var _=h.maxWidth;_>0?typeof c=="string"?c=this.splitTextToSize(c,_):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,T){return j.concat(Q.splitTextToSize(T,_))},[])):c=Array.isArray(c)?c:[c];for(var B=0;B<c.length;B++)y<(S=this.getStringUnitWidth(c[B],{font:g})*p)&&(y=S);return y!==0&&(F=c.length),{w:y/=w,h:Math.max((F*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,y&&w&&(this.printHeaderRow(c.lineNumber,!0),c.y+=w[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};t.table=function(c,h,p,g,w){if(n.call(this),!p)throw new Error("No data for PDF table.");var y,F,S,Q,_=[],B=[],j=[],T={},V={},K=[],G=[],M=(w=w||{}).autoSize||!1,Z=w.printHeaders!==!1,oe=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,D=w.margins||Object.assign({width:this.getPageWidth()},e),R=typeof w.padding=="number"?w.padding:3,re=w.headerBackgroundColor||"#c8c8c8",ae=w.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=Z,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=re,this.internal.__cell__.headerTextColor=ae,this.setFontSize(oe),g==null)B=_=Object.keys(p[0]),j=_.map(function(){return"left"});else if(Array.isArray(g)&&Yr(g[0])==="object")for(_=g.map(function(ee){return ee.name}),B=g.map(function(ee){return ee.prompt||ee.name||""}),j=g.map(function(ee){return ee.align||"left"}),y=0;y<g.length;y+=1)V[g[y].name]=g[y].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(B=_=g,j=_.map(function(){return"left"}));if(M||Array.isArray(g)&&typeof g[0]=="string")for(y=0;y<_.length;y+=1){for(T[Q=_[y]]=p.map(function(ee){return ee[Q]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(B[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),F=T[Q],this.setFont(void 0,"normal"),S=0;S<F.length;S+=1)K.push(this.getTextDimensions(F[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[Q]=Math.max.apply(null,K)+R+R,K=[]}if(Z){var Se={};for(y=0;y<_.length;y+=1)Se[_[y]]={},Se[_[y]].text=B[y],Se[_[y]].align=j[y];var ve=l.call(this,Se,V);G=_.map(function(ee){return new i(c,h,V[ee],ve,Se[ee].text,void 0,Se[ee].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var Ue=g.reduce(function(ee,me){return ee[me.name]=me.align,ee},{});for(y=0;y<p.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:p[y]},this);var H=l.call(this,p[y],V);for(S=0;S<_.length;S+=1){var ue=p[y][_[S]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:S,data:ue},this),o.call(this,new i(c,h,V[_[S]],H,ue,y+2,Ue[_[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var l=function(c,h){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(c).map(function(y){var F=c[y];return this.splitTextToSize(F.hasOwnProperty("text")?F.text:F,h[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*g/w+p+p},this).reduce(function(y,F){return Math.max(y,F)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=c;var F=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(F)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),r=!1}}(ar.API);var CS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},NS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Jw=BS(NS),SS=[100,200,300,400,500,600,700,800,900],R8=BS(SS);function Zw(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return CS[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof Jw[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function uB(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var D8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function M8(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},D8,r.genericFontFamilies||{}),i=null,o=null,l=0;l<e.length;++l)if(s[(i=Zw(e[l])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+dB(i)+"' and default family '"+n+"'.");if(o=function(c,h){if(h[c])return h[c];var p=Jw[c],g=p<=Jw.normal?-1:1,w=uB(h,NS,p,g);if(!w)throw new Error("Could not find a matching font-stretch value for "+c);return w}(i.stretch,o),o=function(c,h){if(h[c])return h[c];for(var p=CS[c],g=0;g<p.length;++g)if(h[p[g]])return h[p[g]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var p=R8[c],g=uB(h,SS,p,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+dB(i)+"'.");return o}function fB(t){return t.trimLeft()}function H8(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function K8(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var dm,pB,mB,Mv=["times"];(function(t){var e,r,n,s,i,o,l,c,h,p=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new c,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,h=new p}]);var g=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=P;Object.defineProperty(this,"pdf",{get:function(){return $}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(pe){se=!!pe}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(pe){ce=!!pe}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(pe){isNaN(pe)||(fe=pe)}});var Te=0;Object.defineProperty(this,"posY",{get:function(){return Te},set:function(pe){isNaN(pe)||(Te=pe)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(pe){var ne;typeof pe=="number"?ne=[pe,pe,pe,pe]:((ne=new Array(4))[0]=pe[0],ne[1]=pe.length>=2?pe[1]:ne[0],ne[2]=pe.length>=3?pe[2]:ne[0],ne[3]=pe.length>=4?pe[3]:ne[1]),h.margin=ne}});var ze=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ze},set:function(pe){ze=pe}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(pe){_e=pe}});var wt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return wt},set:function(pe){wt=pe}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(pe){pe instanceof p&&(h=pe)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(pe){h.path=pe}});var Ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ke},set:function(pe){Ke=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var ne;ne=w(pe),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var ne=w(pe);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var we=null;function Ye(pe,ne){if(we===null){var it=function(Xe){var Ze=[];return Object.keys(Xe).forEach(function(ot){Xe[ot].forEach(function(At){var Ee=null;switch(At){case"bold":Ee={family:ot,weight:"bold"};break;case"italic":Ee={family:ot,style:"italic"};break;case"bolditalic":Ee={family:ot,weight:"bold",style:"italic"};break;case"":case"normal":Ee={family:ot}}Ee!==null&&(Ee.ref={name:ot,style:At},Ze.push(Ee))})}),Ze}(pe.getFontList());we=function(Xe){for(var Ze={},ot=0;ot<Xe.length;++ot){var At=Zw(Xe[ot]),Ee=At.family,Ie=At.stretch,We=At.style,rt=At.weight;Ze[Ee]=Ze[Ee]||{},Ze[Ee][Ie]=Ze[Ee][Ie]||{},Ze[Ee][Ie][We]=Ze[Ee][Ie][We]||{},Ze[Ee][Ie][We][rt]=At}return Ze}(it.concat(ne))}return we}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(pe){we=null,et=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var ne;if(this.ctx.font=pe,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var it=ne[1],Xe=(ne[2],ne[3]),Ze=ne[4],ot=(ne[5],ne[6]),At=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(At==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:At==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var Ee=function(ht){var kt,ut,wr=[],Pt=ht.trim();if(Pt==="")return Mv;if(Pt in hB)return[hB[Pt]];for(;Pt!=="";){switch(ut=null,kt=(Pt=fB(Pt)).charAt(0)){case'"':case"'":ut=H8(Pt.substring(1),kt);break;default:ut=K8(Pt)}if(ut===null||(wr.push(ut[0]),(Pt=fB(ut[1]))!==""&&Pt.charAt(0)!==","))return Mv;Pt=Pt.replace(/^,/,"")}return wr}(ot);if(this.fontFaces){var Ie=M8(Ye(this.pdf,this.fontFaces),Ee.map(function(ht){return{family:ht,stretch:"normal",weight:Xe,style:it}}));this.pdf.setFont(Ie.ref.name,Ie.ref.style)}else{var We="";(Xe==="bold"||parseInt(Xe,10)>=700||it==="bold")&&(We="bold"),it==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var rt="",lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jt=0;Jt<Ee.length;Jt++){if(this.pdf.internal.getFont(Ee[Jt],We,{noFallback:!0,disableWarning:!0})!==void 0){rt=Ee[Jt];break}if(We==="bolditalic"&&this.pdf.internal.getFont(Ee[Jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)rt=Ee[Jt],We="bold";else if(this.pdf.internal.getFont(Ee[Jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){rt=Ee[Jt],We="normal";break}}if(rt===""){for(var Zt=0;Zt<Ee.length;Zt++)if(lt[Ee[Zt]]){rt=lt[Ee[Zt]];break}}rt=rt===""?"Times":rt,this.pdf.setFont(rt,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};g.prototype.setLineDash=function(P){this.lineDash=P},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){T.call(this,"fill",!1)},g.prototype.stroke=function(){T.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(P,$){if(isNaN(P)||isNaN($))throw ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new o(P,$));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new o(P,$)},g.prototype.closePath=function(){var P=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Yr(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){P=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y)},g.prototype.lineTo=function(P,$){if(isNaN(P)||isNaN($))throw ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new o(P,$));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},g.prototype.quadraticCurveTo=function(P,$,se,ce){if(isNaN(se)||isNaN(ce)||isNaN(P)||isNaN($))throw ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new o(se,ce)),Te=this.ctx.transform.applyToPoint(new o(P,$));this.path.push({type:"qct",x1:Te.x,y1:Te.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},g.prototype.bezierCurveTo=function(P,$,se,ce,fe,Te){if(isNaN(fe)||isNaN(Te)||isNaN(P)||isNaN($)||isNaN(se)||isNaN(ce))throw ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ze=this.ctx.transform.applyToPoint(new o(fe,Te)),_e=this.ctx.transform.applyToPoint(new o(P,$)),wt=this.ctx.transform.applyToPoint(new o(se,ce));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:wt.x,y2:wt.y,x:ze.x,y:ze.y}),this.ctx.lastPoint=new o(ze.x,ze.y)},g.prototype.arc=function(P,$,se,ce,fe,Te){if(isNaN(P)||isNaN($)||isNaN(se)||isNaN(ce)||isNaN(fe))throw ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Te=!!Te,!this.ctx.transform.isIdentity){var ze=this.ctx.transform.applyToPoint(new o(P,$));P=ze.x,$=ze.y;var _e=this.ctx.transform.applyToPoint(new o(0,se)),wt=this.ctx.transform.applyToPoint(new o(0,0));se=Math.sqrt(Math.pow(_e.x-wt.x,2)+Math.pow(_e.y-wt.y,2))}Math.abs(fe-ce)>=2*Math.PI&&(ce=0,fe=2*Math.PI),this.path.push({type:"arc",x:P,y:$,radius:se,startAngle:ce,endAngle:fe,counterclockwise:Te})},g.prototype.arcTo=function(P,$,se,ce,fe){throw new Error("arcTo not implemented.")},g.prototype.rect=function(P,$,se,ce){if(isNaN(P)||isNaN($)||isNaN(se)||isNaN(ce))throw ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,$),this.lineTo(P+se,$),this.lineTo(P+se,$+ce),this.lineTo(P,$+ce),this.lineTo(P,$),this.lineTo(P+se,$),this.lineTo(P,$)},g.prototype.fillRect=function(P,$,se,ce){if(isNaN(P)||isNaN($)||isNaN(se)||isNaN(ce))throw ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,$,se,ce),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},g.prototype.strokeRect=function(P,$,se,ce){if(isNaN(P)||isNaN($)||isNaN(se)||isNaN(ce))throw ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");F.call(this)||(this.beginPath(),this.rect(P,$,se,ce),this.stroke())},g.prototype.clearRect=function(P,$,se,ce){if(isNaN(P)||isNaN($)||isNaN(se)||isNaN(ce))throw ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,$,se,ce))},g.prototype.save=function(P){P=typeof P!="boolean"||P;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage($),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},g.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage($),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(P){var $,se,ce,fe;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))$=0,se=0,ce=0,fe=0;else{var Te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(Te!==null)$=parseInt(Te[1]),se=parseInt(Te[2]),ce=parseInt(Te[3]),fe=1;else if((Te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)$=parseInt(Te[1]),se=parseInt(Te[2]),ce=parseInt(Te[3]),fe=parseFloat(Te[4]);else{if(fe=1,typeof P=="string"&&P.charAt(0)!=="#"){var ze=new vS(P);P=ze.ok?ze.toHex():"#000000"}P.length===4?($=P.substring(1,2),$+=$,se=P.substring(2,3),se+=se,ce=P.substring(3,4),ce+=ce):($=P.substring(1,3),se=P.substring(3,5),ce=P.substring(5,7)),$=parseInt($,16),se=parseInt(se,16),ce=parseInt(ce,16)}}return{r:$,g:se,b:ce,a:fe,style:P}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},F=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(P,$,se,ce){if(isNaN($)||isNaN(se)||typeof P!="string")throw ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!y.call(this)){var fe=H(this.ctx.transform.rotation),Te=this.ctx.transform.scaleX;R.call(this,{text:P,x:$,y:se,scale:Te,angle:fe,align:this.textAlign,maxWidth:ce})}},g.prototype.strokeText=function(P,$,se,ce){if(isNaN($)||isNaN(se)||typeof P!="string")throw ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!F.call(this)){ce=isNaN(ce)?void 0:ce;var fe=H(this.ctx.transform.rotation),Te=this.ctx.transform.scaleX;R.call(this,{text:P,x:$,y:se,scale:Te,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ce})}},g.prototype.measureText=function(P){if(typeof P!="string")throw ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,se=this.pdf.internal.scaleFactor,ce=$.internal.getFontSize(),fe=$.getStringUnitWidth(P)*ce/$.internal.scaleFactor,Te=function(ze){var _e=(ze=ze||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this};return new Te({width:fe*=Math.round(96*se/72*1e4)/1e4})},g.prototype.scale=function(P,$){if(isNaN(P)||isNaN($))throw ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new c(P,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},g.prototype.rotate=function(P){if(isNaN(P))throw ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new c(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply($)},g.prototype.translate=function(P,$){if(isNaN(P)||isNaN($))throw ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new c(1,0,0,1,P,$);this.ctx.transform=this.ctx.transform.multiply(se)},g.prototype.transform=function(P,$,se,ce,fe,Te){if(isNaN(P)||isNaN($)||isNaN(se)||isNaN(ce)||isNaN(fe)||isNaN(Te))throw ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ze=new c(P,$,se,ce,fe,Te);this.ctx.transform=this.ctx.transform.multiply(ze)},g.prototype.setTransform=function(P,$,se,ce,fe,Te){P=isNaN(P)?1:P,$=isNaN($)?0:$,se=isNaN(se)?0:se,ce=isNaN(ce)?1:ce,fe=isNaN(fe)?0:fe,Te=isNaN(Te)?0:Te,this.ctx.transform=new c(P,$,se,ce,fe,Te)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(P,$,se,ce,fe,Te,ze,_e,wt){var Ke=this.pdf.getImageProperties(P),we=1,Ye=1,et=1,pe=1;ce!==void 0&&_e!==void 0&&(et=_e/ce,pe=wt/fe,we=Ke.width/ce*_e/ce,Ye=Ke.height/fe*wt/fe),Te===void 0&&(Te=$,ze=se,$=0,se=0),ce!==void 0&&_e===void 0&&(_e=ce,wt=fe),ce===void 0&&_e===void 0&&(_e=Ke.width,wt=Ke.height);for(var ne,it=this.ctx.transform.decompose(),Xe=H(it.rotate.shx),Ze=new c,ot=(Ze=(Ze=(Ze=Ze.multiply(it.translate)).multiply(it.skew)).multiply(it.scale)).applyToRectangle(new l(Te-$*et,ze-se*pe,ce*we,fe*Ye)),At=Q.call(this,ot),Ee=[],Ie=0;Ie<At.length;Ie+=1)Ee.indexOf(At[Ie])===-1&&Ee.push(At[Ie]);if(j(Ee),this.autoPaging)for(var We=Ee[0],rt=Ee[Ee.length-1],lt=We;lt<rt+1;lt++){this.pdf.setPage(lt);var Jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Zt=lt===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=lt===1?0:ht+(lt-2)*kt;if(this.ctx.clip_path.length!==0){var wr=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(ne,this.posX+this.margin[3],-ut+Zt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=wr}var Pt=JSON.parse(JSON.stringify(ot));Pt=B([Pt],this.posX+this.margin[3],-ut+Zt+this.ctx.prevPageLastElemOffset)[0];var Or=(lt>We||lt<rt)&&S.call(this);Or&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,kt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Xe),Or&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",ot.x,ot.y,ot.w,ot.h,null,null,Xe)};var Q=function(P,$,se){var ce=[];$=$||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ce.push(Math.floor((P.y+fe)/se)+1);break;case"arc":ce.push(Math.floor((P.y+fe-P.radius)/se)+1),ce.push(Math.floor((P.y+fe+P.radius)/se)+1);break;case"qct":var Te=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ce.push(Math.floor((Te.y+fe)/se)+1),ce.push(Math.floor((Te.y+Te.h+fe)/se)+1);break;case"bct":var ze=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ce.push(Math.floor((ze.y+fe)/se)+1),ce.push(Math.floor((ze.y+ze.h+fe)/se)+1);break;case"rect":ce.push(Math.floor((P.y+fe)/se)+1),ce.push(Math.floor((P.y+P.h+fe)/se)+1)}for(var _e=0;_e<ce.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<ce[_e];)_.call(this);return ce},_=function(){var P=this.fillStyle,$=this.strokeStyle,se=this.font,ce=this.lineCap,fe=this.lineWidth,Te=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=$,this.font=se,this.lineCap=ce,this.lineWidth=fe,this.lineJoin=Te},B=function(P,$,se){for(var ce=0;ce<P.length;ce++)switch(P[ce].type){case"bct":P[ce].x2+=$,P[ce].y2+=se;case"qct":P[ce].x1+=$,P[ce].y1+=se;case"mt":case"lt":case"arc":default:P[ce].x+=$,P[ce].y+=se}return P},j=function(P){return P.sort(function($,se){return $-se})},T=function(P,$){for(var se,ce,fe=this.fillStyle,Te=this.strokeStyle,ze=this.lineCap,_e=this.lineWidth,wt=Math.abs(_e*this.ctx.transform.scaleX),Ke=this.lineJoin,we=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),et=[],pe=0;pe<Ye.length;pe++)if(Ye[pe].x!==void 0)for(var ne=Q.call(this,Ye[pe]),it=0;it<ne.length;it+=1)et.indexOf(ne[it])===-1&&et.push(ne[it]);for(var Xe=0;Xe<et.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<et[Xe];)_.call(this);if(j(et),this.autoPaging)for(var Ze=et[0],ot=et[et.length-1],At=Ze;At<ot+1;At++){this.pdf.setPage(At),this.fillStyle=fe,this.strokeStyle=Te,this.lineCap=ze,this.lineWidth=wt,this.lineJoin=Ke;var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ie=At===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=At===1?0:We+(At-2)*rt;if(this.ctx.clip_path.length!==0){var Jt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(se,this.posX+this.margin[3],-lt+Ie+this.ctx.prevPageLastElemOffset),V.call(this,P,!0),this.path=Jt}if(ce=JSON.parse(JSON.stringify(we)),this.path=B(ce,this.posX+this.margin[3],-lt+Ie+this.ctx.prevPageLastElemOffset),$===!1||At===0){var Zt=(At>Ze||At<ot)&&S.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,rt,null).clip().discardPath()),V.call(this,P,$),Zt&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}else this.lineWidth=wt,V.call(this,P,$),this.lineWidth=_e;this.path=we},V=function(P,$){if((P!=="stroke"||$||!F.call(this))&&(P==="stroke"||$||!y.call(this))){for(var se,ce,fe=[],Te=this.path,ze=0;ze<Te.length;ze++){var _e=Te[ze];switch(_e.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:_e,deltas:[],abs:[]});break;case"lt":var wt=fe.length;if(Te[ze-1]&&!isNaN(Te[ze-1].x)&&(se=[_e.x-Te[ze-1].x,_e.y-Te[ze-1].y],wt>0)){for(;wt>=0;wt--)if(fe[wt-1].close!==!0&&fe[wt-1].begin!==!0){fe[wt-1].deltas.push(se),fe[wt-1].abs.push(_e);break}}break;case"bct":se=[_e.x1-Te[ze-1].x,_e.y1-Te[ze-1].y,_e.x2-Te[ze-1].x,_e.y2-Te[ze-1].y,_e.x-Te[ze-1].x,_e.y-Te[ze-1].y],fe[fe.length-1].deltas.push(se);break;case"qct":var Ke=Te[ze-1].x+2/3*(_e.x1-Te[ze-1].x),we=Te[ze-1].y+2/3*(_e.y1-Te[ze-1].y),Ye=_e.x+2/3*(_e.x1-_e.x),et=_e.y+2/3*(_e.y1-_e.y),pe=_e.x,ne=_e.y;se=[Ke-Te[ze-1].x,we-Te[ze-1].y,Ye-Te[ze-1].x,et-Te[ze-1].y,pe-Te[ze-1].x,ne-Te[ze-1].y],fe[fe.length-1].deltas.push(se);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(_e)}}ce=$?null:P==="stroke"?"stroke":"fill";for(var it=!1,Xe=0;Xe<fe.length;Xe++)if(fe[Xe].arc)for(var Ze=fe[Xe].abs,ot=0;ot<Ze.length;ot++){var At=Ze[ot];At.type==="arc"?M.call(this,At.x,At.y,At.radius,At.startAngle,At.endAngle,At.counterclockwise,void 0,$,!it):re.call(this,At.x,At.y),it=!0}else if(fe[Xe].close===!0)this.pdf.internal.out("h"),it=!1;else if(fe[Xe].begin!==!0){var Ee=fe[Xe].start.x,Ie=fe[Xe].start.y;ae.call(this,fe[Xe].deltas,Ee,Ie),it=!0}ce&&Z.call(this,ce),$&&oe.call(this)}},K=function(P){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-se;case"top":return P+$-se;case"hanging":return P+$-2*se;case"middle":return P+$/2-se;case"ideographic":return P;case"alphabetic":default:return P}},G=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function($,se){this.colorStops.push([$,se])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(P,$,se,ce,fe,Te,ze,_e,wt){for(var Ke=ve.call(this,se,ce,fe,Te),we=0;we<Ke.length;we++){var Ye=Ke[we];we===0&&(wt?D.call(this,Ye.x1+P,Ye.y1+$):re.call(this,Ye.x1+P,Ye.y1+$)),Se.call(this,P,$,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}_e?oe.call(this):Z.call(this,ze)},Z=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(P,$){this.pdf.internal.out(r(P)+" "+n($)+" m")},R=function(P){var $;switch(P.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var se=this.pdf.getTextDimensions(P.text),ce=K.call(this,P.y),fe=G.call(this,ce)-se.h,Te=this.ctx.transform.applyToPoint(new o(P.x,ce)),ze=this.ctx.transform.decompose(),_e=new c;_e=(_e=(_e=_e.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale);for(var wt,Ke,we,Ye=this.ctx.transform.applyToRectangle(new l(P.x,ce,se.w,se.h)),et=_e.applyToRectangle(new l(P.x,fe,se.w,se.h)),pe=Q.call(this,et),ne=[],it=0;it<pe.length;it+=1)ne.indexOf(pe[it])===-1&&ne.push(pe[it]);if(j(ne),this.autoPaging)for(var Xe=ne[0],Ze=ne[ne.length-1],ot=Xe;ot<Ze+1;ot++){this.pdf.setPage(ot);var At=ot===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[2],We=Ie-this.margin[0],rt=this.pdf.internal.pageSize.width-this.margin[1],lt=rt-this.margin[3],Jt=ot===1?0:Ee+(ot-2)*We;if(this.ctx.clip_path.length!==0){var Zt=this.path;wt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(wt,this.posX+this.margin[3],-1*Jt+At),V.call(this,"fill",!0),this.path=Zt}var ht=B([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Jt+At+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*P.scale),we=this.lineWidth,this.lineWidth=we*P.scale);var kt=this.autoPaging!=="text";if(kt||ht.y+ht.h<=Ie){if(kt||ht.y>=At&&ht.x<=rt){var ut=kt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||rt-ht.x)[0],wr=B([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Jt+At+this.ctx.prevPageLastElemOffset)[0],Pt=kt&&(ot>Xe||ot<Ze)&&S.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,We,null).clip().discardPath()),this.pdf.text(ut,wr.x,wr.y,{angle:P.angle,align:$,renderingMode:P.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else ht.y<Ie&&(this.ctx.prevPageLastElemOffset+=Ie-ht.y);P.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=we)}else P.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*P.scale),we=this.lineWidth,this.lineWidth=we*P.scale),this.pdf.text(P.text,Te.x+this.posX,Te.y+this.posY,{angle:P.angle,align:$,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=we)},re=function(P,$,se,ce){se=se||0,ce=ce||0,this.pdf.internal.out(r(P+se)+" "+n($+ce)+" l")},ae=function(P,$,se){return this.pdf.lines(P,$,se,null,null)},Se=function(P,$,se,ce,fe,Te,ze,_e){this.pdf.internal.out([e(s(se+P)),e(i(ce+$)),e(s(fe+P)),e(i(Te+$)),e(s(ze+P)),e(i(_e+$)),"c"].join(" "))},ve=function(P,$,se,ce){for(var fe=2*Math.PI,Te=Math.PI/2;$>se;)$-=fe;var ze=Math.abs(se-$);ze<fe&&ce&&(ze=fe-ze);for(var _e=[],wt=ce?-1:1,Ke=$;ze>1e-5;){var we=Ke+wt*Math.min(ze,Te);_e.push(Ue.call(this,P,Ke,we)),ze-=Math.abs(we-Ke),Ke=we}return _e},Ue=function(P,$,se){var ce=(se-$)/2,fe=P*Math.cos(ce),Te=P*Math.sin(ce),ze=fe,_e=-Te,wt=ze*ze+_e*_e,Ke=wt+ze*fe+_e*Te,we=4/3*(Math.sqrt(2*wt*Ke)-Ke)/(ze*Te-_e*fe),Ye=ze-we*_e,et=_e+we*ze,pe=Ye,ne=-et,it=ce+$,Xe=Math.cos(it),Ze=Math.sin(it);return{x1:P*Math.cos($),y1:P*Math.sin($),x2:Ye*Xe-et*Ze,y2:Ye*Ze+et*Xe,x3:pe*Xe-ne*Ze,y3:pe*Ze+ne*Xe,x4:P*Math.cos(se),y4:P*Math.sin(se)}},H=function(P){return 180*P/Math.PI},ue=function(P,$,se,ce,fe,Te){var ze=P+.5*(se-P),_e=$+.5*(ce-$),wt=fe+.5*(se-fe),Ke=Te+.5*(ce-Te),we=Math.min(P,fe,ze,wt),Ye=Math.max(P,fe,ze,wt),et=Math.min($,Te,_e,Ke),pe=Math.max($,Te,_e,Ke);return new l(we,et,Ye-we,pe-et)},ee=function(P,$,se,ce,fe,Te,ze,_e){var wt,Ke,we,Ye,et,pe,ne,it,Xe,Ze,ot,At,Ee,Ie,We=se-P,rt=ce-$,lt=fe-se,Jt=Te-ce,Zt=ze-fe,ht=_e-Te;for(Ke=0;Ke<41;Ke++)Xe=(ne=(we=P+(wt=Ke/40)*We)+wt*((et=se+wt*lt)-we))+wt*(et+wt*(fe+wt*Zt-et)-ne),Ze=(it=(Ye=$+wt*rt)+wt*((pe=ce+wt*Jt)-Ye))+wt*(pe+wt*(Te+wt*ht-pe)-it),Ke==0?(ot=Xe,At=Ze,Ee=Xe,Ie=Ze):(ot=Math.min(ot,Xe),At=Math.min(At,Ze),Ee=Math.max(Ee,Xe),Ie=Math.max(Ie,Ze));return new l(Math.round(ot),Math.round(At),Math.round(Ee-ot),Math.round(Ie-At))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,$,se=(P=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:$}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(ar.API),function(t){var e=function(i){var o,l,c,h,p,g,w,y,F,S;for(l=[],c=0,h=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;h>c;c+=4)(p=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(g=(p=((p=((p=((p=(p-(S=p%85))/85)-(F=p%85))/85)-(y=p%85))/85)-(w=p%85))/85)%85,l.push(g+33,w+33,y+33,F+33,S+33)):l.push(122);return function(Q,_){for(var B=_;B>0;B--)Q.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,h,p,g=String,w="length",y=255,F="charCodeAt",S="slice",Q="replace";for(i[S](-2),i=i[S](0,-2)[Q](/\s/g,"")[Q]("z","!!!!!"),c=[],h=0,p=(i+=o="uuuuu"[S](i[w]%5||5))[w];p>h;h+=5)l=52200625*(i[F](h)-33)+614125*(i[F](h+1)-33)+7225*(i[F](h+2)-33)+85*(i[F](h+3)-33)+(i[F](h+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(_,B){for(var j=B;j>0;j--)_.pop()}(c,o[w]),g.fromCharCode.apply(g,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},s=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=zw(o)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};t.processDataByFilters=function(i,o){var l=0,c=i||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(ar.API),function(t){t.loadFile=function(e,r,n){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,h,p){var g=new XMLHttpRequest,w=0,y=function(F){var S=F.length,Q=[],_=String.fromCharCode;for(w=0;w<S;w+=1)Q.push(_(255&F.charCodeAt(w)));return Q.join("")};if(g.open("GET",c,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?p(y(this.responseText)):p(void 0)}),g.send(null),h&&g.status===200)return y(g.responseText)}(s,i,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(ar.API),function(t){function e(){return(dr.html2canvas?Promise.resolve(dr.html2canvas):Mo(()=>Promise.resolve().then(()=>A0),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(dr.DOMPurify?Promise.resolve(dr.DOMPurify):Mo(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Yr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var c=document.createElement(o);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(h,p){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),w=h.firstChild;w;w=w.nextSibling)p!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(c(w,p));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var w=0;w<h.length;++w){var y=h[w],F=y.src.find(function(S){return S.format==="truetype"});F&&c.addFont(F.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(o=o||ar.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,h){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,h){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(h,p){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,h),g}).then(h,p).then(function(g){return c.updateProgress(1),g})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),p=c.call(h,o,l);return i.convert(p,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ar.getPageSize=function(o,l,c){if(Yr(o)==="object"){var h=o;o=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+c).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var y,F=0,S=0;if(w.hasOwnProperty(g))F=w[g][1]/p,S=w[g][0]/p;else try{F=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",S>F&&(y=S,S=F,F=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",F>S&&(y=S,S=F,F=y)}return{width:S,height:F,unit:l,k:p,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Zw):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(ar.API),ar.API.addJS=function(t){return mB=t,this.internal.events.subscribe("postPutResources",function(){dm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(dm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),pB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+mB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){dm!==void 0&&pB!==void 0&&this.internal.out("/Names <</JavaScript "+dm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(i=0;i<h;i++){var g=r.internal.newObject();p.push(g);var w=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<p.length;i++)r.internal.write("(page_"+(i+1)+")"+p[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+y+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(ar.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,o,l){var c,h=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(g){for(var w,y=256*g.charCodeAt(4)+g.charCodeAt(5),F=g.length,S={width:0,height:0,numcomponents:1},Q=4;Q<F;Q+=2){if(Q+=y,e.indexOf(g.charCodeAt(Q+1))!==-1){w=256*g.charCodeAt(Q+5)+g.charCodeAt(Q+6),S={width:256*g.charCodeAt(Q+7)+g.charCodeAt(Q+8),height:w,numcomponents:g.charCodeAt(Q+9)};break}y=256*g.charCodeAt(Q+2)+g.charCodeAt(Q+3)}return S}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:h,index:n,alias:s}}return p}}(ar.API);var Mu,fm,gB,vB,yB,q8=function(){var t,e,r;function n(i){var o,l,c,h,p,g,w,y,F,S,Q,_,B,j;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(o=this.readUInt32(),F=(function(){var T,V;for(V=[],T=0;T<4;++T)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),h=this.readUInt16()||100,g.delay=1e3*p/h,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(F==="fdAT"&&(this.pos+=4,o-=4),i=(g!=null?g.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((S=c-this.transparency.indexed.length)>0)for(B=0;0<=S?B<S:B>S;0<=S?++B:--B)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":w=(Q=this.read(o)).indexOf(0),y=String.fromCharCode.apply(String,Q.slice(0,w)),this.text[y]=String.fromCharCode.apply(String,Q.slice(w+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,h=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function p(g,w,y,F){var S,Q,_,B,j,T,V,K,G,M,Z,oe,D,R,re,ae,Se,ve,Ue,H,ue,ee=Math.ceil((h.width-g)/y),me=Math.ceil((h.height-w)/F),P=h.width==ee&&h.height==me;for(R=o*ee,oe=P?l:new Uint8Array(R*me),T=i.length,D=0,Q=0;D<me&&c<T;){switch(i[c++]){case 0:for(B=Se=0;Se<R;B=Se+=1)oe[Q++]=i[c++];break;case 1:for(B=ve=0;ve<R;B=ve+=1)S=i[c++],j=B<o?0:oe[Q-o],oe[Q++]=(S+j)%256;break;case 2:for(B=Ue=0;Ue<R;B=Ue+=1)S=i[c++],_=(B-B%o)/o,re=D&&oe[(D-1)*R+_*o+B%o],oe[Q++]=(re+S)%256;break;case 3:for(B=H=0;H<R;B=H+=1)S=i[c++],_=(B-B%o)/o,j=B<o?0:oe[Q-o],re=D&&oe[(D-1)*R+_*o+B%o],oe[Q++]=(S+Math.floor((j+re)/2))%256;break;case 4:for(B=ue=0;ue<R;B=ue+=1)S=i[c++],_=(B-B%o)/o,j=B<o?0:oe[Q-o],D===0?re=ae=0:(re=oe[(D-1)*R+_*o+B%o],ae=_&&oe[(D-1)*R+(_-1)*o+B%o]),V=j+re-ae,K=Math.abs(V-j),M=Math.abs(V-re),Z=Math.abs(V-ae),G=K<=M&&K<=Z?j:M<=Z?re:ae,oe[Q++]=(S+G)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!P){var $=((w+D*F)*h.width+g)*o,se=D*R;for(B=0;B<ee;B+=1){for(var ce=0;ce<o;ce+=1)l[$++]=oe[se++];$+=(y-1)*o}}D++}}return i=b8(i),h.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,h,p,g,w,y;for(l=this.palette,p=this.transparency.indexed||[],h=new Uint8Array((p.length||0)+l.length),c=0,i=0,o=g=0,w=l.length;g<w;o=g+=3)h[c++]=l[o],h[c++]=l[o+1],h[c++]=l[o+2],h[c++]=(y=p[i++])!=null?y:255;return h},n.prototype.copyToImageData=function(i,o){var l,c,h,p,g,w,y,F,S,Q,_;if(c=this.colors,S=null,l=this.hasAlphaChannel,this.palette.length&&(S=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),c=4,l=!0),F=(h=i.data||i).length,g=S||o,p=w=0,c===1)for(;p<F;)y=S?4*o[p/4]:w,Q=g[y++],h[p++]=Q,h[p++]=Q,h[p++]=Q,h[p++]=l?g[y++]:255,w=y;else for(;p<F;)y=S?4*o[p/4]:w,h[p++]=g[y++],h[p++]=g[y++],h[p++]=g[y++],h[p++]=l?g[y++]:255,w=y},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(dr)==="[object Window]"){try{e=dr.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var o;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,h,p,g,w,y;if(this.animation){for(y=[],l=p=0,g=(w=this.animation.frames).length;p<g;l=++p)o=w[l],c=i.createImageData(o.width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,h),o.imageData=c,y.push(o.image=t(c));return y}},n.prototype.renderFrame=function(i,o){var l,c,h;return l=(c=this.animation.frames)[o],h=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?i.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&i.putImageData(h.imageData,h.xOffset,h.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,h,p,g,w=this;return l=0,g=this.animation,h=g.numFrames,c=g.frames,p=g.numPlays,(o=function(){var y,F;if(y=l++%h,F=c[y],w.renderFrame(i,y),h>1&&l/h<p)return w.animation._timeout=setTimeout(o,F.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function z8(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,o=1<<(7&s)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var h=!0,p=[],g=0,w=null,y=0,F=null;for(this.width=r,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,F=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];g=t[e++]|t[e++]<<8,w=t[e++],!(1&S)&&(w=null),y=S>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var Q=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,T=t[e++],V=T>>6&1,K=1<<(7&T)+1,G=l,M=c,Z=!1;T>>7&&(Z=!0,G=e,M=K,e+=3*K);var oe=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}p.push({x:Q,y:_,width:B,height:j,has_local_palette:Z,palette_offset:G,palette_size:M,data_offset:oe,data_length:e-oe,transparent_index:w,interlaced:!!V,delay:g,disposal:y});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return F},this.frameInfo=function(R){if(R<0||R>=p.length)throw new Error("Frame index out of range.");return p[R]},this.decodeAndBlitFrameBGRA=function(R,re){var ae=this.frameInfo(R),Se=ae.width*ae.height,ve=new Uint8Array(Se);wB(t,ae.data_offset,ve,Se);var Ue=ae.palette_offset,H=ae.transparent_index;H===null&&(H=256);var ue=ae.width,ee=r-ue,me=ue,P=4*(ae.y*r+ae.x),$=4*((ae.y+ae.height)*r+ae.x),se=P,ce=4*ee;ae.interlaced===!0&&(ce+=4*r*7);for(var fe=8,Te=0,ze=ve.length;Te<ze;++Te){var _e=ve[Te];if(me===0&&(me=ue,(se+=ce)>=$&&(ce=4*ee+4*r*(fe-1),se=P+(ue+ee)*(fe<<1),fe>>=1)),_e===H)se+=4;else{var wt=t[Ue+3*_e],Ke=t[Ue+3*_e+1],we=t[Ue+3*_e+2];re[se++]=we,re[se++]=Ke,re[se++]=wt,re[se++]=255}--me}},this.decodeAndBlitFrameRGBA=function(R,re){var ae=this.frameInfo(R),Se=ae.width*ae.height,ve=new Uint8Array(Se);wB(t,ae.data_offset,ve,Se);var Ue=ae.palette_offset,H=ae.transparent_index;H===null&&(H=256);var ue=ae.width,ee=r-ue,me=ue,P=4*(ae.y*r+ae.x),$=4*((ae.y+ae.height)*r+ae.x),se=P,ce=4*ee;ae.interlaced===!0&&(ce+=4*r*7);for(var fe=8,Te=0,ze=ve.length;Te<ze;++Te){var _e=ve[Te];if(me===0&&(me=ue,(se+=ce)>=$&&(ce=4*ee+4*r*(fe-1),se=P+(ue+ee)*(fe<<1),fe>>=1)),_e===H)se+=4;else{var wt=t[Ue+3*_e],Ke=t[Ue+3*_e+1],we=t[Ue+3*_e+2];re[se++]=wt,re[se++]=Ke,re[se++]=we,re[se++]=255}--me}}}function wB(t,e,r,n){for(var s=t[e++],i=1<<s,o=i+1,l=o+1,c=s+1,h=(1<<c)-1,p=0,g=0,w=0,y=t[e++],F=new Int32Array(4096),S=null;;){for(;p<16&&y!==0;)g|=t[e++]<<p,p+=8,y===1?y=t[e++]:--y;if(p<c)break;var Q=g&h;if(g>>=c,p-=c,Q!==i){if(Q===o)break;for(var _=Q<l?Q:S,B=0,j=_;j>i;)j=F[j]>>8,++B;var T=j;if(w+B+(_!==Q?1:0)>n)return void ln.log("Warning, gif stream longer than expected.");r[w++]=T;var V=w+=B;for(_!==Q&&(r[w++]=T),j=_;B--;)j=F[j],r[--V]=255&j,j>>=8;S!==null&&l<4096&&(F[l++]=S<<8|T,l>=h+1&&c<12&&(++c,h=h<<1|1)),S=Q}else l=o+1,h=(1<<(c=s+1))-1,S=null}return w!==n&&ln.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Hv(t){var e,r,n,s,i,o=Math.floor,l=new Array(64),c=new Array(64),h=new Array(64),p=new Array(64),g=new Array(65535),w=new Array(65535),y=new Array(64),F=new Array(64),S=[],Q=0,_=7,B=new Array(64),j=new Array(64),T=new Array(64),V=new Array(256),K=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(P,$){for(var se=0,ce=0,fe=new Array,Te=1;Te<=16;Te++){for(var ze=1;ze<=P[Te];ze++)fe[$[ce]]=[],fe[$[ce]][0]=se,fe[$[ce]][1]=Te,ce++,se++;se*=2}return fe}function Ue(P){for(var $=P[0],se=P[1]-1;se>=0;)$&1<<se&&(Q|=1<<_),se--,--_<0&&(Q==255?(H(255),H(0)):H(Q),_=7,Q=0)}function H(P){S.push(P)}function ue(P){H(P>>8&255),H(255&P)}function ee(P,$,se,ce,fe){for(var Te,ze=fe[0],_e=fe[240],wt=function(Ze,ot){var At,Ee,Ie,We,rt,lt,Jt,Zt,ht,kt,ut=0;for(ht=0;ht<8;++ht){At=Ze[ut],Ee=Ze[ut+1],Ie=Ze[ut+2],We=Ze[ut+3],rt=Ze[ut+4],lt=Ze[ut+5],Jt=Ze[ut+6];var wr=At+(Zt=Ze[ut+7]),Pt=At-Zt,Or=Ee+Jt,Ut=Ee-Jt,_t=Ie+lt,Kr=Ie-lt,rr=We+rt,ls=We-rt,xt=wr+rr,cs=wr-rr,xi=Or+_t,tn=Or-_t;Ze[ut]=xt+xi,Ze[ut+4]=xt-xi;var hr=.707106781*(tn+cs);Ze[ut+2]=cs+hr,Ze[ut+6]=cs-hr;var jr=.382683433*((xt=ls+Kr)-(tn=Ut+Pt)),ho=.5411961*xt+jr,Jn=1.306562965*tn+jr,ws=.707106781*(xi=Kr+Ut),Zn=Pt+ws,Yt=Pt-ws;Ze[ut+5]=Yt+ho,Ze[ut+3]=Yt-ho,Ze[ut+1]=Zn+Jn,Ze[ut+7]=Zn-Jn,ut+=8}for(ut=0,ht=0;ht<8;++ht){At=Ze[ut],Ee=Ze[ut+8],Ie=Ze[ut+16],We=Ze[ut+24],rt=Ze[ut+32],lt=Ze[ut+40],Jt=Ze[ut+48];var ks=At+(Zt=Ze[ut+56]),Nr=At-Zt,Qr=Ee+Jt,Rr=Ee-Jt,Lt=Ie+lt,Xn=Ie-lt,Hi=We+rt,Ki=We-rt,En=ks+Hi,Mn=ks-Hi,Fn=Qr+Lt,Hn=Qr-Lt;Ze[ut]=En+Fn,Ze[ut+32]=En-Fn;var Hs=.707106781*(Hn+Mn);Ze[ut+16]=Mn+Hs,Ze[ut+48]=Mn-Hs;var Yn=.382683433*((En=Ki+Xn)-(Hn=Rr+Nr)),Oa=.5411961*En+Yn,ni=1.306562965*Hn+Yn,fo=.707106781*(Fn=Xn+Rr),la=Nr+fo,qr=Nr-fo;Ze[ut+40]=qr+Oa,Ze[ut+24]=qr-Oa,Ze[ut+8]=la+ni,Ze[ut+56]=la-ni,ut++}for(ht=0;ht<64;++ht)kt=Ze[ht]*ot[ht],y[ht]=kt>0?kt+.5|0:kt-.5|0;return y}(P,$),Ke=0;Ke<64;++Ke)F[G[Ke]]=wt[Ke];var we=F[0]-se;se=F[0],we==0?Ue(ce[0]):(Ue(ce[w[Te=32767+we]]),Ue(g[Te]));for(var Ye=63;Ye>0&&F[Ye]==0;)Ye--;if(Ye==0)return Ue(ze),se;for(var et,pe=1;pe<=Ye;){for(var ne=pe;F[pe]==0&&pe<=Ye;)++pe;var it=pe-ne;if(it>=16){et=it>>4;for(var Xe=1;Xe<=et;++Xe)Ue(_e);it&=15}Te=32767+F[pe],Ue(fe[(it<<4)+w[Te]]),Ue(g[Te]),pe++}return Ye!=63&&Ue(ze),se}function me(P){P=Math.min(Math.max(P,1),100),i!=P&&(function($){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var fe=o((se[ce]*$+50)/100);fe=Math.min(Math.max(fe,1),255),l[G[ce]]=fe}for(var Te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ze=0;ze<64;ze++){var _e=o((Te[ze]*$+50)/100);_e=Math.min(Math.max(_e,1),255),c[G[ze]]=_e}for(var wt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ke=0,we=0;we<8;we++)for(var Ye=0;Ye<8;Ye++)h[Ke]=1/(l[G[Ke]]*wt[we]*wt[Ye]*8),p[Ke]=1/(c[G[Ke]]*wt[we]*wt[Ye]*8),Ke++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,$){$&&me($),S=new Array,Q=0,_=7,ue(65496),ue(65504),ue(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),ue(1),ue(1),H(0),H(0),function(){ue(65499),ue(132),H(0);for(var Ee=0;Ee<64;Ee++)H(l[Ee]);H(1);for(var Ie=0;Ie<64;Ie++)H(c[Ie])}(),function(Ee,Ie){ue(65472),ue(17),H(8),ue(Ie),ue(Ee),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(P.width,P.height),function(){ue(65476),ue(418),H(0);for(var Ee=0;Ee<16;Ee++)H(M[Ee+1]);for(var Ie=0;Ie<=11;Ie++)H(Z[Ie]);H(16);for(var We=0;We<16;We++)H(oe[We+1]);for(var rt=0;rt<=161;rt++)H(D[rt]);H(1);for(var lt=0;lt<16;lt++)H(R[lt+1]);for(var Jt=0;Jt<=11;Jt++)H(re[Jt]);H(17);for(var Zt=0;Zt<16;Zt++)H(ae[Zt+1]);for(var ht=0;ht<=161;ht++)H(Se[ht])}(),ue(65498),ue(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var se=0,ce=0,fe=0;Q=0,_=7,this.encode.displayName="_encode_";for(var Te,ze,_e,wt,Ke,we,Ye,et,pe,ne=P.data,it=P.width,Xe=P.height,Ze=4*it,ot=0;ot<Xe;){for(Te=0;Te<Ze;){for(Ke=Ze*ot+Te,Ye=-1,et=0,pe=0;pe<64;pe++)we=Ke+(et=pe>>3)*Ze+(Ye=4*(7&pe)),ot+et>=Xe&&(we-=Ze*(ot+1+et-Xe)),Te+Ye>=Ze&&(we-=Te+Ye-Ze+4),ze=ne[we++],_e=ne[we++],wt=ne[we++],B[pe]=(K[ze]+K[_e+256>>0]+K[wt+512>>0]>>16)-128,j[pe]=(K[ze+768>>0]+K[_e+1024>>0]+K[wt+1280>>0]>>16)-128,T[pe]=(K[ze+1280>>0]+K[_e+1536>>0]+K[wt+1792>>0]>>16)-128;se=ee(B,h,se,e,n),ce=ee(j,p,ce,r,s),fe=ee(T,p,fe,r,s),Te+=32}ot+=8}if(_>=0){var At=[];At[1]=_+1,At[0]=(1<<_+1)-1,Ue(At)}return ue(65497),new Uint8Array(S)},t=t||50,function(){for(var P=String.fromCharCode,$=0;$<256;$++)V[$]=P($)}(),e=ve(M,Z),r=ve(R,re),n=ve(oe,D),s=ve(ae,Se),function(){for(var P=1,$=2,se=1;se<=15;se++){for(var ce=P;ce<$;ce++)w[32767+ce]=se,g[32767+ce]=[],g[32767+ce][1]=se,g[32767+ce][0]=ce;for(var fe=-($-1);fe<=-P;fe++)w[32767+fe]=se,g[32767+fe]=[],g[32767+fe][1]=se,g[32767+fe][0]=$-1+fe;P<<=1,$<<=1}}(),function(){for(var P=0;P<256;P++)K[P]=19595*P,K[P+256>>0]=38470*P,K[P+512>>0]=7471*P+32768,K[P+768>>0]=-11059*P,K[P+1024>>0]=-21709*P,K[P+1280>>0]=32768*P+8421375,K[P+1536>>0]=-27439*P,K[P+1792>>0]=-5329*P}(),me(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Co(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xB(t){function e(M){if(!M)throw Error("assert :P")}function r(M,Z,oe){for(var D=0;4>D;D++)if(M[Z+D]!=oe.charCodeAt(D))return!0;return!1}function n(M,Z,oe,D,R){for(var re=0;re<R;re++)M[Z+re]=oe[D+re]}function s(M,Z,oe,D){for(var R=0;R<D;R++)M[Z+R]=oe}function i(M){return new Int32Array(M)}function o(M,Z){for(var oe=[],D=0;D<M;D++)oe.push(new Z);return oe}function l(M,Z){var oe=[];return function D(R,re,ae){for(var Se=ae[re],ve=0;ve<Se&&(R.push(ae.length>re+1?[]:new Z),!(ae.length<re+1));ve++)D(R[ve],re+1,ae)}(oe,0,M),oe}var c=function(){var M=this;function Z(d,v){for(var N=1<<v-1>>>0;d&N;)N>>>=1;return N?(d&N-1)+N:d}function oe(d,v,N,U,z){e(!(U%N));do d[v+(U-=N)]=z;while(0<U)}function D(d,v,N,U,z){if(e(2328>=z),512>=z)var J=i(512);else if((J=i(z))==null)return 0;return function(X,te,ie,he,je,$e){var Je,Me,pt=te,at=1<<ie,ke=i(16),Oe=i(16);for(e(je!=0),e(he!=null),e(X!=null),e(0<ie),Me=0;Me<je;++Me){if(15<he[Me])return 0;++ke[he[Me]]}if(ke[0]==je)return 0;for(Oe[1]=0,Je=1;15>Je;++Je){if(ke[Je]>1<<Je)return 0;Oe[Je+1]=Oe[Je]+ke[Je]}for(Me=0;Me<je;++Me)Je=he[Me],0<he[Me]&&($e[Oe[Je]++]=Me);if(Oe[15]==1)return(he=new R).g=0,he.value=$e[0],oe(X,pt,1,at,he),at;var dt,yt=-1,ft=at-1,qt=0,It=1,ir=1,Tt=1<<ie;for(Me=0,Je=1,je=2;Je<=ie;++Je,je<<=1){if(It+=ir<<=1,0>(ir-=ke[Je]))return 0;for(;0<ke[Je];--ke[Je])(he=new R).g=Je,he.value=$e[Me++],oe(X,pt+qt,je,Tt,he),qt=Z(qt,Je)}for(Je=ie+1,je=2;15>=Je;++Je,je<<=1){if(It+=ir<<=1,0>(ir-=ke[Je]))return 0;for(;0<ke[Je];--ke[Je]){if(he=new R,(qt&ft)!=yt){for(pt+=Tt,dt=1<<(yt=Je)-ie;15>yt&&!(0>=(dt-=ke[yt]));)++yt,dt<<=1;at+=Tt=1<<(dt=yt-ie),X[te+(yt=qt&ft)].g=dt+ie,X[te+yt].value=pt-te-yt}he.g=Je-ie,he.value=$e[Me++],oe(X,pt+(qt>>ie),je,Tt,he),qt=Z(qt,Je)}}return It!=2*Oe[15]-1?0:at}(d,v,N,U,z,J)}function R(){this.value=this.g=0}function re(){this.value=this.g=0}function ae(){this.G=o(5,R),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(on,re)}function Se(d,v,N,U){e(d!=null),e(v!=null),e(2147483648>U),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=v,d.pa=N,d.Jd=v,d.Yc=N+U,d.Zc=4<=U?N+U-4+1:N,Te(d)}function ve(d,v){for(var N=0;0<v--;)N|=_e(d,128)<<v;return N}function Ue(d,v){var N=ve(d,v);return ze(d)?-N:N}function H(d,v,N,U){var z,J=0;for(e(d!=null),e(v!=null),e(4294967288>U),d.Sb=U,d.Ra=0,d.u=0,d.h=0,4<U&&(U=4),z=0;z<U;++z)J+=v[N+z]<<8*z;d.Ra=J,d.bb=U,d.oa=v,d.pa=N}function ue(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Ai-8>>>0,++d.bb,d.u-=8;se(d)&&(d.h=1,d.u=0)}function ee(d,v){if(e(0<=v),!d.h&&v<=Er){var N=$(d)&Qs[v];return d.u+=v,ue(d),N}return d.h=1,d.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(d){return d.Ra>>>(d.u&Ai-1)>>>0}function se(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Ai}function ce(d,v){d.u=v,d.h=se(d)}function fe(d){d.u>=us&&(e(d.u>=us),ue(d))}function Te(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function ze(d){return ve(d,1)}function _e(d,v){var N=d.Ca;0>d.b&&Te(d);var U=d.b,z=N*v>>>8,J=(d.I>>>U>z)+0;for(J?(N-=z,d.I-=z+1<<U>>>0):N=z+1,U=N,z=0;256<=U;)z+=8,U>>=8;return U=7^z+hs[U],d.b-=U,d.Ca=(N<<U)-1,J}function wt(d,v,N){d[v+0]=N>>24&255,d[v+1]=N>>16&255,d[v+2]=N>>8&255,d[v+3]=N>>0&255}function Ke(d,v){return d[v+0]<<0|d[v+1]<<8}function we(d,v){return Ke(d,v)|d[v+2]<<16}function Ye(d,v){return Ke(d,v)|Ke(d,v+2)<<16}function et(d,v){var N=1<<v;return e(d!=null),e(0<v),d.X=i(N),d.X==null?0:(d.Mb=32-v,d.Xa=v,1)}function pe(d,v){e(d!=null),e(v!=null),e(d.Xa==v.Xa),n(v.X,0,d.X,0,1<<v.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function it(d,v,N,U){e(N!=null),e(U!=null);var z=N[0],J=U[0];return z==0&&(z=(d*J+v/2)/v),J==0&&(J=(v*z+d/2)/d),0>=z||0>=J?0:(N[0]=z,U[0]=J,1)}function Xe(d,v){return d+(1<<v)-1>>>v}function Ze(d,v){return((4278255360&d)+(4278255360&v)>>>0&4278255360)+((16711935&d)+(16711935&v)>>>0&16711935)>>>0}function ot(d,v){M[v]=function(N,U,z,J,X,te,ie){var he;for(he=0;he<X;++he){var je=M[d](te[ie+he-1],z,J+he);te[ie+he]=Ze(N[U+he],je)}}}function At(){this.ud=this.hd=this.jd=0}function Ee(d,v){return((4278124286&(d^v))>>>1)+(d&v)>>>0}function Ie(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function We(d,v){return Ie(d+(d-v+.5>>1))}function rt(d,v,N){return Math.abs(v-N)-Math.abs(d-N)}function lt(d,v,N,U,z,J,X){for(U=J[X-1],N=0;N<z;++N)J[X+N]=U=Ze(d[v+N],U)}function Jt(d,v,N,U,z){var J;for(J=0;J<N;++J){var X=d[v+J],te=X>>8&255,ie=16711935&(ie=(ie=16711935&X)+((te<<16)+te));U[z+J]=(4278255360&X)+ie>>>0}}function Zt(d,v){v.jd=d>>0&255,v.hd=d>>8&255,v.ud=d>>16&255}function ht(d,v,N,U,z,J){var X;for(X=0;X<U;++X){var te=v[N+X],ie=te>>>8,he=te,je=255&(je=(je=te>>>16)+((d.jd<<24>>24)*(ie<<24>>24)>>>5));he=255&(he=(he=he+((d.hd<<24>>24)*(ie<<24>>24)>>>5))+((d.ud<<24>>24)*(je<<24>>24)>>>5)),z[J+X]=(4278255360&te)+(je<<16)+he}}function kt(d,v,N,U,z){M[v]=function(J,X,te,ie,he,je,$e,Je,Me){for(ie=$e;ie<Je;++ie)for($e=0;$e<Me;++$e)he[je++]=z(te[U(J[X++])])},M[d]=function(J,X,te,ie,he,je,$e){var Je=8>>J.b,Me=J.Ea,pt=J.K[0],at=J.w;if(8>Je)for(J=(1<<J.b)-1,at=(1<<Je)-1;X<te;++X){var ke,Oe=0;for(ke=0;ke<Me;++ke)ke&J||(Oe=U(ie[he++])),je[$e++]=z(pt[Oe&at]),Oe>>=Je}else M["VP8LMapColor"+N](ie,he,pt,at,je,$e,X,te,Me)}}function ut(d,v,N,U,z){for(N=v+N;v<N;){var J=d[v++];U[z++]=J>>16&255,U[z++]=J>>8&255,U[z++]=J>>0&255}}function wr(d,v,N,U,z){for(N=v+N;v<N;){var J=d[v++];U[z++]=J>>16&255,U[z++]=J>>8&255,U[z++]=J>>0&255,U[z++]=J>>24&255}}function Pt(d,v,N,U,z){for(N=v+N;v<N;){var J=(X=d[v++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;U[z++]=J,U[z++]=X}}function Or(d,v,N,U,z){for(N=v+N;v<N;){var J=(X=d[v++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;U[z++]=J,U[z++]=X}}function Ut(d,v,N,U,z){for(N=v+N;v<N;){var J=d[v++];U[z++]=J>>0&255,U[z++]=J>>8&255,U[z++]=J>>16&255}}function _t(d,v,N,U,z,J){if(J==0)for(N=v+N;v<N;)wt(U,((J=d[v++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),z+=32;else n(U,z,d,v,N)}function Kr(d,v){M[v][0]=M[d+"0"],M[v][1]=M[d+"1"],M[v][2]=M[d+"2"],M[v][3]=M[d+"3"],M[v][4]=M[d+"4"],M[v][5]=M[d+"5"],M[v][6]=M[d+"6"],M[v][7]=M[d+"7"],M[v][8]=M[d+"8"],M[v][9]=M[d+"9"],M[v][10]=M[d+"10"],M[v][11]=M[d+"11"],M[v][12]=M[d+"12"],M[v][13]=M[d+"13"],M[v][14]=M[d+"0"],M[v][15]=M[d+"0"]}function rr(d){return d==gu||d==vu||d==yu||d==a}function ls(){this.eb=[],this.size=this.A=this.fb=0}function xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function cs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ls,this.f.kb=new xt,this.sd=null}function xi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hr(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function jr(d,v){var N=d.T,U=v.ba.f.RGBA,z=U.eb,J=U.fb+d.ka*U.A,X=Gs[v.ba.S],te=d.y,ie=d.O,he=d.f,je=d.N,$e=d.ea,Je=d.W,Me=v.cc,pt=v.dc,at=v.Mc,ke=v.Nc,Oe=d.ka,dt=d.ka+d.T,yt=d.U,ft=yt+1>>1;for(Oe==0?X(te,ie,null,null,he,je,$e,Je,he,je,$e,Je,z,J,null,null,yt):(X(v.ec,v.fc,te,ie,Me,pt,at,ke,he,je,$e,Je,z,J-U.A,z,J,yt),++N);Oe+2<dt;Oe+=2)Me=he,pt=je,at=$e,ke=Je,je+=d.Rc,Je+=d.Rc,J+=2*U.A,X(te,(ie+=2*d.fa)-d.fa,te,ie,Me,pt,at,ke,he,je,$e,Je,z,J-U.A,z,J,yt);return ie+=d.fa,d.j+dt<d.o?(n(v.ec,v.fc,te,ie,yt),n(v.cc,v.dc,he,je,ft),n(v.Mc,v.Nc,$e,Je,ft),N--):1&dt||X(te,ie,null,null,he,je,$e,Je,he,je,$e,Je,z,J+U.A,null,null,yt),N}function ho(d,v,N){var U=d.F,z=[d.J];if(U!=null){var J=d.U,X=v.ba.S,te=X==pc||X==yu;v=v.ba.f.RGBA;var ie=[0],he=d.ka;ie[0]=d.T,d.Kb&&(he==0?--ie[0]:(--he,z[0]-=d.width),d.j+d.ka+d.T==d.o&&(ie[0]=d.o-d.j-he));var je=v.eb;he=v.fb+he*v.A,d=St(U,z[0],d.width,J,ie,je,he+(te?0:3),v.A),e(N==ie),d&&rr(X)&&Nt(je,he,te,J,ie,v.A)}return 0}function Jn(d){var v=d.ma,N=v.ba.S,U=11>N,z=N==dc||N==fc||N==pc||N==mu||N==12||rr(N);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!EA(v.Oa,d,z?11:12))return 0;if(z&&rr(N)&&vt(),d.da)alert("todo:use_scaling");else{if(U){if(v.Ib=hr,d.Kb){if(N=d.U+1>>1,v.memory=i(d.U+2*N),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+d.U,v.Mc=v.cc,v.Nc=v.dc+N,v.Ib=jr,vt()}}else alert("todo:EmitYUV");z&&(v.Jb=ho,U&&He())}if(U&&!_x){for(d=0;256>d;++d)kS[d]=89858*(d-128)+ap>>ip,IS[d]=-22014*(d-128)+ap,QS[d]=-45773*(d-128),LS[d]=113618*(d-128)+ap>>ip;for(d=nd;d<m0;++d)v=76283*(d-16)+ap>>ip,PS[d-nd]=rn(v,255),TS[d-nd]=rn(v+8>>4,15);_x=1}return 1}function ws(d){var v=d.ma,N=d.U,U=d.T;return e(!(1&d.ka)),0>=N||0>=U?0:(N=v.Ib(d,v),v.Jb!=null&&v.Jb(d,v,N),v.Dc+=N,1)}function Zn(d){d.ma.memory=null}function Yt(d,v,N,U){return ee(d,8)!=47?0:(v[0]=ee(d,14)+1,N[0]=ee(d,14)+1,U[0]=ee(d,1),ee(d,3)!=0?0:!d.h)}function ks(d,v){if(4>d)return d+1;var N=d-2>>1;return(2+(1&d)<<N)+ee(v,N)+1}function Nr(d,v){return 120<v?v-120:1<=(N=((N=xe[v-1])>>4)*d+(8-(15&N)))?N:1;var N}function Qr(d,v,N){var U=$(N),z=d[v+=255&U].g-8;return 0<z&&(ce(N,N.u+8),U=$(N),v+=d[v].value,v+=U&(1<<z)-1),ce(N,N.u+d[v].g),d[v].value}function Rr(d,v,N){return N.g+=d.g,N.value+=d.value<<v>>>0,e(8>=N.g),d.g}function Lt(d,v,N){var U=d.xc;return e((v=U==0?0:d.vc[d.md*(N>>U)+(v>>U)])<d.Wb),d.Ya[v]}function Xn(d,v,N,U){var z=d.ab,J=d.c*v,X=d.C;v=X+v;var te=N,ie=U;for(U=d.Ta,N=d.Ua;0<z--;){var he=d.gc[z],je=X,$e=v,Je=te,Me=ie,pt=(ie=U,te=N,he.Ea);switch(e(je<$e),e($e<=he.nc),he.hc){case 2:$i(Je,Me,($e-je)*pt,ie,te);break;case 0:var at=je,ke=$e,Oe=ie,dt=te,yt=(Tt=he).Ea;at==0&&(FA(Je,Me,null,null,1,Oe,dt),lt(Je,Me+1,0,0,yt-1,Oe,dt+1),Me+=yt,dt+=yt,++at);for(var ft=1<<Tt.b,qt=ft-1,It=Xe(yt,Tt.b),ir=Tt.K,Tt=Tt.w+(at>>Tt.b)*It;at<ke;){var Hr=ir,Jr=Tt,Pr=1;for(Is(Je,Me,Oe,dt-yt,1,Oe,dt);Pr<yt;){var kr=(Pr&~qt)+ft;kr>yt&&(kr=yt),(0,f[Hr[Jr++]>>8&15])(Je,Me+ +Pr,Oe,dt+Pr-yt,kr-Pr,Oe,dt+Pr),Pr=kr}Me+=yt,dt+=yt,++at&qt||(Tt+=It)}$e!=he.nc&&n(ie,te-pt,ie,te+($e-je-1)*pt,pt);break;case 1:for(pt=Je,ke=Me,yt=(Je=he.Ea)-(dt=Je&~(Oe=(Me=1<<he.b)-1)),at=Xe(Je,he.b),ft=he.K,he=he.w+(je>>he.b)*at;je<$e;){for(qt=ft,It=he,ir=new At,Tt=ke+dt,Hr=ke+Je;ke<Tt;)Zt(qt[It++],ir),x(ir,pt,ke,Me,ie,te),ke+=Me,te+=Me;ke<Hr&&(Zt(qt[It++],ir),x(ir,pt,ke,yt,ie,te),ke+=yt,te+=yt),++je&Oe||(he+=at)}break;case 3:if(Je==ie&&Me==te&&0<he.b){for(ke=ie,Je=pt=te+($e-je)*pt-(dt=($e-je)*Xe(he.Ea,he.b)),Me=ie,Oe=te,at=[],dt=(yt=dt)-1;0<=dt;--dt)at[dt]=Me[Oe+dt];for(dt=yt-1;0<=dt;--dt)ke[Je+dt]=at[dt];kn(he,je,$e,ie,pt,ie,te)}else kn(he,je,$e,Je,Me,ie,te)}te=U,ie=N}ie!=N&&n(U,N,te,ie,J)}function Hi(d,v){var N=d.V,U=d.Ba+d.c*d.C,z=v-d.C;if(e(v<=d.l.o),e(16>=z),0<z){var J=d.l,X=d.Ta,te=d.Ua,ie=J.width;if(Xn(d,z,N,U),z=te=[te],e((N=d.C)<(U=v)),e(J.v<J.va),U>J.o&&(U=J.o),N<J.j){var he=J.j-N;N=J.j,z[0]+=he*ie}if(N>=U?N=0:(z[0]+=4*J.v,J.ka=N-J.j,J.U=J.va-J.v,J.T=U-N,N=1),N){if(te=te[0],11>(N=d.ca).S){var je=N.f.RGBA,$e=(U=N.S,z=J.U,J=J.T,he=je.eb,je.A),Je=J;for(je=je.fb+d.Ma*je.A;0<Je--;){var Me=X,pt=te,at=z,ke=he,Oe=je;switch(U){case tA:E(Me,pt,at,ke,Oe);break;case dc:k(Me,pt,at,ke,Oe);break;case gu:k(Me,pt,at,ke,Oe),Nt(ke,Oe,0,at,1,0);break;case ed:Ae(Me,pt,at,ke,Oe);break;case fc:_t(Me,pt,at,ke,Oe,1);break;case vu:_t(Me,pt,at,ke,Oe,1),Nt(ke,Oe,0,at,1,0);break;case pc:_t(Me,pt,at,ke,Oe,0);break;case yu:_t(Me,pt,at,ke,Oe,0),Nt(ke,Oe,1,at,1,0);break;case mu:O(Me,pt,at,ke,Oe);break;case a:O(Me,pt,at,ke,Oe),mt(ke,Oe,at,1,0);break;case rp:W(Me,pt,at,ke,Oe);break;default:e(0)}te+=ie,je+=$e}d.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=N.height)}}d.C=v,e(d.C<=d.i)}function Ki(d){var v;if(0<d.ua)return 0;for(v=0;v<d.Wb;++v){var N=d.Ya[v].G,U=d.Ya[v].H;if(0<N[1][U[1]+0].g||0<N[2][U[2]+0].g||0<N[3][U[3]+0].g)return 0}return 1}function En(d,v,N,U,z,J){if(d.Z!=0){var X=d.qd,te=d.rd;for(e($r[d.Z]!=null);v<N;++v)$r[d.Z](X,te,U,z,U,z,J),X=U,te=z,z+=J;d.qd=X,d.rd=te}}function Mn(d,v){var N=d.l.ma,U=N.Z==0||N.Z==1?d.l.j:d.C;if(U=d.C<U?U:d.C,e(v<=d.l.o),v>U){var z=d.l.width,J=N.ca,X=N.tb+z*U,te=d.V,ie=d.Ba+d.c*U,he=d.gc;e(d.ab==1),e(he[0].hc==3),Ln(he[0],U,v,te,ie,J,X),En(N,U,v,J,X,z)}d.C=d.Ma=v}function Fn(d,v,N,U,z,J,X){var te=d.$/U,ie=d.$%U,he=d.m,je=d.s,$e=N+d.$,Je=$e;z=N+U*z;var Me=N+U*J,pt=280+je.ua,at=d.Pb?te:16777216,ke=0<je.ua?je.Wa:null,Oe=je.wc,dt=$e<Me?Lt(je,ie,te):null;e(d.C<J),e(Me<=z);var yt=!1;e:for(;;){for(;yt||$e<Me;){var ft=0;if(te>=at){var qt=$e-N;e((at=d).Pb),at.wd=at.m,at.xd=qt,0<at.s.ua&&pe(at.s.Wa,at.s.vb),at=te+tt}if(ie&Oe||(dt=Lt(je,ie,te)),e(dt!=null),dt.Qb&&(v[$e]=dt.qb,yt=!0),!yt)if(fe(he),dt.jc){ft=he,qt=v;var It=$e,ir=dt.pd[$(ft)&on-1];e(dt.jc),256>ir.g?(ce(ft,ft.u+ir.g),qt[It]=ir.value,ft=0):(ce(ft,ft.u+ir.g-256),e(256<=ir.value),ft=ir.value),ft==0&&(yt=!0)}else ft=Qr(dt.G[0],dt.H[0],he);if(he.h)break;if(yt||256>ft){if(!yt)if(dt.nd)v[$e]=(dt.qb|ft<<8)>>>0;else{if(fe(he),yt=Qr(dt.G[1],dt.H[1],he),fe(he),qt=Qr(dt.G[2],dt.H[2],he),It=Qr(dt.G[3],dt.H[3],he),he.h)break;v[$e]=(It<<24|yt<<16|ft<<8|qt)>>>0}if(yt=!1,++$e,++ie>=U&&(ie=0,++te,X!=null&&te<=J&&!(te%16)&&X(d,te),ke!=null))for(;Je<$e;)ft=v[Je++],ke.X[(506832829*ft&4294967295)>>>ke.Mb]=ft}else if(280>ft){if(ft=ks(ft-256,he),qt=Qr(dt.G[4],dt.H[4],he),fe(he),qt=Nr(U,qt=ks(qt,he)),he.h)break;if($e-N<qt||z-$e<ft)break e;for(It=0;It<ft;++It)v[$e+It]=v[$e+It-qt];for($e+=ft,ie+=ft;ie>=U;)ie-=U,++te,X!=null&&te<=J&&!(te%16)&&X(d,te);if(e($e<=z),ie&Oe&&(dt=Lt(je,ie,te)),ke!=null)for(;Je<$e;)ft=v[Je++],ke.X[(506832829*ft&4294967295)>>>ke.Mb]=ft}else{if(!(ft<pt))break e;for(yt=ft-280,e(ke!=null);Je<$e;)ft=v[Je++],ke.X[(506832829*ft&4294967295)>>>ke.Mb]=ft;ft=$e,e(!(yt>>>(qt=ke).Xa)),v[ft]=qt.X[yt],yt=!0}yt||e(he.h==se(he))}if(d.Pb&&he.h&&$e<z)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&pe(d.s.vb,d.s.Wa);else{if(he.h)break e;X!=null&&X(d,te>J?J:te),d.a=0,d.$=$e-N}return 1}return d.a=3,0}function Hn(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var v=d.Wa;v!=null&&(v.X=null),d.vb=null,e(d!=null)}function Hs(){var d=new ma;return d==null?null:(d.a=0,d.xb=td,Kr("Predictor","VP8LPredictors"),Kr("Predictor","VP8LPredictors_C"),Kr("PredictorAdd","VP8LPredictorsAdd"),Kr("PredictorAdd","VP8LPredictorsAdd_C"),$i=Jt,x=ht,E=ut,k=wr,O=Pt,W=Or,Ae=Ut,M.VP8LMapColor32b=Ui,M.VP8LMapColor8b=Wa,d)}function Yn(d,v,N,U,z){var J=1,X=[d],te=[v],ie=U.m,he=U.s,je=null,$e=0;e:for(;;){if(N)for(;J&&ee(ie,1);){var Je=X,Me=te,pt=U,at=1,ke=pt.m,Oe=pt.gc[pt.ab],dt=ee(ke,2);if(pt.Oc&1<<dt)J=0;else{switch(pt.Oc|=1<<dt,Oe.hc=dt,Oe.Ea=Je[0],Oe.nc=Me[0],Oe.K=[null],++pt.ab,e(4>=pt.ab),dt){case 0:case 1:Oe.b=ee(ke,3)+2,at=Yn(Xe(Oe.Ea,Oe.b),Xe(Oe.nc,Oe.b),0,pt,Oe.K),Oe.K=Oe.K[0];break;case 3:var yt,ft=ee(ke,8)+1,qt=16<ft?0:4<ft?1:2<ft?2:3;if(Je[0]=Xe(Oe.Ea,qt),Oe.b=qt,yt=at=Yn(ft,1,0,pt,Oe.K)){var It,ir=ft,Tt=Oe,Hr=1<<(8>>Tt.b),Jr=i(Hr);if(Jr==null)yt=0;else{var Pr=Tt.K[0],kr=Tt.w;for(Jr[0]=Tt.K[0][0],It=1;It<1*ir;++It)Jr[It]=Ze(Pr[kr+It],Jr[It-1]);for(;It<4*Hr;++It)Jr[It]=0;Tt.K[0]=null,Tt.K[0]=Jr,yt=1}}at=yt;break;case 2:break;default:e(0)}J=at}}if(X=X[0],te=te[0],J&&ee(ie,1)&&!(J=1<=($e=ee(ie,4))&&11>=$e)){U.a=3;break e}var An;if(An=J)t:{var nn,br,ds,Zi=U,fs=X,Xi=te,Zr=$e,ba=N,_a=Zi.m,Ps=Zi.s,$s=[null],Li=1,$a=0,nA=Ve[Zr];r:for(;;){if(ba&&ee(_a,1)){var Ts=ee(_a,3)+2,jA=Xe(fs,Ts),mc=Xe(Xi,Ts),xu=jA*mc;if(!Yn(jA,mc,0,Zi,$s))break r;for($s=$s[0],Ps.xc=Ts,nn=0;nn<xu;++nn){var Al=$s[nn]>>8&65535;$s[nn]=Al,Al>=Li&&(Li=Al+1)}}if(_a.h)break r;for(br=0;5>br;++br){var zn=C[br];!br&&0<Zr&&(zn+=1<<Zr),$a<zn&&($a=zn)}var g0=o(Li*nA,R),Nx=Li,Sx=o(Nx,ae);if(Sx==null)var Ap=null;else e(65536>=Nx),Ap=Sx;var sd=i($a);if(Ap==null||sd==null||g0==null){Zi.a=1;break r}var lp=g0;for(nn=ds=0;nn<Li;++nn){var bo=Ap[nn],bu=bo.G,_u=bo.H,Ex=0,cp=1,Fx=0;for(br=0;5>br;++br){zn=C[br],bu[br]=lp,_u[br]=ds,!br&&0<Zr&&(zn+=1<<Zr);s:{var up,v0=zn,hp=Zi,id=sd,DS=lp,MS=ds,y0=0,ll=hp.m,HS=ee(ll,1);if(s(id,0,0,v0),HS){var KS=ee(ll,1)+1,qS=ee(ll,1),jx=ee(ll,qS==0?1:8);id[jx]=1,KS==2&&(id[jx=ee(ll,8)]=1);var dp=1}else{var Ux=i(19),kx=ee(ll,4)+4;if(19<kx){hp.a=3;var fp=0;break s}for(up=0;up<kx;++up)Ux[Y[up]]=ee(ll,3);var w0=void 0,ad=void 0,Lx=hp,zS=Ux,pp=v0,Qx=id,x0=0,cl=Lx.m,Ix=8,Px=o(128,R);n:for(;D(Px,0,7,zS,19);){if(ee(cl,1)){var VS=2+2*ee(cl,3);if((w0=2+ee(cl,VS))>pp)break n}else w0=pp;for(ad=0;ad<pp&&w0--;){fe(cl);var Tx=Px[0+(127&$(cl))];ce(cl,cl.u+Tx.g);var Bu=Tx.value;if(16>Bu)Qx[ad++]=Bu,Bu!=0&&(Ix=Bu);else{var WS=Bu==16,Ox=Bu-16,GS=m[Ox],Rx=ee(cl,u[Ox])+GS;if(ad+Rx>pp)break n;for(var $S=WS?Ix:0;0<Rx--;)Qx[ad++]=$S}}x0=1;break n}x0||(Lx.a=3),dp=x0}(dp=dp&&!ll.h)&&(y0=D(DS,MS,8,id,v0)),dp&&y0!=0?fp=y0:(hp.a=3,fp=0)}if(fp==0)break r;if(cp&&I[br]==1&&(cp=lp[ds].g==0),Ex+=lp[ds].g,ds+=fp,3>=br){var od,b0=sd[0];for(od=1;od<zn;++od)sd[od]>b0&&(b0=sd[od]);Fx+=b0}}if(bo.nd=cp,bo.Qb=0,cp&&(bo.qb=(bu[3][_u[3]+0].value<<24|bu[1][_u[1]+0].value<<16|bu[2][_u[2]+0].value)>>>0,Ex==0&&256>bu[0][_u[0]+0].value&&(bo.Qb=1,bo.qb+=bu[0][_u[0]+0].value<<8)),bo.jc=!bo.Qb&&6>Fx,bo.jc){var mp,UA=bo;for(mp=0;mp<on;++mp){var ul=mp,hl=UA.pd[ul],gp=UA.G[0][UA.H[0]+ul];256<=gp.value?(hl.g=gp.g+256,hl.value=gp.value):(hl.g=0,hl.value=0,ul>>=Rr(gp,8,hl),ul>>=Rr(UA.G[1][UA.H[1]+ul],16,hl),ul>>=Rr(UA.G[2][UA.H[2]+ul],0,hl),Rr(UA.G[3][UA.H[3]+ul],24,hl))}}}Ps.vc=$s,Ps.Wb=Li,Ps.Ya=Ap,Ps.yc=g0,An=1;break t}An=0}if(!(J=An)){U.a=3;break e}if(0<$e){if(he.ua=1<<$e,!et(he.Wa,$e)){U.a=1,J=0;break e}}else he.ua=0;var _0=U,Dx=X,JS=te,B0=_0.s,C0=B0.xc;if(_0.c=Dx,_0.i=JS,B0.md=Xe(Dx,C0),B0.wc=C0==0?-1:(1<<C0)-1,N){U.xb=d0;break e}if((je=i(X*te))==null){U.a=1,J=0;break e}J=(J=Fn(U,je,0,X,te,te,null))&&!ie.h;break e}return J?(z!=null?z[0]=je:(e(je==null),e(N)),U.$=0,N||Hn(he)):Hn(he),J}function Oa(d,v){var N=d.c*d.i,U=N+v+16*v;return e(d.c<=v),d.V=i(U),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+N+v,1)}function ni(d,v){var N=d.C,U=v-N,z=d.V,J=d.Ba+d.c*N;for(e(v<=d.l.o);0<U;){var X=16<U?16:U,te=d.l.ma,ie=d.l.width,he=ie*X,je=te.ca,$e=te.tb+ie*N,Je=d.Ta,Me=d.Ua;Xn(d,X,z,J),Vt(Je,Me,je,$e,he),En(te,N,N+X,je,$e,ie),U-=X,z+=X*d.c,N+=X}e(N==v),d.C=d.Ma=v}function fo(){this.ub=this.yd=this.td=this.Rb=0}function la(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ks(){this.Yb=function(){var d=[];return function v(N,U,z){for(var J=z[U],X=0;X<J&&(N.push(z.length>U+1?[]:0),!(z.length<U+1));X++)v(N[X],U+1,z)}(d,0,[3,11]),d}()}function bi(){this.jb=i(3),this.Wc=l([4,8],Ks),this.Xc=l([4,17],Ks)}function sl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function _i(){this.ld=this.La=this.dd=this.tc=0}function po(){this.Na=this.la=0}function _A(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ca(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qs(){this.uc=this.M=this.Nb=0,this.wa=Array(new _i),this.Y=0,this.ya=Array(new ca),this.aa=0,this.l=new Bi}function Vo(){this.y=i(16),this.f=i(8),this.ea=i(8)}function mo(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new fo,this.Kc=new la,this.ed=new sl,this.Qa=new qr,this.Ic=this.$c=this.Aa=0,this.D=new qs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,_A),this.Pa=new bi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vo),this.Hd=0,this.rb=Array(new po),this.sb=0,this.wa=Array(new _i),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ca),this.L=this.aa=0,this.gd=l([4,2],_i),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Bi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Dt(){var d=new mo;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,nr||(nr=zs)),d}function pr(d,v,N){return d.a==0&&(d.a=v,d.sc=N,d.cb=0),0}function Ra(d,v,N){return 3<=N&&d[v+0]==157&&d[v+1]==1&&d[v+2]==42}function si(d,v){if(d==null)return 0;if(d.a=0,d.sc="OK",v==null)return pr(d,2,"null VP8Io passed to VP8GetHeaders()");var N=v.data,U=v.w,z=v.ha;if(4>z)return pr(d,7,"Truncated header.");var J=N[U+0]|N[U+1]<<8|N[U+2]<<16,X=d.Od;if(X.Rb=!(1&J),X.td=J>>1&7,X.yd=J>>4&1,X.ub=J>>5,3<X.td)return pr(d,3,"Incorrect keyframe parameters.");if(!X.yd)return pr(d,4,"Frame not displayable.");U+=3,z-=3;var te=d.Kc;if(X.Rb){if(7>z)return pr(d,7,"cannot parse picture header");if(!Ra(N,U,z))return pr(d,3,"Bad code word");te.c=16383&(N[U+4]<<8|N[U+3]),te.Td=N[U+4]>>6,te.i=16383&(N[U+6]<<8|N[U+5]),te.Ud=N[U+6]>>6,U+=7,z-=7,d.za=te.c+15>>4,d.Ub=te.i+15>>4,v.width=te.c,v.height=te.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((J=d.Pa).jb,0,255,J.jb.length),e((J=d.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,s(J.Zb,0,0,J.Zb.length),s(J.Lb,0,0,J.Lb)}if(X.ub>z)return pr(d,7,"bad partition length");Se(J=d.m,N,U,X.ub),U+=X.ub,z-=X.ub,X.Rb&&(te.Ld=ze(J),te.Kd=ze(J)),te=d.Qa;var ie,he=d.Pa;if(e(J!=null),e(te!=null),te.Cb=ze(J),te.Cb){if(te.Bb=ze(J),ze(J)){for(te.Fb=ze(J),ie=0;4>ie;++ie)te.Zb[ie]=ze(J)?Ue(J,7):0;for(ie=0;4>ie;++ie)te.Lb[ie]=ze(J)?Ue(J,6):0}if(te.Bb)for(ie=0;3>ie;++ie)he.jb[ie]=ze(J)?ve(J,8):255}else te.Bb=0;if(J.Ka)return pr(d,3,"cannot parse segment header");if((te=d.ed).zd=ze(J),te.Tb=ve(J,6),te.wb=ve(J,3),te.Pc=ze(J),te.Pc&&ze(J)){for(he=0;4>he;++he)ze(J)&&(te.vd[he]=Ue(J,6));for(he=0;4>he;++he)ze(J)&&(te.od[he]=Ue(J,6))}if(d.L=te.Tb==0?0:te.zd?1:2,J.Ka)return pr(d,3,"cannot parse filter header");var je=z;if(z=ie=U,U=ie+je,te=je,d.Xb=(1<<ve(d.m,2))-1,je<3*(he=d.Xb))N=7;else{for(ie+=3*he,te-=3*he,je=0;je<he;++je){var $e=N[z+0]|N[z+1]<<8|N[z+2]<<16;$e>te&&($e=te),Se(d.Jc[+je],N,ie,$e),ie+=$e,te-=$e,z+=3}Se(d.Jc[+he],N,ie,te),N=ie<U?0:5}if(N!=0)return pr(d,N,"cannot parse partitions");for(N=ve(ie=d.m,7),z=ze(ie)?Ue(ie,4):0,U=ze(ie)?Ue(ie,4):0,te=ze(ie)?Ue(ie,4):0,he=ze(ie)?Ue(ie,4):0,ie=ze(ie)?Ue(ie,4):0,je=d.Qa,$e=0;4>$e;++$e){if(je.Cb){var Je=je.Zb[$e];je.Fb||(Je+=N)}else{if(0<$e){d.pb[$e]=d.pb[0];continue}Je=N}var Me=d.pb[$e];Me.Sc[0]=gt[rn(Je+z,127)],Me.Sc[1]=Ot[rn(Je+0,127)],Me.Eb[0]=2*gt[rn(Je+U,127)],Me.Eb[1]=101581*Ot[rn(Je+te,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=gt[rn(Je+he,117)],Me.Qc[1]=Ot[rn(Je+ie,127)],Me.lc=Je+ie}if(!X.Rb)return pr(d,4,"Not a key frame.");for(ze(J),X=d.Pa,N=0;4>N;++N){for(z=0;8>z;++z)for(U=0;3>U;++U)for(te=0;11>te;++te)he=_e(J,ol[N][z][U][te])?ve(J,8):Ji[N][z][U][te],X.Wc[N][z].Yb[U][te]=he;for(z=0;17>z;++z)X.Xc[N][z]=X.Wc[N][h0[z]]}return d.kc=ze(J),d.kc&&(d.Bd=ve(J,8)),d.cb=1}function zs(d,v,N,U,z,J,X){var te=v[z].Yb[N];for(N=0;16>z;++z){if(!_e(d,te[N+0]))return z;for(;!_e(d,te[N+1]);)if(te=v[++z].Yb[0],N=0,z==16)return 16;var ie=v[z+1].Yb;if(_e(d,te[N+2])){var he=d,je=0;if(_e(he,(Je=te)[($e=N)+3]))if(_e(he,Je[$e+6])){for(te=0,$e=2*(je=_e(he,Je[$e+8]))+(Je=_e(he,Je[$e+9+je])),je=0,Je=_r[$e];Je[te];++te)je+=je+_e(he,Je[te]);je+=3+(8<<$e)}else _e(he,Je[$e+7])?(je=7+2*_e(he,165),je+=_e(he,145)):je=5+_e(he,159);else je=_e(he,Je[$e+4])?3+_e(he,Je[$e+5]):2;te=ie[2]}else je=1,te=ie[1];ie=X+Ws[z],0>(he=d).b&&Te(he);var $e,Je=he.b,Me=($e=he.Ca>>1)-(he.I>>Je)>>31;--he.b,he.Ca+=Me,he.Ca|=1,he.I-=($e+1&Me)<<Je,J[ie]=((je^Me)-Me)*U[(0<z)+0]}return 16}function Da(d){var v=d.rb[d.sb-1];v.la=0,v.Na=0,s(d.zc,0,0,d.zc.length),d.ja=0}function mr(d,v){if(d==null)return 0;if(v==null)return pr(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!si(d,v))return 0;if(e(d.cb),v.ac==null||v.ac(v)){v.ob&&(d.L=0);var N=op[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=v.v-N>>4,d.zb=v.j-N>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=v.o+15+N>>4,d.Hb=v.va+15+N>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var U=d.ed;for(N=0;4>N;++N){var z;if(d.Qa.Cb){var J=d.Qa.Lb[N];d.Qa.Fb||(J+=U.Tb)}else J=U.Tb;for(z=0;1>=z;++z){var X=d.gd[N][z],te=J;if(U.Pc&&(te+=U.vd[0],z&&(te+=U.od[0])),0<(te=0>te?0:63<te?63:te)){var ie=te;0<U.wb&&(ie=4<U.wb?ie>>2:ie>>1)>9-U.wb&&(ie=9-U.wb),1>ie&&(ie=1),X.dd=ie,X.tc=2*te+ie,X.ld=40<=te?2:15<=te?1:0}else X.tc=0;X.La=z}}}N=0}else pr(d,6,"Frame setup failed"),N=d.a;if(N=N==0){if(N){d.$c=0,0<d.Aa||(d.Ic=RS);e:{N=d.Ic,U=4*(ie=d.za);var he=32*ie,je=ie+1,$e=0<d.L?ie*(0<d.Aa?2:1):0,Je=(d.Aa==2?2:1)*ie;if((X=U+832+(z=3*(16*N+op[d.L])/2*he)+(J=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=X)N=0;else{if(X>d.Vb){if(d.Vb=0,d.Ec=i(X),d.Fc=0,d.Ec==null){N=pr(d,1,"no memory during frame initialization.");break e}d.Vb=X}X=d.Ec,te=d.Fc,d.Ac=X,d.Bc=te,te+=U,d.Gd=o(he,Vo),d.Hd=0,d.rb=o(je+1,po),d.sb=1,d.wa=$e?o($e,_i):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=ie),e(!0),d.oc=X,d.pc=te,te+=832,d.ya=o(Je,ca),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=ie),d.R=16*ie,d.B=8*ie,ie=(he=op[d.L])*d.R,he=he/2*d.B,d.sa=X,d.ta=te+ie,d.qa=d.sa,d.ra=d.ta+16*N*d.R+he,d.Ha=d.qa,d.Ia=d.ra+8*N*d.B+he,d.$c=0,te+=z,d.mb=J?X:null,d.nb=J?te:null,e(te+J<=d.Fc+d.Vb),Da(d),s(d.Ac,d.Bc,0,U),N=1}}if(N){if(v.ka=0,v.y=d.sa,v.O=d.ta,v.f=d.qa,v.N=d.ra,v.ea=d.Ha,v.Vd=d.Ia,v.fa=d.R,v.Rc=d.B,v.F=null,v.J=0,!Qn){for(N=-255;255>=N;++N)Kt[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)or[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)qn[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)er[255+N]=0>N?0:255<N?255:N;Qn=1}ge=qi,Ce=Ma,Re=ii,ye=Gr,De=Ci,be=ua,Fe=$o,Le=ji,Qe=Zo,Pe=NA,qe=Jo,Ge=fa,st=jn,ct=Xo,Ct=Go,jt=bn,bt=Vs,Bt=al,xa[0]=yr,xa[1]=BA,xa[2]=Gt,xa[3]=pn,xa[4]=da,xa[5]=xs,xa[6]=Ha,xa[7]=vo,xa[8]=yo,xa[9]=Kn,rA[0]=Si,rA[1]=Wo,rA[2]=Ni,rA[3]=ha,rA[4]=cn,rA[5]=Ei,rA[6]=go,Ga[0]=Fi,Ga[1]=xr,Ga[2]=Ka,Ga[3]=an,Ga[4]=wo,Ga[5]=CA,Ga[6]=Vi,N=1}else N=0}N&&(N=function(Me,pt){for(Me.M=0;Me.M<Me.Va;++Me.M){var at,ke=Me.Jc[Me.M&Me.Xb],Oe=Me.m,dt=Me;for(at=0;at<dt.za;++at){var yt=Oe,ft=dt,qt=ft.Ac,It=ft.Bc+4*at,ir=ft.zc,Tt=ft.ya[ft.aa+at];if(ft.Qa.Bb?Tt.$b=_e(yt,ft.Pa.jb[0])?2+_e(yt,ft.Pa.jb[2]):_e(yt,ft.Pa.jb[1]):Tt.$b=0,ft.kc&&(Tt.Ad=_e(yt,ft.Bd)),Tt.Za=!_e(yt,145)+0,Tt.Za){var Hr=Tt.Ob,Jr=0;for(ft=0;4>ft;++ft){var Pr,kr=ir[0+ft];for(Pr=0;4>Pr;++Pr){kr=li[qt[It+Pr]][kr];for(var An=rs[_e(yt,kr[0])];0<An;)An=rs[2*An+_e(yt,kr[An])];kr=-An,qt[It+Pr]=kr}n(Hr,Jr,qt,It,4),Jr+=4,ir[0+ft]=kr}}else kr=_e(yt,156)?_e(yt,128)?1:3:_e(yt,163)?2:0,Tt.Ob[0]=kr,s(qt,It,kr,4),s(ir,0,kr,4);Tt.Dd=_e(yt,142)?_e(yt,114)?_e(yt,183)?1:3:2:0}if(dt.m.Ka)return pr(Me,7,"Premature end-of-partition0 encountered.");for(;Me.ja<Me.za;++Me.ja){if(dt=ke,yt=(Oe=Me).rb[Oe.sb-1],qt=Oe.rb[Oe.sb+Oe.ja],at=Oe.ya[Oe.aa+Oe.ja],It=Oe.kc?at.Ad:0)yt.la=qt.la=0,at.Za||(yt.Na=qt.Na=0),at.Hc=0,at.Gc=0,at.ia=0;else{var nn,br;if(yt=qt,qt=dt,It=Oe.Pa.Xc,ir=Oe.ya[Oe.aa+Oe.ja],Tt=Oe.pb[ir.$b],ft=ir.ad,Hr=0,Jr=Oe.rb[Oe.sb-1],kr=Pr=0,s(ft,Hr,0,384),ir.Za)var ds=0,Zi=It[3];else{An=i(16);var fs=yt.Na+Jr.Na;if(fs=nr(qt,It[1],fs,Tt.Eb,0,An,0),yt.Na=Jr.Na=(0<fs)+0,1<fs)ge(An,0,ft,Hr);else{var Xi=An[0]+3>>3;for(An=0;256>An;An+=16)ft[Hr+An]=Xi}ds=1,Zi=It[0]}var Zr=15&yt.la,ba=15&Jr.la;for(An=0;4>An;++An){var _a=1&ba;for(Xi=br=0;4>Xi;++Xi)Zr=Zr>>1|(_a=(fs=nr(qt,Zi,fs=_a+(1&Zr),Tt.Sc,ds,ft,Hr))>ds)<<7,br=br<<2|(3<fs?3:1<fs?2:ft[Hr+0]!=0),Hr+=16;Zr>>=4,ba=ba>>1|_a<<7,Pr=(Pr<<8|br)>>>0}for(Zi=Zr,ds=ba>>4,nn=0;4>nn;nn+=2){for(br=0,Zr=yt.la>>4+nn,ba=Jr.la>>4+nn,An=0;2>An;++An){for(_a=1&ba,Xi=0;2>Xi;++Xi)fs=_a+(1&Zr),Zr=Zr>>1|(_a=0<(fs=nr(qt,It[2],fs,Tt.Qc,0,ft,Hr)))<<3,br=br<<2|(3<fs?3:1<fs?2:ft[Hr+0]!=0),Hr+=16;Zr>>=2,ba=ba>>1|_a<<5}kr|=br<<4*nn,Zi|=Zr<<4<<nn,ds|=(240&ba)<<nn}yt.la=Zi,Jr.la=ds,ir.Hc=Pr,ir.Gc=kr,ir.ia=43690&kr?0:Tt.ia,It=!(Pr|kr)}if(0<Oe.L&&(Oe.wa[Oe.Y+Oe.ja]=Oe.gd[at.$b][at.Za],Oe.wa[Oe.Y+Oe.ja].La|=!It),dt.Ka)return pr(Me,7,"Premature end-of-file encountered.")}if(Da(Me),Oe=pt,dt=1,at=(ke=Me).D,yt=0<ke.L&&ke.M>=ke.zb&&ke.M<=ke.Va,ke.Aa==0)e:{if(at.M=ke.M,at.uc=yt,eA(ke,at),dt=1,at=(br=ke.D).Nb,yt=(kr=op[ke.L])*ke.R,qt=kr/2*ke.B,An=16*at*ke.R,Xi=8*at*ke.B,It=ke.sa,ir=ke.ta-yt+An,Tt=ke.qa,ft=ke.ra-qt+Xi,Hr=ke.Ha,Jr=ke.Ia-qt+Xi,ba=(Zr=br.M)==0,Pr=Zr>=ke.Va-1,ke.Aa==2&&eA(ke,br),br.uc)for(_a=(fs=ke).D.M,e(fs.D.uc),br=fs.yb;br<fs.Hb;++br){ds=br,Zi=_a;var Ps=($s=(zn=fs).D).Nb;nn=zn.R;var $s=$s.wa[$s.Y+ds],Li=zn.sa,$a=zn.ta+16*Ps*nn+16*ds,nA=$s.dd,Ts=$s.tc;if(Ts!=0)if(e(3<=Ts),zn.L==1)0<ds&&jt(Li,$a,nn,Ts+4),$s.La&&Bt(Li,$a,nn,Ts),0<Zi&&Ct(Li,$a,nn,Ts+4),$s.La&&bt(Li,$a,nn,Ts);else{var jA=zn.B,mc=zn.qa,xu=zn.ra+8*Ps*jA+8*ds,Al=zn.Ha,zn=zn.Ia+8*Ps*jA+8*ds;Ps=$s.ld,0<ds&&(Le(Li,$a,nn,Ts+4,nA,Ps),Pe(mc,xu,Al,zn,jA,Ts+4,nA,Ps)),$s.La&&(Ge(Li,$a,nn,Ts,nA,Ps),ct(mc,xu,Al,zn,jA,Ts,nA,Ps)),0<Zi&&(Fe(Li,$a,nn,Ts+4,nA,Ps),Qe(mc,xu,Al,zn,jA,Ts+4,nA,Ps)),$s.La&&(qe(Li,$a,nn,Ts,nA,Ps),st(mc,xu,Al,zn,jA,Ts,nA,Ps))}}if(ke.ia&&alert("todo:DitherRow"),Oe.put!=null){if(br=16*Zr,Zr=16*(Zr+1),ba?(Oe.y=ke.sa,Oe.O=ke.ta+An,Oe.f=ke.qa,Oe.N=ke.ra+Xi,Oe.ea=ke.Ha,Oe.W=ke.Ia+Xi):(br-=kr,Oe.y=It,Oe.O=ir,Oe.f=Tt,Oe.N=ft,Oe.ea=Hr,Oe.W=Jr),Pr||(Zr-=kr),Zr>Oe.o&&(Zr=Oe.o),Oe.F=null,Oe.J=null,ke.Fa!=null&&0<ke.Fa.length&&br<Zr&&(Oe.J=Yo(ke,Oe,br,Zr-br),Oe.F=ke.mb,Oe.F==null&&Oe.F.length==0)){dt=pr(ke,3,"Could not decode alpha data.");break e}br<Oe.j&&(kr=Oe.j-br,br=Oe.j,e(!(1&kr)),Oe.O+=ke.R*kr,Oe.N+=ke.B*(kr>>1),Oe.W+=ke.B*(kr>>1),Oe.F!=null&&(Oe.J+=Oe.width*kr)),br<Zr&&(Oe.O+=Oe.v,Oe.N+=Oe.v>>1,Oe.W+=Oe.v>>1,Oe.F!=null&&(Oe.J+=Oe.v),Oe.ka=br-Oe.j,Oe.U=Oe.va-Oe.v,Oe.T=Zr-br,dt=Oe.put(Oe))}at+1!=ke.Ic||Pr||(n(ke.sa,ke.ta-yt,It,ir+16*ke.R,yt),n(ke.qa,ke.ra-qt,Tt,ft+8*ke.B,qt),n(ke.Ha,ke.Ia-qt,Hr,Jr+8*ke.B,qt))}if(!dt)return pr(Me,6,"Output aborted.")}return 1}(d,v)),v.bc!=null&&v.bc(v),N&=1}return N?(d.cb=0,N):0}function Ur(d,v,N,U,z){z=d[v+N+32*U]+(z>>3),d[v+N+32*U]=-256&z?0>z?0:255:z}function Sr(d,v,N,U,z,J){Ur(d,v,0,N,U+z),Ur(d,v,1,N,U+J),Ur(d,v,2,N,U-J),Ur(d,v,3,N,U-z)}function fn(d){return(20091*d>>16)+d}function wn(d,v,N,U){var z,J=0,X=i(16);for(z=0;4>z;++z){var te=d[v+0]+d[v+8],ie=d[v+0]-d[v+8],he=(35468*d[v+4]>>16)-fn(d[v+12]),je=fn(d[v+4])+(35468*d[v+12]>>16);X[J+0]=te+je,X[J+1]=ie+he,X[J+2]=ie-he,X[J+3]=te-je,J+=4,v++}for(z=J=0;4>z;++z)te=(d=X[J+0]+4)+X[J+8],ie=d-X[J+8],he=(35468*X[J+4]>>16)-fn(X[J+12]),Ur(N,U,0,0,te+(je=fn(X[J+4])+(35468*X[J+12]>>16))),Ur(N,U,1,0,ie+he),Ur(N,U,2,0,ie-he),Ur(N,U,3,0,te-je),J++,U+=32}function ua(d,v,N,U){var z=d[v+0]+4,J=35468*d[v+4]>>16,X=fn(d[v+4]),te=35468*d[v+1]>>16;Sr(N,U,0,z+X,d=fn(d[v+1]),te),Sr(N,U,1,z+J,d,te),Sr(N,U,2,z-J,d,te),Sr(N,U,3,z-X,d,te)}function Ma(d,v,N,U,z){wn(d,v,N,U),z&&wn(d,v+16,N,U+4)}function ii(d,v,N,U){Ce(d,v+0,N,U,1),Ce(d,v+32,N,U+128,1)}function Gr(d,v,N,U){var z;for(d=d[v+0]+4,z=0;4>z;++z)for(v=0;4>v;++v)Ur(N,U,v,z,d)}function Ci(d,v,N,U){d[v+0]&&ye(d,v+0,N,U),d[v+16]&&ye(d,v+16,N,U+4),d[v+32]&&ye(d,v+32,N,U+128),d[v+48]&&ye(d,v+48,N,U+128+4)}function qi(d,v,N,U){var z,J=i(16);for(z=0;4>z;++z){var X=d[v+0+z]+d[v+12+z],te=d[v+4+z]+d[v+8+z],ie=d[v+4+z]-d[v+8+z],he=d[v+0+z]-d[v+12+z];J[0+z]=X+te,J[8+z]=X-te,J[4+z]=he+ie,J[12+z]=he-ie}for(z=0;4>z;++z)X=(d=J[0+4*z]+3)+J[3+4*z],te=J[1+4*z]+J[2+4*z],ie=J[1+4*z]-J[2+4*z],he=d-J[3+4*z],N[U+0]=X+te>>3,N[U+16]=he+ie>>3,N[U+32]=X-te>>3,N[U+48]=he-ie>>3,U+=64}function zi(d,v,N){var U,z=v-32,J=Dr,X=255-d[z-1];for(U=0;U<N;++U){var te,ie=J,he=X+d[v-1];for(te=0;te<N;++te)d[v+te]=ie[he+d[z+te]];v+=32}}function BA(d,v){zi(d,v,4)}function xr(d,v){zi(d,v,8)}function Wo(d,v){zi(d,v,16)}function Ni(d,v){var N;for(N=0;16>N;++N)n(d,v+32*N,d,v-32,16)}function ha(d,v){var N;for(N=16;0<N;--N)s(d,v,d[v-1],16),v+=32}function xn(d,v,N){var U;for(U=0;16>U;++U)s(v,N+32*U,d,16)}function Si(d,v){var N,U=16;for(N=0;16>N;++N)U+=d[v-1+32*N]+d[v+N-32];xn(U>>5,d,v)}function cn(d,v){var N,U=8;for(N=0;16>N;++N)U+=d[v-1+32*N];xn(U>>4,d,v)}function Ei(d,v){var N,U=8;for(N=0;16>N;++N)U+=d[v+N-32];xn(U>>4,d,v)}function go(d,v){xn(128,d,v)}function Ar(d,v,N){return d+2*v+N+2>>2}function Gt(d,v){var N,U=v-32;for(U=new Uint8Array([Ar(d[U-1],d[U+0],d[U+1]),Ar(d[U+0],d[U+1],d[U+2]),Ar(d[U+1],d[U+2],d[U+3]),Ar(d[U+2],d[U+3],d[U+4])]),N=0;4>N;++N)n(d,v+32*N,U,0,U.length)}function pn(d,v){var N=d[v-1],U=d[v-1+32],z=d[v-1+64],J=d[v-1+96];wt(d,v+0,16843009*Ar(d[v-1-32],N,U)),wt(d,v+32,16843009*Ar(N,U,z)),wt(d,v+64,16843009*Ar(U,z,J)),wt(d,v+96,16843009*Ar(z,J,J))}function yr(d,v){var N,U=4;for(N=0;4>N;++N)U+=d[v+N-32]+d[v-1+32*N];for(U>>=3,N=0;4>N;++N)s(d,v+32*N,U,4)}function da(d,v){var N=d[v-1+0],U=d[v-1+32],z=d[v-1+64],J=d[v-1-32],X=d[v+0-32],te=d[v+1-32],ie=d[v+2-32],he=d[v+3-32];d[v+0+96]=Ar(U,z,d[v-1+96]),d[v+1+96]=d[v+0+64]=Ar(N,U,z),d[v+2+96]=d[v+1+64]=d[v+0+32]=Ar(J,N,U),d[v+3+96]=d[v+2+64]=d[v+1+32]=d[v+0+0]=Ar(X,J,N),d[v+3+64]=d[v+2+32]=d[v+1+0]=Ar(te,X,J),d[v+3+32]=d[v+2+0]=Ar(ie,te,X),d[v+3+0]=Ar(he,ie,te)}function Ha(d,v){var N=d[v+1-32],U=d[v+2-32],z=d[v+3-32],J=d[v+4-32],X=d[v+5-32],te=d[v+6-32],ie=d[v+7-32];d[v+0+0]=Ar(d[v+0-32],N,U),d[v+1+0]=d[v+0+32]=Ar(N,U,z),d[v+2+0]=d[v+1+32]=d[v+0+64]=Ar(U,z,J),d[v+3+0]=d[v+2+32]=d[v+1+64]=d[v+0+96]=Ar(z,J,X),d[v+3+32]=d[v+2+64]=d[v+1+96]=Ar(J,X,te),d[v+3+64]=d[v+2+96]=Ar(X,te,ie),d[v+3+96]=Ar(te,ie,ie)}function xs(d,v){var N=d[v-1+0],U=d[v-1+32],z=d[v-1+64],J=d[v-1-32],X=d[v+0-32],te=d[v+1-32],ie=d[v+2-32],he=d[v+3-32];d[v+0+0]=d[v+1+64]=J+X+1>>1,d[v+1+0]=d[v+2+64]=X+te+1>>1,d[v+2+0]=d[v+3+64]=te+ie+1>>1,d[v+3+0]=ie+he+1>>1,d[v+0+96]=Ar(z,U,N),d[v+0+64]=Ar(U,N,J),d[v+0+32]=d[v+1+96]=Ar(N,J,X),d[v+1+32]=d[v+2+96]=Ar(J,X,te),d[v+2+32]=d[v+3+96]=Ar(X,te,ie),d[v+3+32]=Ar(te,ie,he)}function vo(d,v){var N=d[v+0-32],U=d[v+1-32],z=d[v+2-32],J=d[v+3-32],X=d[v+4-32],te=d[v+5-32],ie=d[v+6-32],he=d[v+7-32];d[v+0+0]=N+U+1>>1,d[v+1+0]=d[v+0+64]=U+z+1>>1,d[v+2+0]=d[v+1+64]=z+J+1>>1,d[v+3+0]=d[v+2+64]=J+X+1>>1,d[v+0+32]=Ar(N,U,z),d[v+1+32]=d[v+0+96]=Ar(U,z,J),d[v+2+32]=d[v+1+96]=Ar(z,J,X),d[v+3+32]=d[v+2+96]=Ar(J,X,te),d[v+3+64]=Ar(X,te,ie),d[v+3+96]=Ar(te,ie,he)}function Kn(d,v){var N=d[v-1+0],U=d[v-1+32],z=d[v-1+64],J=d[v-1+96];d[v+0+0]=N+U+1>>1,d[v+2+0]=d[v+0+32]=U+z+1>>1,d[v+2+32]=d[v+0+64]=z+J+1>>1,d[v+1+0]=Ar(N,U,z),d[v+3+0]=d[v+1+32]=Ar(U,z,J),d[v+3+32]=d[v+1+64]=Ar(z,J,J),d[v+3+64]=d[v+2+64]=d[v+0+96]=d[v+1+96]=d[v+2+96]=d[v+3+96]=J}function yo(d,v){var N=d[v-1+0],U=d[v-1+32],z=d[v-1+64],J=d[v-1+96],X=d[v-1-32],te=d[v+0-32],ie=d[v+1-32],he=d[v+2-32];d[v+0+0]=d[v+2+32]=N+X+1>>1,d[v+0+32]=d[v+2+64]=U+N+1>>1,d[v+0+64]=d[v+2+96]=z+U+1>>1,d[v+0+96]=J+z+1>>1,d[v+3+0]=Ar(te,ie,he),d[v+2+0]=Ar(X,te,ie),d[v+1+0]=d[v+3+32]=Ar(N,X,te),d[v+1+32]=d[v+3+64]=Ar(U,N,X),d[v+1+64]=d[v+3+96]=Ar(z,U,N),d[v+1+96]=Ar(J,z,U)}function Ka(d,v){var N;for(N=0;8>N;++N)n(d,v+32*N,d,v-32,8)}function an(d,v){var N;for(N=0;8>N;++N)s(d,v,d[v-1],8),v+=32}function es(d,v,N){var U;for(U=0;8>U;++U)s(v,N+32*U,d,8)}function Fi(d,v){var N,U=8;for(N=0;8>N;++N)U+=d[v+N-32]+d[v-1+32*N];es(U>>4,d,v)}function CA(d,v){var N,U=4;for(N=0;8>N;++N)U+=d[v+N-32];es(U>>3,d,v)}function wo(d,v){var N,U=4;for(N=0;8>N;++N)U+=d[v-1+32*N];es(U>>3,d,v)}function Vi(d,v){es(128,d,v)}function qa(d,v,N){var U=d[v-N],z=d[v+0],J=3*(z-U)+mn[1020+d[v-2*N]-d[v+N]],X=ki[112+(J+4>>3)];d[v-N]=Dr[255+U+ki[112+(J+3>>3)]],d[v+0]=Dr[255+z-X]}function il(d,v,N,U){var z=d[v+0],J=d[v+N];return In[255+d[v-2*N]-d[v-N]]>U||In[255+J-z]>U}function za(d,v,N,U){return 4*In[255+d[v-N]-d[v+0]]+In[255+d[v-2*N]-d[v+N]]<=U}function gr(d,v,N,U,z){var J=d[v-3*N],X=d[v-2*N],te=d[v-N],ie=d[v+0],he=d[v+N],je=d[v+2*N],$e=d[v+3*N];return 4*In[255+te-ie]+In[255+X-he]>U?0:In[255+d[v-4*N]-J]<=z&&In[255+J-X]<=z&&In[255+X-te]<=z&&In[255+$e-je]<=z&&In[255+je-he]<=z&&In[255+he-ie]<=z}function Go(d,v,N,U){var z=2*U+1;for(U=0;16>U;++U)za(d,v+U,N,z)&&qa(d,v+U,N)}function bn(d,v,N,U){var z=2*U+1;for(U=0;16>U;++U)za(d,v+U*N,1,z)&&qa(d,v+U*N,1)}function Vs(d,v,N,U){var z;for(z=3;0<z;--z)Go(d,v+=4*N,N,U)}function al(d,v,N,U){var z;for(z=3;0<z;--z)bn(d,v+=4,N,U)}function Wi(d,v,N,U,z,J,X,te){for(J=2*J+1;0<z--;){if(gr(d,v,N,J,X))if(il(d,v,N,te))qa(d,v,N);else{var ie=d,he=v,je=N,$e=ie[he-2*je],Je=ie[he-je],Me=ie[he+0],pt=ie[he+je],at=ie[he+2*je],ke=27*(dt=mn[1020+3*(Me-Je)+mn[1020+$e-pt]])+63>>7,Oe=18*dt+63>>7,dt=9*dt+63>>7;ie[he-3*je]=Dr[255+ie[he-3*je]+dt],ie[he-2*je]=Dr[255+$e+Oe],ie[he-je]=Dr[255+Je+ke],ie[he+0]=Dr[255+Me-ke],ie[he+je]=Dr[255+pt-Oe],ie[he+2*je]=Dr[255+at-dt]}v+=U}}function bs(d,v,N,U,z,J,X,te){for(J=2*J+1;0<z--;){if(gr(d,v,N,J,X))if(il(d,v,N,te))qa(d,v,N);else{var ie=d,he=v,je=N,$e=ie[he-je],Je=ie[he+0],Me=ie[he+je],pt=ki[112+((at=3*(Je-$e))+4>>3)],at=ki[112+(at+3>>3)],ke=pt+1>>1;ie[he-2*je]=Dr[255+ie[he-2*je]+ke],ie[he-je]=Dr[255+$e+at],ie[he+0]=Dr[255+Je-pt],ie[he+je]=Dr[255+Me-ke]}v+=U}}function $o(d,v,N,U,z,J){Wi(d,v,N,1,16,U,z,J)}function ji(d,v,N,U,z,J){Wi(d,v,1,N,16,U,z,J)}function Jo(d,v,N,U,z,J){var X;for(X=3;0<X;--X)bs(d,v+=4*N,N,1,16,U,z,J)}function fa(d,v,N,U,z,J){var X;for(X=3;0<X;--X)bs(d,v+=4,1,N,16,U,z,J)}function Zo(d,v,N,U,z,J,X,te){Wi(d,v,z,1,8,J,X,te),Wi(N,U,z,1,8,J,X,te)}function NA(d,v,N,U,z,J,X,te){Wi(d,v,1,z,8,J,X,te),Wi(N,U,1,z,8,J,X,te)}function jn(d,v,N,U,z,J,X,te){bs(d,v+4*z,z,1,8,J,X,te),bs(N,U+4*z,z,1,8,J,X,te)}function Xo(d,v,N,U,z,J,X,te){bs(d,v+4,1,z,8,J,X,te),bs(N,U+4,1,z,8,J,X,te)}function pa(){this.ba=new cs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ls(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Va(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _n(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new R}function ma(){this.xb=this.a=0,this.l=new Bi,this.ca=new cs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _n,this.ab=0,this.gc=o(4,Va),this.Oc=0}function Gi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Bi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ga(d,v,N,U,z,J,X){for(d=d==null?0:d[v+0],v=0;v<X;++v)z[J+v]=d+N[U+v]&255,d=z[J+v]}function va(d,v,N,U,z,J,X){var te;if(d==null)ga(null,null,N,U,z,J,X);else for(te=0;te<X;++te)z[J+te]=d[v+te]+N[U+te]&255}function ya(d,v,N,U,z,J,X){if(d==null)ga(null,null,N,U,z,J,X);else{var te,ie=d[v+0],he=ie,je=ie;for(te=0;te<X;++te)he=je+(ie=d[v+te])-he,je=N[U+te]+(-256&he?0>he?0:255:he)&255,he=ie,z[J+te]=je}}function Yo(d,v,N,U){var z=v.width,J=v.o;if(e(d!=null&&v!=null),0>N||0>=U||N+U>J)return null;if(!d.Cc){if(d.ga==null){var X;if(d.ga=new Gi,(X=d.ga==null)||(X=v.width*v.o,e(d.Gb.length==0),d.Gb=i(X),d.Uc=0,d.Gb==null?X=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,X=1),X=!X),!X){X=d.ga;var te=d.Fa,ie=d.P,he=d.qc,je=d.mb,$e=d.nb,Je=ie+1,Me=he-1,pt=X.l;if(e(te!=null&&je!=null&&v!=null),$r[0]=null,$r[1]=ga,$r[2]=va,$r[3]=ya,X.ca=je,X.tb=$e,X.c=v.width,X.i=v.height,e(0<X.c&&0<X.i),1>=he)v=0;else if(X.$a=te[ie+0]>>0&3,X.Z=te[ie+0]>>2&3,X.Lc=te[ie+0]>>4&3,ie=te[ie+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||ie)v=0;else if(pt.put=ws,pt.ac=Jn,pt.bc=Zn,pt.ma=X,pt.width=v.width,pt.height=v.height,pt.Da=v.Da,pt.v=v.v,pt.va=v.va,pt.j=v.j,pt.o=v.o,X.$a)e:{e(X.$a==1),v=Hs();t:for(;;){if(v==null){v=0;break e}if(e(X!=null),X.mc=v,v.c=X.c,v.i=X.i,v.l=X.l,v.l.ma=X,v.l.width=X.c,v.l.height=X.i,v.a=0,H(v.m,te,Je,Me),!Yn(X.c,X.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ki(v.s)?(X.ic=1,te=v.c*v.i,v.Ta=null,v.Ua=0,v.V=i(te),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(X.ic=0,v=Oa(v,X.c)),!v))break t;v=1;break e}X.mc=null,v=0}else v=Me>=X.c*X.i;X=!v}if(X)return null;d.ga.Lc!=1?d.Ga=0:U=J-N}e(d.ga!=null),e(N+U<=J);e:{if(v=(te=d.ga).c,J=te.l.o,te.$a==0){if(Je=d.rc,Me=d.Vc,pt=d.Fa,ie=d.P+1+N*v,he=d.mb,je=d.nb+N*v,e(ie<=d.P+d.qc),te.Z!=0)for(e($r[te.Z]!=null),X=0;X<U;++X)$r[te.Z](Je,Me,pt,ie,he,je,v),Je=he,Me=je,je+=v,ie+=v;else for(X=0;X<U;++X)n(he,je,pt,ie,v),Je=he,Me=je,je+=v,ie+=v;d.rc=Je,d.Vc=Me}else{if(e(te.mc!=null),v=N+U,e((X=te.mc)!=null),e(v<=X.i),X.C>=v)v=1;else if(te.ic||He(),te.ic){te=X.V,Je=X.Ba,Me=X.c;var at=X.i,ke=(pt=1,ie=X.$/Me,he=X.$%Me,je=X.m,$e=X.s,X.$),Oe=Me*at,dt=Me*v,yt=$e.wc,ft=ke<dt?Lt($e,he,ie):null;e(ke<=Oe),e(v<=at),e(Ki($e));t:for(;;){for(;!je.h&&ke<dt;){if(he&yt||(ft=Lt($e,he,ie)),e(ft!=null),fe(je),256>(at=Qr(ft.G[0],ft.H[0],je)))te[Je+ke]=at,++ke,++he>=Me&&(he=0,++ie<=v&&!(ie%16)&&Mn(X,ie));else{if(!(280>at)){pt=0;break t}at=ks(at-256,je);var qt,It=Qr(ft.G[4],ft.H[4],je);if(fe(je),!(ke>=(It=Nr(Me,It=ks(It,je)))&&Oe-ke>=at)){pt=0;break t}for(qt=0;qt<at;++qt)te[Je+ke+qt]=te[Je+ke+qt-It];for(ke+=at,he+=at;he>=Me;)he-=Me,++ie<=v&&!(ie%16)&&Mn(X,ie);ke<dt&&he&yt&&(ft=Lt($e,he,ie))}e(je.h==se(je))}Mn(X,ie>v?v:ie);break t}!pt||je.h&&ke<Oe?(pt=0,X.a=je.h?5:3):X.$=ke,v=pt}else v=Fn(X,X.V,X.Ba,X.c,X.i,v,ni);if(!v){U=0;break e}}N+U>=J&&(d.Cc=1),U=1}if(!U)return null;if(d.Cc&&((U=d.ga)!=null&&(U.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+N*z}function b(d,v,N,U,z,J){for(;0<z--;){var X,te=d,ie=v+(N?1:0),he=d,je=v+(N?0:3);for(X=0;X<U;++X){var $e=he[je+4*X];$e!=255&&($e*=32897,te[ie+4*X+0]=te[ie+4*X+0]*$e>>23,te[ie+4*X+1]=te[ie+4*X+1]*$e>>23,te[ie+4*X+2]=te[ie+4*X+2]*$e>>23)}v+=J}}function q(d,v,N,U,z){for(;0<U--;){var J;for(J=0;J<N;++J){var X=d[v+2*J+0],te=15&(he=d[v+2*J+1]),ie=4369*te,he=(240&he|he>>4)*ie>>16;d[v+2*J+0]=(240&X|X>>4)*ie>>16&240|(15&X|X<<4)*ie>>16>>4&15,d[v+2*J+1]=240&he|te}v+=z}}function de(d,v,N,U,z,J,X,te){var ie,he,je=255;for(he=0;he<z;++he){for(ie=0;ie<U;++ie){var $e=d[v+ie];J[X+4*ie]=$e,je&=$e}v+=N,X+=te}return je!=255}function Ne(d,v,N,U,z){var J;for(J=0;J<z;++J)N[U+J]=d[v+J]>>8}function He(){Nt=b,mt=q,St=de,Vt=Ne}function nt(d,v,N){M[d]=function(U,z,J,X,te,ie,he,je,$e,Je,Me,pt,at,ke,Oe,dt,yt){var ft,qt=yt-1>>1,It=te[ie+0]|he[je+0]<<16,ir=$e[Je+0]|Me[pt+0]<<16;e(U!=null);var Tt=3*It+ir+131074>>2;for(v(U[z+0],255&Tt,Tt>>16,at,ke),J!=null&&(Tt=3*ir+It+131074>>2,v(J[X+0],255&Tt,Tt>>16,Oe,dt)),ft=1;ft<=qt;++ft){var Hr=te[ie+ft]|he[je+ft]<<16,Jr=$e[Je+ft]|Me[pt+ft]<<16,Pr=It+Hr+ir+Jr+524296,kr=Pr+2*(Hr+ir)>>3;Tt=kr+It>>1,It=(Pr=Pr+2*(It+Jr)>>3)+Hr>>1,v(U[z+2*ft-1],255&Tt,Tt>>16,at,ke+(2*ft-1)*N),v(U[z+2*ft-0],255&It,It>>16,at,ke+(2*ft-0)*N),J!=null&&(Tt=Pr+ir>>1,It=kr+Jr>>1,v(J[X+2*ft-1],255&Tt,Tt>>16,Oe,dt+(2*ft-1)*N),v(J[X+2*ft+0],255&It,It>>16,Oe,dt+(2*ft+0)*N)),It=Hr,ir=Jr}1&yt||(Tt=3*It+ir+131074>>2,v(U[z+yt-1],255&Tt,Tt>>16,at,ke+(yt-1)*N),J!=null&&(Tt=3*ir+It+131074>>2,v(J[X+yt-1],255&Tt,Tt>>16,Oe,dt+(yt-1)*N)))}}function vt(){Gs[tA]=f0,Gs[dc]=np,Gs[ed]=p0,Gs[fc]=wu,Gs[pc]=rd,Gs[mu]=sp,Gs[rp]=jS,Gs[gu]=np,Gs[vu]=wu,Gs[yu]=rd,Gs[a]=sp}function Qt(d){return d&-16384?0>d?0:255:d>>US}function Ht(d,v){return Qt((19077*d>>8)+(26149*v>>8)-14234)}function lr(d,v,N){return Qt((19077*d>>8)-(6419*v>>8)-(13320*N>>8)+8708)}function sr(d,v){return Qt((19077*d>>8)+(33050*v>>8)-17685)}function Cr(d,v,N,U,z){U[z+0]=Ht(d,N),U[z+1]=lr(d,v,N),U[z+2]=sr(d,v)}function Mr(d,v,N,U,z){U[z+0]=sr(d,v),U[z+1]=lr(d,v,N),U[z+2]=Ht(d,N)}function zr(d,v,N,U,z){var J=lr(d,v,N);v=J<<3&224|sr(d,v)>>3,U[z+0]=248&Ht(d,N)|J>>5,U[z+1]=v}function Bn(d,v,N,U,z){var J=240&sr(d,v)|15;U[z+0]=240&Ht(d,N)|lr(d,v,N)>>4,U[z+1]=J}function ts(d,v,N,U,z){U[z+0]=255,Cr(d,v,N,U,z+1)}function Un(d,v,N,U,z){Mr(d,v,N,U,z),U[z+3]=255}function ai(d,v,N,U,z){Cr(d,v,N,U,z),U[z+3]=255}function rn(d,v){return 0>d?0:d>v?v:d}function _s(d,v,N){M[d]=function(U,z,J,X,te,ie,he,je,$e){for(var Je=je+(-2&$e)*N;je!=Je;)v(U[z+0],J[X+0],te[ie+0],he,je),v(U[z+1],J[X+0],te[ie+0],he,je+N),z+=2,++X,++ie,je+=2*N;1&$e&&v(U[z+0],J[X+0],te[ie+0],he,je)}}function SA(d,v,N){return N==0?d==0?v==0?6:5:v==0?4:0:N}function Bs(d,v,N,U,z){switch(d>>>30){case 3:Ce(v,N,U,z,0);break;case 2:be(v,N,U,z);break;case 1:ye(v,N,U,z)}}function eA(d,v){var N,U,z=v.M,J=v.Nb,X=d.oc,te=d.pc+40,ie=d.oc,he=d.pc+584,je=d.oc,$e=d.pc+600;for(N=0;16>N;++N)X[te+32*N-1]=129;for(N=0;8>N;++N)ie[he+32*N-1]=129,je[$e+32*N-1]=129;for(0<z?X[te-1-32]=ie[he-1-32]=je[$e-1-32]=129:(s(X,te-32-1,127,21),s(ie,he-32-1,127,9),s(je,$e-32-1,127,9)),U=0;U<d.za;++U){var Je=v.ya[v.aa+U];if(0<U){for(N=-1;16>N;++N)n(X,te+32*N-4,X,te+32*N+12,4);for(N=-1;8>N;++N)n(ie,he+32*N-4,ie,he+32*N+4,4),n(je,$e+32*N-4,je,$e+32*N+4,4)}var Me=d.Gd,pt=d.Hd+U,at=Je.ad,ke=Je.Hc;if(0<z&&(n(X,te-32,Me[pt].y,0,16),n(ie,he-32,Me[pt].f,0,8),n(je,$e-32,Me[pt].ea,0,8)),Je.Za){var Oe=X,dt=te-32+16;for(0<z&&(U>=d.za-1?s(Oe,dt,Me[pt].y[15],4):n(Oe,dt,Me[pt+1].y,0,4)),N=0;4>N;N++)Oe[dt+128+N]=Oe[dt+256+N]=Oe[dt+384+N]=Oe[dt+0+N];for(N=0;16>N;++N,ke<<=2)Oe=X,dt=te+Bx[N],xa[Je.Ob[N]](Oe,dt),Bs(ke,at,16*+N,Oe,dt)}else if(Oe=SA(U,z,Je.Ob[0]),rA[Oe](X,te),ke!=0)for(N=0;16>N;++N,ke<<=2)Bs(ke,at,16*+N,X,te+Bx[N]);for(N=Je.Gc,Oe=SA(U,z,Je.Dd),Ga[Oe](ie,he),Ga[Oe](je,$e),ke=at,Oe=ie,dt=he,255&(Je=N>>0)&&(170&Je?Re(ke,256,Oe,dt):De(ke,256,Oe,dt)),Je=je,ke=$e,255&(N>>=8)&&(170&N?Re(at,320,Je,ke):De(at,320,Je,ke)),z<d.Ub-1&&(n(Me[pt].y,0,X,te+480,16),n(Me[pt].f,0,ie,he+224,8),n(Me[pt].ea,0,je,$e+224,8)),N=8*J*d.B,Me=d.sa,pt=d.ta+16*U+16*J*d.R,at=d.qa,Je=d.ra+8*U+N,ke=d.Ha,Oe=d.Ia+8*U+N,N=0;16>N;++N)n(Me,pt+N*d.R,X,te+32*N,16);for(N=0;8>N;++N)n(at,Je+N*d.B,ie,he+32*N,8),n(ke,Oe+N*d.B,je,$e+32*N,8)}}function oi(d,v,N,U,z,J,X,te,ie){var he=[0],je=[0],$e=0,Je=ie!=null?ie.kd:0,Me=ie??new Ls;if(d==null||12>N)return 7;Me.data=d,Me.w=v,Me.ha=N,v=[v],N=[N],Me.gb=[Me.gb];e:{var pt=v,at=N,ke=Me.gb;if(e(d!=null),e(at!=null),e(ke!=null),ke[0]=0,12<=at[0]&&!r(d,pt[0],"RIFF")){if(r(d,pt[0]+8,"WEBP")){ke=3;break e}var Oe=Ye(d,pt[0]+4);if(12>Oe||4294967286<Oe){ke=3;break e}if(Je&&Oe>at[0]-8){ke=7;break e}ke[0]=Oe,pt[0]+=12,at[0]-=12}ke=0}if(ke!=0)return ke;for(Oe=0<Me.gb[0],N=N[0];;){e:{var dt=d;at=v,ke=N;var yt=he,ft=je,qt=pt=[0];if((Tt=$e=[$e])[0]=0,8>ke[0])ke=7;else{if(!r(dt,at[0],"VP8X")){if(Ye(dt,at[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var It=Ye(dt,at[0]+8),ir=1+we(dt,at[0]+12);if(2147483648<=ir*(dt=1+we(dt,at[0]+15))){ke=3;break e}qt!=null&&(qt[0]=It),yt!=null&&(yt[0]=ir),ft!=null&&(ft[0]=dt),at[0]+=18,ke[0]-=18,Tt[0]=1}ke=0}}if($e=$e[0],pt=pt[0],ke!=0)return ke;if(at=!!(2&pt),!Oe&&$e)return 3;if(J!=null&&(J[0]=!!(16&pt)),X!=null&&(X[0]=at),te!=null&&(te[0]=0),X=he[0],pt=je[0],$e&&at&&ie==null){ke=0;break}if(4>N){ke=7;break}if(Oe&&$e||!Oe&&!$e&&!r(d,v[0],"ALPH")){N=[N],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{It=d,ke=v,Oe=N;var Tt=Me.gb;yt=Me.na,ft=Me.P,qt=Me.Sa,ir=22,e(It!=null),e(Oe!=null),dt=ke[0];var Hr=Oe[0];for(e(yt!=null),e(qt!=null),yt[0]=null,ft[0]=null,qt[0]=0;;){if(ke[0]=dt,Oe[0]=Hr,8>Hr){ke=7;break e}var Jr=Ye(It,dt+4);if(4294967286<Jr){ke=3;break e}var Pr=8+Jr+1&-2;if(ir+=Pr,0<Tt&&ir>Tt){ke=3;break e}if(!r(It,dt,"VP8 ")||!r(It,dt,"VP8L")){ke=0;break e}if(Hr[0]<Pr){ke=7;break e}r(It,dt,"ALPH")||(yt[0]=It,ft[0]=dt+8,qt[0]=Jr),dt+=Pr,Hr-=Pr}}if(N=N[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],ke!=0)break}N=[N],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(Tt=d,ke=v,Oe=N,yt=Me.gb[0],ft=Me.Ja,qt=Me.xa,It=ke[0],dt=!r(Tt,It,"VP8 "),ir=!r(Tt,It,"VP8L"),e(Tt!=null),e(Oe!=null),e(ft!=null),e(qt!=null),8>Oe[0])ke=7;else{if(dt||ir){if(Tt=Ye(Tt,It+4),12<=yt&&Tt>yt-12){ke=3;break e}if(Je&&Tt>Oe[0]-8){ke=7;break e}ft[0]=Tt,ke[0]+=8,Oe[0]-=8,qt[0]=ir}else qt[0]=5<=Oe[0]&&Tt[It+0]==47&&!(Tt[It+4]>>5),ft[0]=Oe[0];ke=0}if(N=N[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],v=v[0],ke!=0)break;if(4294967286<Me.Ja)return 3;if(te==null||at||(te[0]=Me.xa?2:1),X=[X],pt=[pt],Me.xa){if(5>N){ke=7;break}te=X,Je=pt,at=J,d==null||5>N?d=0:5<=N&&d[v+0]==47&&!(d[v+4]>>5)?(Oe=[0],Tt=[0],yt=[0],H(ft=new P,d,v,N),Yt(ft,Oe,Tt,yt)?(te!=null&&(te[0]=Oe[0]),Je!=null&&(Je[0]=Tt[0]),at!=null&&(at[0]=yt[0]),d=1):d=0):d=0}else{if(10>N){ke=7;break}te=pt,d==null||10>N||!Ra(d,v+3,N-3)?d=0:(Je=d[v+0]|d[v+1]<<8|d[v+2]<<16,at=16383&(d[v+7]<<8|d[v+6]),d=16383&(d[v+9]<<8|d[v+8]),1&Je||3<(Je>>1&7)||!(Je>>4&1)||Je>>5>=Me.Ja||!at||!d?d=0:(X&&(X[0]=at),te&&(te[0]=d),d=1))}if(!d||(X=X[0],pt=pt[0],$e&&(he[0]!=X||je[0]!=pt)))return 3;ie!=null&&(ie[0]=Me,ie.offset=v-ie.w,e(4294967286>v-ie.w),e(ie.offset==ie.ha-N));break}return ke==0||ke==7&&$e&&ie==null?(J!=null&&(J[0]|=Me.na!=null&&0<Me.na.length),U!=null&&(U[0]=X),z!=null&&(z[0]=pt),0):ke}function EA(d,v,N){var U=v.width,z=v.height,J=0,X=0,te=U,ie=z;if(v.Da=d!=null&&0<d.Da,v.Da&&(te=d.cd,ie=d.bd,J=d.v,X=d.j,11>N||(J&=-2,X&=-2),0>J||0>X||0>=te||0>=ie||J+te>U||X+ie>z))return 0;if(v.v=J,v.j=X,v.va=J+te,v.o=X+ie,v.U=te,v.T=ie,v.da=d!=null&&0<d.da,v.da){if(!it(te,ie,N=[d.ib],J=[d.hb]))return 0;v.ib=N[0],v.hb=J[0]}return v.ob=d!=null&&d.ob,v.Kb=d==null||!d.Sd,v.da&&(v.ob=v.ib<3*U/4&&v.hb<3*z/4,v.Kb=0),1}function wa(d){if(d==null)return 2;if(11>d.S){var v=d.f.RGBA;v.fb+=(d.height-1)*v.A,v.A=-v.A}else v=d.f.kb,d=d.height,v.O+=(d-1)*v.fa,v.fa=-v.fa,v.N+=(d-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(d-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(d-1)*v.lb,v.lb=-v.lb);return 0}function xo(d,v,N,U){if(U==null||0>=d||0>=v)return 2;if(N!=null){if(N.Da){var z=N.cd,J=N.bd,X=-2&N.v,te=-2&N.j;if(0>X||0>te||0>=z||0>=J||X+z>d||te+J>v)return 2;d=z,v=J}if(N.da){if(!it(d,v,z=[N.ib],J=[N.hb]))return 2;d=z[0],v=J[0]}}U.width=d,U.height=v;e:{var ie=U.width,he=U.height;if(d=U.S,0>=ie||0>=he||!(d>=tA&&13>d))d=2;else{if(0>=U.Rd&&U.sd==null){X=J=z=v=0;var je=(te=ie*Cx[d])*he;if(11>d||(J=(he+1)/2*(v=(ie+1)/2),d==12&&(X=(z=ie)*he)),(he=i(je+2*J+X))==null){d=1;break e}U.sd=he,11>d?((ie=U.f.RGBA).eb=he,ie.fb=0,ie.A=te,ie.size=je):((ie=U.f.kb).y=he,ie.O=0,ie.fa=te,ie.Fd=je,ie.f=he,ie.N=0+je,ie.Ab=v,ie.Cd=J,ie.ea=he,ie.W=0+je+J,ie.Db=v,ie.Ed=J,d==12&&(ie.F=he,ie.J=0+je+2*J),ie.Tc=X,ie.lb=z)}if(v=1,z=U.S,J=U.width,X=U.height,z>=tA&&13>z)if(11>z)d=U.f.RGBA,v&=(te=Math.abs(d.A))*(X-1)+J<=d.size,v&=te>=J*Cx[z],v&=d.eb!=null;else{d=U.f.kb,te=(J+1)/2,je=(X+1)/2,ie=Math.abs(d.fa),he=Math.abs(d.Ab);var $e=Math.abs(d.Db),Je=Math.abs(d.lb),Me=Je*(X-1)+J;v&=ie*(X-1)+J<=d.Fd,v&=he*(je-1)+te<=d.Cd,v=(v&=$e*(je-1)+te<=d.Ed)&ie>=J&he>=te&$e>=te,v&=d.y!=null,v&=d.f!=null,v&=d.ea!=null,z==12&&(v&=Je>=J,v&=Me<=d.Tc,v&=d.F!=null)}else v=0;d=v?0:2}}return d!=0||N!=null&&N.fd&&(d=wa(U)),d}var on=64,Qs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Er=24,Ai=32,us=8,hs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(d){return d},M.Predictor2=function(d,v,N){return v[N+0]},M.Predictor3=function(d,v,N){return v[N+1]},M.Predictor4=function(d,v,N){return v[N-1]},M.Predictor5=function(d,v,N){return Ee(Ee(d,v[N+1]),v[N+0])},M.Predictor6=function(d,v,N){return Ee(d,v[N-1])},M.Predictor7=function(d,v,N){return Ee(d,v[N+0])},M.Predictor8=function(d,v,N){return Ee(v[N-1],v[N+0])},M.Predictor9=function(d,v,N){return Ee(v[N+0],v[N+1])},M.Predictor10=function(d,v,N){return Ee(Ee(d,v[N-1]),Ee(v[N+0],v[N+1]))},M.Predictor11=function(d,v,N){var U=v[N+0];return 0>=rt(U>>24&255,d>>24&255,(v=v[N-1])>>24&255)+rt(U>>16&255,d>>16&255,v>>16&255)+rt(U>>8&255,d>>8&255,v>>8&255)+rt(255&U,255&d,255&v)?U:d},M.Predictor12=function(d,v,N){var U=v[N+0];return(Ie((d>>24&255)+(U>>24&255)-((v=v[N-1])>>24&255))<<24|Ie((d>>16&255)+(U>>16&255)-(v>>16&255))<<16|Ie((d>>8&255)+(U>>8&255)-(v>>8&255))<<8|Ie((255&d)+(255&U)-(255&v)))>>>0},M.Predictor13=function(d,v,N){var U=v[N-1];return(We((d=Ee(d,v[N+0]))>>24&255,U>>24&255)<<24|We(d>>16&255,U>>16&255)<<16|We(d>>8&255,U>>8&255)<<8|We(d>>0&255,U>>0&255))>>>0};var FA=M.PredictorAdd0;M.PredictorAdd1=lt,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var Is=M.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var $i,kn=M.ColorIndexInverseTransform,Ui=M.MapARGB,Ln=M.VP8LColorIndexInverseTransformAlpha,Wa=M.MapAlpha,f=M.VP8LPredictorsAdd=[];f.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var x,E,k,O,W,Ae,ge,Ce,be,Re,ye,De,Fe,Le,Qe,Pe,qe,Ge,st,ct,Ct,jt,bt,Bt,Nt,mt,St,Vt,Kt=i(511),or=i(2041),qn=i(225),er=i(767),Qn=0,mn=or,ki=qn,Dr=er,In=Kt,tA=0,dc=1,ed=2,fc=3,pc=4,mu=5,rp=6,gu=7,vu=8,yu=9,a=10,u=[2,3,7],m=[3,3,11],C=[280,256,256,256,40],I=[0,1,1,1,0],Y=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ve=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tt=8,gt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ot=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nr=null,_r=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ws=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rs=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ji=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],li=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ol=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],h0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],rA=[],xa=[],Ga=[],d0=1,td=2,$r=[],Gs=[];nt("UpsampleRgbLinePair",Cr,3),nt("UpsampleBgrLinePair",Mr,3),nt("UpsampleRgbaLinePair",ai,4),nt("UpsampleBgraLinePair",Un,4),nt("UpsampleArgbLinePair",ts,4),nt("UpsampleRgba4444LinePair",Bn,2),nt("UpsampleRgb565LinePair",zr,2);var f0=M.UpsampleRgbLinePair,p0=M.UpsampleBgrLinePair,np=M.UpsampleRgbaLinePair,wu=M.UpsampleBgraLinePair,rd=M.UpsampleArgbLinePair,sp=M.UpsampleRgba4444LinePair,jS=M.UpsampleRgb565LinePair,ip=16,ap=1<<ip-1,nd=-227,m0=482,US=6,_x=0,kS=i(256),LS=i(256),QS=i(256),IS=i(256),PS=i(m0-nd),TS=i(m0-nd);_s("YuvToRgbRow",Cr,3),_s("YuvToBgrRow",Mr,3),_s("YuvToRgbaRow",ai,4),_s("YuvToBgraRow",Un,4),_s("YuvToArgbRow",ts,4),_s("YuvToRgba4444Row",Bn,2),_s("YuvToRgb565Row",zr,2);var Bx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],op=[0,2,8],OS=[8,7,6,4,4,2,2,2,1,1,1,1],RS=1;this.WebPDecodeRGBA=function(d,v,N,U,z){var J=dc,X=new pa,te=new cs;X.ba=te,te.S=J,te.width=[te.width],te.height=[te.height];var ie=te.width,he=te.height,je=new xi;if(je==null||d==null)var $e=2;else e(je!=null),$e=oi(d,v,N,je.width,je.height,je.Pd,je.Qd,je.format,null);if($e!=0?ie=0:(ie!=null&&(ie[0]=je.width[0]),he!=null&&(he[0]=je.height[0]),ie=1),ie){te.width=te.width[0],te.height=te.height[0],U!=null&&(U[0]=te.width),z!=null&&(z[0]=te.height);e:{if(U=new Bi,(z=new Ls).data=d,z.w=v,z.ha=N,z.kd=1,v=[0],e(z!=null),((d=oi(z.data,z.w,z.ha,null,null,null,v,null,z))==0||d==7)&&v[0]&&(d=4),(v=d)==0){if(e(X!=null),U.data=z.data,U.w=z.w+z.offset,U.ha=z.ha-z.offset,U.put=ws,U.ac=Jn,U.bc=Zn,U.ma=X,z.xa){if((d=Hs())==null){X=1;break e}if(function(Je,Me){var pt=[0],at=[0],ke=[0];t:for(;;){if(Je==null)return 0;if(Me==null)return Je.a=2,0;if(Je.l=Me,Je.a=0,H(Je.m,Me.data,Me.w,Me.ha),!Yt(Je.m,pt,at,ke)){Je.a=3;break t}if(Je.xb=td,Me.width=pt[0],Me.height=at[0],!Yn(pt[0],at[0],1,Je,null))break t;return 1}return e(Je.a!=0),0}(d,U)){if(U=(v=xo(U.width,U.height,X.Oa,X.ba))==0){t:{U=d;r:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((N=U.l)!=null),e((z=N.ma)!=null),U.xb!=0){if(U.ca=z.ba,U.tb=z.tb,e(U.ca!=null),!EA(z.Oa,N,fc)){U.a=2;break r}if(!Oa(U,N.width)||N.da)break r;if((N.da||rr(U.ca.S))&&He(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&He()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!et(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!Fn(U,U.V,U.Ba,U.c,U.i,N.o,Hi))break r;z.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(v=d.a)}else v=d.a}else{if((d=new Dt)==null){X=1;break e}if(d.Fa=z.na,d.P=z.P,d.qc=z.Sa,si(d,U)){if((v=xo(U.width,U.height,X.Oa,X.ba))==0){if(d.Aa=0,N=X.Oa,e((z=d)!=null),N!=null){if(0<(ie=0>(ie=N.Md)?0:100<ie?255:255*ie/100)){for(he=je=0;4>he;++he)12>($e=z.pb[he]).lc&&($e.ia=ie*OS[0>$e.lc?0:$e.lc]>>3),je|=$e.ia;je&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=N.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}mr(d,U)||(v=d.a)}}else v=d.a}v==0&&X.Oa!=null&&X.Oa.fd&&(v=wa(X.ba))}X=v}J=X!=0?null:11>J?te.f.RGBA.eb:te.f.kb.y}else J=null;return J};var Cx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(M,Z){for(var oe="",D=0;D<4;D++)oe+=String.fromCharCode(M[Z++]);return oe}function p(M,Z){return(M[Z+0]<<0|M[Z+1]<<8|M[Z+2]<<16)>>>0}function g(M,Z){return(M[Z+0]<<0|M[Z+1]<<8|M[Z+2]<<16|M[Z+3]<<24)>>>0}new c;var w=[0],y=[0],F=[],S=new c,Q=t,_=function(M,Z){var oe={},D=0,R=!1,re=0,ae=0;if(oe.frames=[],!function($,se,ce,fe){for(var Te=0;Te<fe;Te++)if($[se+Te]!=ce.charCodeAt(Te))return!0;return!1}(M,Z,"RIFF",4)){var Se,ve;for(g(M,Z+=4),Z+=8;Z<M.length;){var Ue=h(M,Z),H=g(M,Z+=4);Z+=4;var ue=H+(1&H);switch(Ue){case"VP8 ":case"VP8L":oe.frames[D]===void 0&&(oe.frames[D]={}),(P=oe.frames[D]).src_off=R?ae:Z-8,P.src_size=re+H+8,D++,R&&(R=!1,re=0,ae=0);break;case"VP8X":(P=oe.header={}).feature_flags=M[Z];var ee=Z+4;P.canvas_width=1+p(M,ee),ee+=3,P.canvas_height=1+p(M,ee),ee+=3;break;case"ALPH":R=!0,re=ue+8,ae=Z-8;break;case"ANIM":(P=oe.header).bgcolor=g(M,Z),ee=Z+4,P.loop_count=(Se=M)[(ve=ee)+0]<<0|Se[ve+1]<<8,ee+=2;break;case"ANMF":var me,P;(P=oe.frames[D]={}).offset_x=2*p(M,Z),Z+=3,P.offset_y=2*p(M,Z),Z+=3,P.width=1+p(M,Z),Z+=3,P.height=1+p(M,Z),Z+=3,P.duration=p(M,Z),Z+=3,me=M[Z++],P.dispose=1&me,P.blend=me>>1&1}Ue!="ANMF"&&(Z+=ue)}return oe}}(Q,0);_.response=Q,_.rgbaoutput=!0,_.dataurl=!1;var B=_.header?_.header:null,j=_.frames?_.frames:null;if(B){B.loop_counter=B.loop_count,w=[B.canvas_height],y=[B.canvas_width];for(var T=0;T<j.length&&j[T].blend!=0;T++);}var V=j[0],K=S.WebPDecodeRGBA(Q,V.src_off,V.src_size,y,w);V.rgba=K,V.imgwidth=y[0],V.imgheight=w[0];for(var G=0;G<y[0]*w[0]*4;G++)F[G]=K[G];return this.width=y,this.height=w,this.data=F,this}(function(t){var e=function(){return typeof zw=="function"},r=function(w,y,F,S){var Q=4,_=o;switch(S){case t.image_compression.FAST:Q=1,_=i;break;case t.image_compression.MEDIUM:Q=6,_=l;break;case t.image_compression.SLOW:Q=9,_=c}w=n(w,y,F,_);var B=zw(w,{level:Q});return t.__addimage__.arrayBufferToBinaryString(B)},n=function(w,y,F,S){for(var Q,_,B,j=w.length/y,T=new Uint8Array(w.length+j),V=p(),K=0;K<j;K+=1){if(B=K*y,Q=w.subarray(B,B+y),S)T.set(S(Q,F,_),B+K);else{for(var G,M=V.length,Z=[];G<M;G+=1)Z[G]=V[G](Q,F,_);var oe=g(Z.concat());T.set(Z[oe],B+K)}_=Q}return T},s=function(w){var y=Array.apply([],w);return y.unshift(0),y},i=function(w,y){var F,S=[],Q=w.length;S[0]=1;for(var _=0;_<Q;_+=1)F=w[_-y]||0,S[_+1]=w[_]-F+256&255;return S},o=function(w,y,F){var S,Q=[],_=w.length;Q[0]=2;for(var B=0;B<_;B+=1)S=F&&F[B]||0,Q[B+1]=w[B]-S+256&255;return Q},l=function(w,y,F){var S,Q,_=[],B=w.length;_[0]=3;for(var j=0;j<B;j+=1)S=w[j-y]||0,Q=F&&F[j]||0,_[j+1]=w[j]+256-(S+Q>>>1)&255;return _},c=function(w,y,F){var S,Q,_,B,j=[],T=w.length;j[0]=4;for(var V=0;V<T;V+=1)S=w[V-y]||0,Q=F&&F[V]||0,_=F&&F[V-y]||0,B=h(S,Q,_),j[V+1]=w[V]-B+256&255;return j},h=function(w,y,F){if(w===y&&y===F)return w;var S=Math.abs(y-F),Q=Math.abs(w-F),_=Math.abs(w+y-F-F);return S<=Q&&S<=_?w:Q<=_?y:F},p=function(){return[s,i,o,l,c]},g=function(w){var y=w.map(function(F){return F.reduce(function(S,Q){return S+Math.abs(Q)},0)});return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(w,y,F,S){var Q,_,B,j,T,V,K,G,M,Z,oe,D,R,re,ae,Se=this.decode.FLATE_DECODE,ve="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(B=new q8(w)).imgData,_=B.bits,Q=B.colorSpace,T=B.colors,[4,6].indexOf(B.colorType)!==-1){if(B.bits===8){M=(G=B.pixelBitlength==32?new Uint32Array(B.decodePixels().buffer):B.pixelBitlength==16?new Uint16Array(B.decodePixels().buffer):new Uint8Array(B.decodePixels().buffer)).length,oe=new Uint8Array(M*B.colors),Z=new Uint8Array(M);var Ue,H=B.pixelBitlength-B.bits;for(re=0,ae=0;re<M;re++){for(R=G[re],Ue=0;Ue<H;)oe[ae++]=R>>>Ue&255,Ue+=B.bits;Z[re]=R>>>Ue&255}}if(B.bits===16){M=(G=new Uint32Array(B.decodePixels().buffer)).length,oe=new Uint8Array(M*(32/B.pixelBitlength)*B.colors),Z=new Uint8Array(M*(32/B.pixelBitlength)),D=B.colors>1,re=0,ae=0;for(var ue=0;re<M;)R=G[re++],oe[ae++]=R>>>0&255,D&&(oe[ae++]=R>>>16&255,R=G[re++],oe[ae++]=R>>>0&255),Z[ue++]=R>>>16&255;_=8}S!==t.image_compression.NONE&&e()?(w=r(oe,B.width*B.colors,B.colors,S),K=r(Z,B.width,1,S)):(w=oe,K=Z,Se=void 0)}if(B.colorType===3&&(Q=this.color_spaces.INDEXED,V=B.palette,B.transparency.indexed)){var ee=B.transparency.indexed,me=0;for(re=0,M=ee.length;re<M;++re)me+=ee[re];if((me/=255)===M-1&&ee.indexOf(0)!==-1)j=[ee.indexOf(0)];else if(me!==M){for(G=B.decodePixels(),Z=new Uint8Array(G.length),re=0,M=G.length;re<M;re++)Z[re]=ee[G[re]];K=r(Z,B.width,1)}}var P=function($){var se;switch($){case t.image_compression.FAST:se=11;break;case t.image_compression.MEDIUM:se=13;break;case t.image_compression.SLOW:se=14;break;default:se=12}return se}(S);return Se===this.decode.FLATE_DECODE&&(ve="/Predictor "+P+" "),ve+="/Colors "+T+" /BitsPerComponent "+_+" /Columns "+B.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(K&&this.__addimage__.isArrayBuffer(K)||this.__addimage__.isArrayBufferView(K))&&(K=this.__addimage__.arrayBufferToBinaryString(K)),{alias:F,data:w,index:y,filter:Se,decodeParameters:ve,transparency:j,palette:V,sMask:K,predictor:P,width:B.width,height:B.height,bitsPerComponent:_,colorSpace:Q}}}})(ar.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new z8(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:o,height:l},p=new Hv(100).encode(h,100);return t.processJPEG.call(this,p,r,n,s)},t.processGIF87A=t.processGIF89A}(ar.API),Co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Co.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ln.log("bit decode error:"+r)}},Co.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Co.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=i>>4,c=15&i,h=this.palette[l];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*s+1>=this.width)break;h=this.palette[c],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Co.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Co.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,h=i>>15?255:0,p=n*this.width*4+4*s;this.data[p]=c,this.data[p+1]=l,this.data[p+2]=o,this.data[p+3]=h}this.pos+=t}},Co.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,h=(o>>11)/e*255|0,p=s*this.width*4+4*i;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=255}this.pos+=t}},Co.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Co.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},Co.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new Co(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},h=new Hv(100).encode(c,100);return t.processJPEG.call(this,h,r,n,s)}}(ar.API),xB.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new xB(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},h=new Hv(100).encode(c,100);return t.processJPEG.call(this,h,r,n,s)}}(ar.API),ar.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,h=0;h<s;h+=4){var p=n[h],g=n[h+1],w=n[h+2],y=n[h+3];i[l++]=p,i[l++]=g,i[l++]=w,o[c++]=y}var F=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:F,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ar.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mu=ar.API,fm=Mu.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,h=e.kerning?e.kerning:s.metadata.Unicode.kerning,p=h.fof?h.fof:1,g=e.doKerning!==!1,w=0,y=t.length,F=0,S=l[0]||c,Q=[];for(r=0;r<y;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?Q.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(w=g&&Yr(h[n])==="object"&&!isNaN(parseInt(h[n][F],10))?h[n][F]/p:0,Q.push((l[n]||S)/c+w)),F=n;return Q},gB=Mu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Mu.processArabic&&(t=Mu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:fm.apply(this,arguments).reduce(function(i,o){return i+o},0)},vB=function(t,e,r,n){for(var s=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;s.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(s.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&s.push(t.slice(c,i)),s},yB=function(t,e,r){r||(r={});var n,s,i,o,l,c,h,p=[],g=[p],w=r.textIndent||0,y=0,F=0,S=t.split(" "),Q=fm.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var _=Array(c).join(" "),B=[];S.map(function(T){(T=T.split(/\s*\n/)).length>1?B=B.concat(T.map(function(V,K){return(K&&V.length?`
`:"")+V})):B.push(T[0])}),S=B,c=gB.apply(this,[_,r])}for(i=0,o=S.length;i<o;i++){var j=0;if(n=S[i],c&&n[0]==`
`&&(n=n.substr(1),j=1),w+y+(F=(s=fm.apply(this,[n,r])).reduce(function(T,V){return T+V},0))>e||j){if(F>e){for(l=vB.apply(this,[n,s,e-(w+y),e]),p.push(l.shift()),p=[l.pop()];l.length;)g.push([l.shift()]);F=s.slice(n.length-(p[0]?p[0].length:0)).reduce(function(T,V){return T+V},0)}else p=[n];g.push(p),w=F+c,y=Q}else p.push(n),w+=y+F,y=Q}return h=c?function(T,V){return(V?_:"")+T.join(" ")}:function(T){return T.join(" ")},g.map(h)},Mu.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,h=[];for(l=0,c=n.length;l<c;l++)h=h.concat(yB.apply(this,[n[l],o,i]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var w,y,F,S,Q=["{"];for(var _ in g){if(w=g[_],isNaN(parseInt(_,10))?y="'"+_+"'":(_=parseInt(_,10),y=(y=i(_).slice(2)).slice(0,-1)+n[y.slice(-1)]),typeof w=="number")w<0?(F=i(w).slice(3),S="-"):(F=i(w).slice(2),S=""),F=S+F.slice(0,-1)+n[F.slice(-1)];else{if(Yr(w)!=="object")throw new Error("Don't know what to do with value type "+Yr(w)+".");F=o(w)}Q.push(y+F)}return Q.push("}"),Q.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,y,F,S,Q={},_=1,B=Q,j=[],T="",V="",K=g.length-1,G=1;G<K;G+=1)(S=g[G])=="'"?w?(F=w.join(""),w=void 0):w=[]:w?w.push(S):S=="{"?(j.push([B,F]),B={},F=void 0):S=="}"?((y=j.pop())[0][y[1]]=B,F=void 0,B=y[0]):S=="-"?_=-1:F===void 0?r.hasOwnProperty(S)?(T+=r[S],F=parseInt(T,16)*_,_=1,T=""):T+=S:r.hasOwnProperty(S)?(V+=r[S],B[F]=parseInt(V,16)*_,_=1,F=void 0,V=""):V+=S;return Q},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var w=g.font,y=p.Unicode[w.postScriptName];y&&(w.metadata.Unicode={},w.metadata.Unicode.widths=y.widths,w.metadata.Unicode.kerning=y.kerning);var F=h.Unicode[w.postScriptName];F&&(w.metadata.Unicode.encoding=F,w.encoding=F.codePages[0])}])}(ar.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(rf(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(ar),function(t){function e(){return(dr.canvg?Promise.resolve(dr.canvg):Mo(()=>import("./index.es-BChOwKXT.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ar.API.addSvgAsImage=function(r,n,s,i,o,l,c,h){if(isNaN(n)||isNaN(s))throw ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=i,p.height=o;var g=p.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,p.width,p.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then(function(F){return F.fromString(g,r,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(F){return F.render(w)}).then(function(){y.addImage(p.toDataURL("image/jpeg",1),n,s,i,o,c,h)})}}(),ar.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},ar.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],h=0,p=0,g=0;function w(F,S){var Q,_=!1;for(Q=0;Q<F.length;Q+=1)F[Q]===S&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=l.length;for(g=0;g<y;g+=1)r[l[g]].value=r[l[g]].defaultValue,r[l[g]].explicitSet=!1}if(Yr(t)==="object"){for(s in t)if(i=t[s],w(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&w(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(h=0;h<i.length;h+=1)if(n=!0,i[h].length===1&&typeof i[h][0]=="number")c.push(String(i[h]-1));else if(i[h].length>1){for(p=0;p<i[h].length;p+=1)typeof i[h][p]!="number"&&(n=!1);n===!0&&c.push([i[h][0]-1,i[h][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var F,S=[];for(F in r)r[F].explicitSet===!0&&(r[F].type==="name"?S.push("/"+F+" /"+r[F].value):S.push("/"+F+" "+r[F].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(ar.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],g=0,w=i.length;g<w;++g){if(l=o.metadata.characterToGlyph(i.charCodeAt(g)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(g),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(h[4-l.length],l)}return p.join("")},n=function(i){var o,l,c,h,p,g,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,w=(l=Object.keys(i).sort(function(y,F){return y-F})).length;g<w;g++)o=l[g],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(h=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+h+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,h=o.newObject,p=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,w=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),y="",F=0;F<w.length;F++)y+=String.fromCharCode(w[F]);var S=h();p({data:y,addLength1:!0,objectId:S}),c("endobj");var Q=h();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:Q}),c("endobj");var _=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Gu(l.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var B=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Gu(l.fontName)),c("/FontDescriptor "+_+" 0 R"),c("/W "+t.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+Q+" 0 R"),c("/BaseFont /"+Gu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+B+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,h=o.newObject,p=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,w="",y=0;y<g.length;y++)w+=String.fromCharCode(g[y]);var F=h();p({data:w,addLength1:!0,objectId:F}),c("endobj");var S=h();p({data:n(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var Q=h();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+F+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Gu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=h();for(var _=0;_<l.metadata.hmtx.widths.length;_++)l.metadata.hmtx.widths[_]=parseInt(l.metadata.hmtx.widths[_]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Gu(l.fontName)+"/FontDescriptor "+Q+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,h=i.y,p=i.options||{},g=i.mutex||{},w=g.pdfEscape,y=g.activeFontKey,F=g.fonts,S=y,Q="",_=0,B="",j=F[S].encoding;if(F[S].encoding!=="Identity-H")return{text:l,x:c,y:h,options:p,mutex:g};for(B=l,S=y,Array.isArray(l)&&(B=l[0]),_=0;_<B.length;_+=1)F[S].metadata.hasOwnProperty("cmap")&&(o=F[S].metadata.cmap.unicode.codeMap[B[_].charCodeAt(0)]),o||B[_].charCodeAt(0)<256&&F[S].metadata.hasOwnProperty("Unicode")?Q+=B[_]:Q+="";var T="";return parseInt(S.slice(1))<14||j==="WinAnsiEncoding"?T=w(Q,S).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(T=r(Q,F[S])),g.isHex=!0,{text:T,x:c,y:h,options:p,mutex:g}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?l.push([s(Object.assign({},c,{text:o[h][0]})).text,o[h][1],o[h][2]]):l.push(s(Object.assign({},c,{text:o[h]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])}(ar),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ar.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,o,l,c,h,p,g=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],F={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Q=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,j=0;this.__bidiEngine__={};var T=function(D){var R=D.charCodeAt(),re=R>>8,ae=S[re];return ae!==void 0?g[256*ae+(255&R)]:re===252||re===253?"AL":_.test(re)?"L":re===8?"R":"N"},V=function(D){for(var R,re=0;re<D.length;re++){if((R=T(D.charAt(re)))==="L")return!1;if(R==="R")return!0}return!1},K=function(D,R,re,ae){var Se,ve,Ue,H,ue=R[ae];switch(ue){case"L":case"R":B=!1;break;case"N":case"AN":break;case"EN":B&&(ue="AN");break;case"AL":B=!0,ue="R";break;case"WS":ue="N";break;case"CS":ae<1||ae+1>=R.length||(Se=re[ae-1])!=="EN"&&Se!=="AN"||(ve=R[ae+1])!=="EN"&&ve!=="AN"?ue="N":B&&(ve="AN"),ue=ve===Se?ve:"N";break;case"ES":ue=(Se=ae>0?re[ae-1]:"B")==="EN"&&ae+1<R.length&&R[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&re[ae-1]==="EN"){ue="EN";break}if(B){ue="N";break}for(Ue=ae+1,H=R.length;Ue<H&&R[Ue]==="ET";)Ue++;ue=Ue<H&&R[Ue]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(H=R.length,Ue=ae+1;Ue<H&&R[Ue]==="NSM";)Ue++;if(Ue<H){var ee=D[ae],me=ee>=1425&&ee<=2303||ee===64286;if(Se=R[Ue],me&&(Se==="R"||Se==="AL")){ue="R";break}}}ue=ae<1||(Se=R[ae-1])==="B"?"N":re[ae-1];break;case"B":B=!1,s=!0,ue=j;break;case"S":i=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"BN":ue="N"}return ue},G=function(D,R,re){var ae=D.split("");return re&&M(ae,re,{hiLevel:j}),ae.reverse(),R&&R.reverse(),ae.join("")},M=function(D,R,re){var ae,Se,ve,Ue,H,ue=-1,ee=D.length,me=0,P=[],$=j?y:w,se=[];for(B=!1,s=!1,i=!1,Se=0;Se<ee;Se++)se[Se]=T(D[Se]);for(ve=0;ve<ee;ve++){if(H=me,P[ve]=K(D,se,P,ve),ae=240&(me=$[H][F[P[ve]]]),me&=15,R[ve]=Ue=$[me][5],ae>0)if(ae===16){for(Se=ue;Se<ve;Se++)R[Se]=1;ue=-1}else ue=-1;if($[me][6])ue===-1&&(ue=ve);else if(ue>-1){for(Se=ue;Se<ve;Se++)R[Se]=Ue;ue=-1}se[ve]==="B"&&(R[ve]=0),re.hiLevel|=Ue}i&&function(ce,fe,Te){for(var ze=0;ze<Te;ze++)if(ce[ze]==="S"){fe[ze]=j;for(var _e=ze-1;_e>=0&&ce[_e]==="WS";_e--)fe[_e]=j}}(se,R,ee)},Z=function(D,R,re,ae,Se){if(!(Se.hiLevel<D)){if(D===1&&j===1&&!s)return R.reverse(),void(re&&re.reverse());for(var ve,Ue,H,ue,ee=R.length,me=0;me<ee;){if(ae[me]>=D){for(H=me+1;H<ee&&ae[H]>=D;)H++;for(ue=me,Ue=H-1;ue<Ue;ue++,Ue--)ve=R[ue],R[ue]=R[Ue],R[Ue]=ve,re&&(ve=re[ue],re[ue]=re[Ue],re[Ue]=ve);me=H}me++}}},oe=function(D,R,re){var ae=D.split(""),Se={hiLevel:j};return re||(re=[]),M(ae,re,Se),function(ve,Ue,H){if(H.hiLevel!==0&&p)for(var ue,ee=0;ee<ve.length;ee++)Ue[ee]===1&&(ue=Q.indexOf(ve[ee]))>=0&&(ve[ee]=Q[ue+1])}(ae,re,Se),Z(2,ae,R,re,Se),Z(1,ae,R,re,Se),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(D,R,re){if(function(Se,ve){if(ve)for(var Ue=0;Ue<Se.length;Ue++)ve[Ue]=Ue;l===void 0&&(l=V(Se)),h===void 0&&(h=V(Se))}(D,R),o||!c||h)if(o&&c&&l^h)j=l?1:0,D=G(D,R,re);else if(!o&&c&&h)j=l?1:0,D=oe(D,R,re),D=G(D,R);else if(!o||l||c||h){if(o&&!c&&l^h)D=G(D,R),l?(j=0,D=oe(D,R,re)):(j=1,D=oe(D,R,re),D=G(D,R));else if(o&&l&&!c&&h)j=1,D=oe(D,R,re),D=G(D,R);else if(!o&&!c&&l^h){var ae=p;l?(j=1,D=oe(D,R,re),j=0,p=!1,D=oe(D,R,re),p=ae):(j=0,D=oe(D,R,re),D=G(D,R),j=1,p=!1,D=oe(D,R,re),p=ae,D=G(D,R))}}else j=0,D=oe(D,R,re);else j=l?1:0,D=oe(D,R,re);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,c=D.isOutputVisual,l=D.isInputRtl,h=D.isOutputRtl,p=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(ar),ar.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new oc(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new aM(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new V8(this.contents),this.head=new G8(this),this.name=new Y8(this),this.cmap=new ES(this),this.toUnicode={},this.hhea=new $8(this),this.maxp=new eM(this),this.hmtx=new tM(this),this.post=new Z8(this),this.os2=new J8(this),this.loca=new iM(this),this.glyf=new rM(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,h;for(h=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var zo,oc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),V8=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,o,l,c,h,p,g,w,y,F,S;for(S in y=Object.keys(r).length,c=Math.log(2),g=16*Math.floor(Math.log(y)/c),o=Math.floor(g/c),p=16*y-g,(s=new oc).writeInt(this.scalarType),s.writeShort(y),s.writeShort(g),s.writeShort(o),s.writeShort(p),i=16*y,h=s.pos+i,l=null,F=[],r)for(w=r[S],s.writeString(S),s.writeInt(t(w)),s.writeInt(h),s.writeInt(w.length),F=F.concat(w),S==="head"&&(l=h),h+=w.length;h%4;)F.push(0),h++;return s.write(F),n=2981146554-t(s.data),s.pos=l+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,o;for(r=FS.call(r);r.length%4;)r.push(0);for(i=new oc(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),W8={}.hasOwnProperty,bA=function(t,e){for(var r in e)W8.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};zo=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var G8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bA(e,zo),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new oc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),bB=function(){function t(e,r){var n,s,i,o,l,c,h,p,g,w,y,F,S,Q,_,B,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(y=e.readUInt16(),w=y/2,e.pos+=6,i=function(){var T,V;for(V=[],c=T=0;0<=w?T<w:T>w;c=0<=w?++T:--T)V.push(e.readUInt16());return V}(),e.pos+=2,S=function(){var T,V;for(V=[],c=T=0;0<=w?T<w:T>w;c=0<=w?++T:--T)V.push(e.readUInt16());return V}(),h=function(){var T,V;for(V=[],c=T=0;0<=w?T<w:T>w;c=0<=w?++T:--T)V.push(e.readUInt16());return V}(),p=function(){var T,V;for(V=[],c=T=0;0<=w?T<w:T>w;c=0<=w?++T:--T)V.push(e.readUInt16());return V}(),s=(this.length-e.pos+this.offset)/2,l=function(){var T,V;for(V=[],c=T=0;0<=s?T<s:T>s;c=0<=s?++T:--T)V.push(e.readUInt16());return V}(),c=_=0,j=i.length;_<j;c=++_)for(Q=i[c],n=B=F=S[c];F<=Q?B<=Q:B>=Q;n=F<=Q?++B:--B)p[c]===0?o=n+h[c]:(o=l[p[c]/2+(n-F)-(w-c)]||0)!==0&&(o+=h[c]),this.codeMap[n]=65535&o}e.pos=g}return t.encode=function(e,r){var n,s,i,o,l,c,h,p,g,w,y,F,S,Q,_,B,j,T,V,K,G,M,Z,oe,D,R,re,ae,Se,ve,Ue,H,ue,ee,me,P,$,se,ce,fe,Te,ze,_e,wt,Ke,we;switch(ae=new oc,o=Object.keys(e).sort(function(Ye,et){return Ye-et}),r){case"macroman":for(S=0,Q=function(){var Ye=[];for(F=0;F<256;++F)Ye.push(0);return Ye}(),B={0:0},i={},Se=0,ue=o.length;Se<ue;Se++)B[_e=e[s=o[Se]]]==null&&(B[_e]=++S),i[s]={old:e[s],new:B[e[s]]},Q[s]=B[e[s]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(Q),{charMap:i,subtable:ae.data,maxGlyphID:S+1};case"unicode":for(R=[],g=[],j=0,B={},n={},_=h=null,ve=0,ee=o.length;ve<ee;ve++)B[V=e[s=o[ve]]]==null&&(B[V]=++j),n[s]={old:V,new:B[V]},l=B[V]-s,_!=null&&l===h||(_&&g.push(_),R.push(s),h=l),_=s;for(_&&g.push(_),g.push(65535),R.push(65535),oe=2*(Z=R.length),M=2*Math.pow(Math.log(Z)/Math.LN2,2),w=Math.log(M/2)/Math.LN2,G=2*Z-M,c=[],K=[],y=[],F=Ue=0,me=R.length;Ue<me;F=++Ue){if(D=R[F],p=g[F],D===65535){c.push(0),K.push(0);break}if(D-(re=n[D].new)>=32768)for(c.push(0),K.push(2*(y.length+Z-F)),s=H=D;D<=p?H<=p:H>=p;s=D<=p?++H:--H)y.push(n[s].new);else c.push(re-D),K.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*Z+2*y.length),ae.writeUInt16(0),ae.writeUInt16(oe),ae.writeUInt16(M),ae.writeUInt16(w),ae.writeUInt16(G),Te=0,P=g.length;Te<P;Te++)s=g[Te],ae.writeUInt16(s);for(ae.writeUInt16(0),ze=0,$=R.length;ze<$;ze++)s=R[ze],ae.writeUInt16(s);for(wt=0,se=c.length;wt<se;wt++)l=c[wt],ae.writeUInt16(l);for(Ke=0,ce=K.length;Ke<ce;Ke++)T=K[Ke],ae.writeUInt16(T);for(we=0,fe=y.length;we<fe;we++)S=y[we],ae.writeUInt16(S);return{charMap:n,subtable:ae.data,maxGlyphID:j+1}}},t}(),ES=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bA(e,zo),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new bB(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=bB.encode(r,n),(i=new oc).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),$8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bA(e,zo),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),J8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bA(e,zo),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),Z8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bA(e,zo),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(s=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,h;for(h=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)h.push(r.readUInt32());return h}).call(this)}},e}(),X8=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Y8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bA(e,zo),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,o,l,c,h,p,g,w,y;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),s=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(h={},o=g=0,w=s.length;g<w;o=++g)i=s[o],r.pos=i.offset,p=r.readString(i.length),l=new X8(p,i),h[y=i.nameID]==null&&(h[y]=[]),h[i.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),eM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bA(e,zo),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),tM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bA(e,zo),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,o,l,c,h;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,g;for(g=[],n=p=0;0<=i?p<i:p>i;n=0<=i?++p:--p)g.push(r.readInt16());return g}(),this.widths=(function(){var p,g,w,y;for(y=[],p=0,g=(w=this.metrics).length;p<g;p++)o=w[p],y.push(o.advance);return y}).call(this),s=this.widths[this.widths.length-1],h=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)h.push(this.widths.push(s));return h},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),FS=[].slice,rM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bA(e,zo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,o,l,c,h,p,g,w;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,s=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,l=(c=new oc(n.read(i))).readShort(),p=c.readShort(),w=c.readShort(),h=c.readShort(),g=c.readShort(),this.cache[r]=l===-1?new sM(c,p,w,h,g):new nM(c,l,p,w,h,g),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,o,l,c,h;for(l=[],o=[],c=0,h=n.length;c<h;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(s)));return o.push(l.length),{table:l,offsets:o}},e}(),nM=function(){function t(e,r,n,s,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),sM=function(){function t(e,r,n,s,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new oc(FS.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),iM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bA(e,zo),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<s.length;++l)if(s[l]=i,o<n.length&&n[o]==l){++o,s[l]=i;var c=this.offsets[l],h=this.offsets[l+1]-c;h>0&&(i+=h)}for(var p=new Array(4*s.length),g=0;g<s.length;++g)p[4*g+3]=255&s[g],p[4*g+2]=(65280&s[g])>>8,p[4*g+1]=(16711680&s[g])>>16,p[4*g]=(4278190080&s[g])>>24;return p},e}(),aM=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,o,l,c;for(s={},o=0,l=e.length;o<l;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,o,l,c,h,p,g,w,y,F,S,Q,_;for(s in n=ES.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),y={0:0},_=n.charMap)y[(c=_[s]).old]=c.new;for(F in w=n.maxGlyphID,o)F in y||(y[F]=w++);return p=function(B){var j,T;for(j in T={},B)T[B[j]]=j;return T}(y),g=Object.keys(p).sort(function(B,j){return B-j}),S=function(){var B,j,T;for(T=[],B=0,j=g.length;B<j;B++)l=g[B],T.push(p[l]);return T}(),i=this.font.glyf.encode(o,S,y),h=this.font.loca.encode(i.offsets,S),Q={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(Q["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Q)},t}();ar.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+function(){var l,c,h;for(h=[],l=0,c=r.length;l<c;l++)n=r[l],h.push(e.convert(n));return h}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e}();const bx=Object.freeze(Object.defineProperty({__proto__:null,AcroFormAppearance:$t,AcroFormButton:Ss,AcroFormCheckBox:af,AcroFormChoiceField:Zc,AcroFormComboBox:Yc,AcroFormEditBox:nf,AcroFormListBox:Xc,AcroFormPasswordField:of,AcroFormPushButton:sf,AcroFormRadioButton:eu,AcroFormTextField:rc,GState:Rf,ShadingPattern:Sl,TilingPattern:Pc,default:ar,jsPDF:ar},Symbol.toStringTag,{value:"Module"}));class Ua{static async exportToPDF(e,r){try{const n=new ar({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),s=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),o=10,l=e.querySelectorAll(".card");for(let c=0;c<l.length;c++){const h=l[c];c>0&&n.addPage();const p=await AS(h,{scale:3,useCORS:!0,allowTaint:!0,logging:!1,backgroundColor:"#ffffff",imageTimeout:15e3,removeContainer:!1,windowWidth:1200,width:h.scrollWidth,height:h.scrollHeight,onclone:S=>{const Q=S.body.querySelector("*");Q&&(Q.style.padding="0",Q.style.margin="0",S.querySelectorAll("*").forEach(j=>{const T=j;T.style.fontFamily="Arial, sans-serif",T.style.webkitFontSmoothing="antialiased",T.style.mozOsxFontSmoothing="grayscale"}),S.querySelectorAll("img").forEach(j=>{j.crossOrigin="anonymous",j.style.maxWidth="100%",j.style.height="auto"}))}}),g=p.toDataURL("image/jpeg",.95),w=s-o*2,y=p.height*w/p.width,F=i-o*2;if(y>F){const S=F/y,Q=w*S,_=F,B=o+(w-Q)/2;n.addImage(g,"JPEG",B,o,Q,_,void 0,"FAST")}else n.addImage(g,"JPEG",o,o,w,y,void 0,"FAST")}return n.output("blob")}catch(n){return console.error("Erreur lors de la gnration du PDF:",n),null}}static async exportToHTML(e,r){const n=Array.from(document.styleSheets).map(l=>{try{return Array.from(l.cssRules).map(c=>c.cssText).join(`
`)}catch{return""}}).join(`
`),s=e.cloneNode(!0),i=s.querySelectorAll("img");for(const l of Array.from(i))try{if(!l.src.startsWith("data:")){const c=document.createElement("canvas"),h=c.getContext("2d"),p=new Image;p.crossOrigin="anonymous",await new Promise(g=>{p.onload=()=>{c.width=p.width,c.height=p.height,h==null||h.drawImage(p,0,0);const w=c.toDataURL("image/png",1);l.src=w,g(null)},p.onerror=()=>{console.warn("Impossible de charger l'image:",l.src),g(null)},p.src=l.src})}}catch(c){console.error("Erreur conversion image:",c)}const o=`<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${r.title}</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.5;
      color: #111827;
      background: white;
      padding: 20px;
    }
    img {
      max-width: 100%;
      height: auto;
    }
    .pdf-avoid-break {
      page-break-inside: avoid;
      break-inside: avoid;
    }
    .pdf-page-break {
      page-break-before: always;
      break-before: always;
    }
    @media print {
      body {
        padding: 0;
      }
      .pdf-avoid-break {
        page-break-inside: avoid;
        break-inside: avoid;
      }
      .pdf-page-break {
        page-break-before: always;
        break-before: always;
      }
    }
    @page {
      size: A4;
      margin: 1cm;
    }
    ${n}
  </style>
</head>
<body>
  ${s.innerHTML}
</body>
</html>`;return new Blob([o],{type:"text/html;charset=utf-8"})}static async exportToDocx(e,r){const o=`
MIME-Version: 1.0
Content-Type: multipart/related; boundary="----=BOUNDARY"

------=BOUNDARY
Content-Type: text/html; charset="utf-8"
Content-Location: file:///document.html

${(await(await this.exportToHTML(e,r)).text()).replace('<html lang="fr">','<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40">')}

------=BOUNDARY--
`;return new Blob([o],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"})}static async downloadFile(e,r){const n=URL.createObjectURL(e),s=document.createElement("a");s.href=n,s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}static async shareFile(e,r,n,s){var i;if(navigator.share&&((i=navigator.canShare)!=null&&i.call(navigator,{files:[new File([e],r)]}))){const o=new File([e],r,{type:e.type});try{return await navigator.share({files:[o],title:n,text:s}),!0}catch(l){return l.name!=="AbortError"&&console.error("Erreur lors du partage:",l),!1}}return!1}}const oM=[{value:"RV0.5m3",label:"0.5"},{value:"RV1m3",label:"1"},{value:"RV1.5m3",label:"1.5"},{value:"RV2m3",label:"2"},{value:"RV2.5m3",label:"2.5"},{value:"RV3m3",label:"3"}];function AM(){const{releveId:t}=fu(),e=Us(),{user:r}=uo(),n=le.useRef(null),[s,i]=le.useState(null),[o,l]=le.useState(null),[c,h]=le.useState([]),[p,g]=le.useState([]),[w,y]=le.useState(null),[F,S]=le.useState(!1),[Q,_]=le.useState(!0),[B,j]=le.useState(!1),[T,V]=le.useState(!1);le.useEffect(()=>{K()},[t]);const K=async()=>{if(t){_(!0);try{const R=await ms.getById(t);if(!R){e("/releves-liste");return}if(i(R),R.armoire_id){const ve=await gs.getById(R.armoire_id);l(ve)}const re=await ta.getByReleveId(t);h(re);const ae=await Io.getByReleveId(t);g(ae.sort((ve,Ue)=>ve.position-Ue.position));const Se=await ja.getByReleveId(t);y(Se)}catch(R){console.error("Erreur lors du chargement du relev:",R)}finally{_(!1)}}},G=async R=>{if(!(!t||!r))try{const re=await ja.create(t,R,r.id);y(re),S(!1)}catch(re){console.error("Erreur lors de l'enregistrement de la signature:",re),alert("Erreur lors de l'enregistrement de la signature")}},M=async()=>{if(!n.current)return null;try{const R=(await Mo(async()=>{const{default:me}=await Promise.resolve().then(()=>A0);return{default:me}},void 0)).default,re=(await Mo(async()=>{const{default:me}=await Promise.resolve().then(()=>bx);return{default:me}},void 0)).default,ae=new re({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),Se=ae.internal.pageSize.getWidth(),ve=ae.internal.pageSize.getHeight(),Ue=10;let H=Ue,ue=!0;const ee=n.current.querySelectorAll(".pdf-avoid-break, .pdf-page-break");for(let me=0;me<ee.length;me++){const P=ee[me];P.classList.contains("pdf-page-break")&&!ue&&(ae.addPage(),H=Ue);const $=await R(P,{scale:2,useCORS:!0,allowTaint:!0,logging:!1,backgroundColor:"#ffffff"}),se=$.toDataURL("image/jpeg",.95),ce=Se-Ue*2,fe=$.height*ce/$.width;H+fe>ve-Ue&&!ue&&(ae.addPage(),H=Ue),ae.addImage(se,"JPEG",Ue,H,ce,fe,void 0,"FAST"),H+=fe+2,ue=!1}return ae.output("blob")}catch(R){return console.error("Erreur lors de la gnration du PDF:",R),null}},Z=async()=>{var ae;if(!s||!o)return;const R=await M();if(!R){alert("Erreur lors de la gnration du PDF");return}const re=`releve-${o.nom_armoire}-${new Date().toLocaleDateString("fr-FR")}.pdf`;if(navigator.share&&((ae=navigator.canShare)!=null&&ae.call(navigator,{files:[new File([R],re)]}))){const Se=new File([R],re,{type:"application/pdf"});try{await navigator.share({files:[Se],title:`Relev d'tude - ${o.nom_armoire}`,text:`Relev d'tude pour l'armoire ${o.nom_armoire}. Date du relev: ${new Date(s.date_releve).toLocaleDateString("fr-FR")}`})}catch(ve){ve.name!=="AbortError"&&console.error("Erreur lors du partage:",ve)}}else{const Se=URL.createObjectURL(R),ve=document.createElement("a");ve.href=Se,ve.download=re,ve.click(),URL.revokeObjectURL(Se),setTimeout(()=>{const Ue=encodeURIComponent(`Relev d'tude - ${o.nom_armoire}`),H=encodeURIComponent(`Bonjour,

Veuillez trouver ci-joint le relev d'tude pour l'armoire ${o.nom_armoire}.

Date du relev: ${new Date(s.date_releve).toLocaleDateString("fr-FR")}

Cordialement

Note: Le fichier PDF a t tlcharg. Veuillez l'attacher manuellement  cet email.`);window.location.href=`mailto:?subject=${Ue}&body=${H}`},500)}},oe=async()=>{var ae;if(!s||!o)return;const R=await M();if(!R){alert("Erreur lors de la gnration du PDF");return}const re=`releve-${o.nom_armoire}-${new Date().toLocaleDateString("fr-FR")}.pdf`;if(navigator.share&&((ae=navigator.canShare)!=null&&ae.call(navigator,{files:[new File([R],re)]}))){const Se=new File([R],re,{type:"application/pdf"});try{await navigator.share({files:[Se],title:`Relev d'tude - ${o.nom_armoire}`,text:`Relev d'tude pour l'armoire ${o.nom_armoire}. Date du relev: ${new Date(s.date_releve).toLocaleDateString("fr-FR")}`})}catch(ve){ve.name!=="AbortError"&&console.error("Erreur lors du partage:",ve)}}else{const Se=URL.createObjectURL(R),ve=document.createElement("a");ve.href=Se,ve.download=re,ve.click(),URL.revokeObjectURL(Se),setTimeout(()=>{const Ue=encodeURIComponent(`Relev d'tude - ${o.nom_armoire}
Date: ${new Date(s.date_releve).toLocaleDateString("fr-FR")}

Le document PDF a t tlcharg.`);window.open(`https://wa.me/?text=${Ue}`,"_blank")},500)}},D=async(R="pdf")=>{if(!(!n.current||!s||!o)){V(!0),j(!1);try{let re=null,ae="";const Se=`releve-${o.nom_armoire}-${new Date().toLocaleDateString("fr-FR")}`;switch(R){case"pdf":re=await Ua.exportToPDF(n.current,{fileName:`${Se}.pdf`,title:`Relev d'tude - ${o.nom_armoire}`}),ae=`${Se}.pdf`;break;case"html":re=await Ua.exportToHTML(n.current,{fileName:`${Se}.html`,title:`Relev d'tude - ${o.nom_armoire}`,description:`Date: ${new Date(s.date_releve).toLocaleDateString("fr-FR")}`}),ae=`${Se}.html`;break;case"docx":re=await Ua.exportToDocx(n.current,{fileName:`${Se}.docx`,title:`Relev d'tude - ${o.nom_armoire}`,description:`Date: ${new Date(s.date_releve).toLocaleDateString("fr-FR")}`}),ae=`${Se}.docx`;break}if(!re){alert("Erreur lors de la gnration du document");return}await Ua.downloadFile(re,ae)}catch(re){console.error("Erreur lors de l'export:",re),alert("Erreur lors de l'export du document")}finally{V(!1)}}};return Q?A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:A.jsx(lu,{className:"w-8 h-8 animate-spin text-primary-600"})}):!s||!o?A.jsx("div",{className:"text-center py-12",children:A.jsx("p",{className:"text-gray-500",children:"Relev introuvable"})}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Relev d'tude"}),A.jsx("div",{className:"flex gap-3",children:w?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:()=>j(!B),disabled:T,className:"btn btn-secondary flex items-center gap-2",children:T?A.jsxs(A.Fragment,{children:[A.jsx(lu,{className:"w-5 h-5 animate-spin"}),"Exportation..."]}):A.jsxs(A.Fragment,{children:[A.jsx(Zh,{className:"w-5 h-5"}),"Tlcharger"]})}),B&&!T&&A.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:A.jsxs("div",{className:"py-1",children:[A.jsxs("button",{onClick:()=>D("pdf"),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 border-b border-gray-100",children:[A.jsx(Ao,{className:"w-5 h-5 text-red-600"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-gray-900",children:"PDF"}),A.jsx("div",{className:"text-xs text-gray-500",children:"Format portable (qualit amliore)"})]})]}),A.jsxs("button",{onClick:()=>D("html"),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 border-b border-gray-100",children:[A.jsx(ax,{className:"w-5 h-5 text-blue-600"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-gray-900",children:"HTML"}),A.jsx("div",{className:"text-xs text-gray-500",children:"ditable dans Word (100% fidle)"})]})]}),A.jsxs("button",{onClick:()=>D("docx"),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3",children:[A.jsx(Ao,{className:"w-5 h-5 text-blue-800"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-gray-900",children:"Word (DOCX)"}),A.jsx("div",{className:"text-xs text-gray-500",children:"Format Microsoft Word"})]})]})]})})]}),A.jsxs("button",{onClick:Z,className:"btn btn-secondary flex items-center gap-2",children:[A.jsx(ox,{className:"w-5 h-5"}),"Email"]}),A.jsxs("button",{onClick:oe,className:"btn btn-secondary flex items-center gap-2",children:[A.jsx(Ax,{className:"w-5 h-5"}),"WhatsApp"]})]}):A.jsxs(A.Fragment,{children:[A.jsxs("button",{onClick:()=>e(`/releve-etude/${t}`),className:"btn btn-secondary flex items-center gap-2",children:[A.jsx(q4,{className:"w-5 h-5"}),"Modifier le relev"]}),A.jsxs("button",{onClick:()=>S(!0),className:"btn btn-primary flex items-center gap-2",children:[A.jsx(Gc,{className:"w-5 h-5"}),"Signer le document"]})]})})]}),A.jsxs("div",{ref:n,className:"card bg-white",children:[A.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @media print {
            .pdf-avoid-break {
              page-break-inside: avoid;
              break-inside: avoid;
            }
            .pdf-page-break {
              page-break-before: always;
            }
          }
        `}}),A.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white px-6 py-5 -mx-6 -mt-6 mb-8 pdf-avoid-break",children:A.jsx("div",{className:"flex items-center justify-between",children:A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-16 h-16 bg-white rounded-lg flex items-center justify-center shadow-lg",children:A.jsx("span",{className:"text-orange-600 font-bold text-3xl",children:"R"})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold mb-1",children:"ReflexOFeu"}),A.jsx("p",{className:"text-sm text-orange-100",children:"Systmes d'Extinction FK-5-1-12"})]})]})})}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"text-center border-b-2 border-orange-500 pb-4 pdf-avoid-break",children:[A.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:"RELEV D'TUDE"}),A.jsxs("p",{className:"text-gray-700 mt-2",children:["Date: ",new Date(s.date_releve).toLocaleDateString("fr-FR")]})]}),A.jsxs("div",{className:"grid grid-cols-3 gap-4 border-b-2 border-orange-200 pb-4 pdf-avoid-break",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Armoire"}),A.jsx("p",{className:"text-lg font-bold text-gray-900",children:o.nom_armoire}),o.zone&&A.jsxs("p",{className:"text-sm text-gray-600",children:["Zone: ",o.zone]})]}),(o.hauteur||o.longueur||o.profondeur||o.volume&&o.volume>0)&&A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Dimensions"}),o.hauteur&&o.hauteur>0&&A.jsxs("p",{className:"text-sm",children:["Hauteur: ",o.hauteur," m"]}),o.longueur&&o.longueur>0&&A.jsxs("p",{className:"text-sm",children:["Longueur: ",o.longueur," m"]}),o.profondeur&&o.profondeur>0&&A.jsxs("p",{className:"text-sm",children:["Profondeur: ",o.profondeur," m"]}),o.volume&&o.volume>0&&A.jsxs("p",{className:"text-sm font-semibold",children:["Volume: ",o.volume," m"]})]}),p.length>0&&A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 font-semibold mb-2",children:"Photo de l'armoire"}),A.jsx("img",{src:p[0].url_photo,alt:"Armoire",crossOrigin:"anonymous",className:"w-full h-32 object-cover rounded-lg border-2 border-orange-200"})]})]}),A.jsxs("div",{className:"border-b-2 border-orange-200 pb-4 pdf-avoid-break",children:[A.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4 border-b-2 border-orange-500 pb-2",children:"Matriel Propos"}),c.length===0?A.jsx("p",{className:"text-gray-500 italic",children:"Aucun systme configur"}):A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-sm border-collapse",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-orange-500 text-white",children:[A.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left",children:"Cylindre"}),A.jsx("th",{className:"border border-gray-300 px-3 py-2 text-center",children:"Tube"}),A.jsx("th",{className:"border border-gray-300 px-3 py-2 text-center",children:"Pressostat"}),A.jsx("th",{className:"border border-gray-300 px-3 py-2 text-center",children:"Sprinkler"}),A.jsx("th",{className:"border border-gray-300 px-3 py-2 text-center",children:"Sirne Flash"})]})}),A.jsx("tbody",{children:c.map((R,re)=>{var Se;const ae=((Se=oM.find(ve=>ve.value===R.modele))==null?void 0:Se.label)||R.modele;return A.jsxs("tr",{className:"bg-white hover:bg-gray-50",children:[A.jsxs("td",{className:"border border-gray-300 px-3 py-2 text-gray-900",children:[R.quantite,"  RV",ae,"m"]}),A.jsx("td",{className:"border border-gray-300 px-3 py-2 text-center",children:R.tube?A.jsx("span",{className:"text-green-600 font-bold text-lg",children:""}):A.jsx("span",{className:"text-gray-300",children:"-"})}),A.jsx("td",{className:"border border-gray-300 px-3 py-2 text-center",children:R.pressostat?A.jsxs("span",{className:"text-green-600",title:R.pressostat_type||"",children:[A.jsx("span",{className:"font-bold text-lg",children:""}),R.pressostat_type&&A.jsx("span",{className:"text-xs block",children:R.pressostat_type})]}):A.jsx("span",{className:"text-gray-300",children:"-"})}),A.jsx("td",{className:"border border-gray-300 px-3 py-2 text-center",children:R.tete_sprinkler?A.jsxs("span",{className:"text-green-600",title:`${R.tete_sprinkler_quantite} ttes  ${R.tete_sprinkler_temperature}C`,children:[A.jsxs("span",{className:"font-bold",children:[R.tete_sprinkler_quantite,""]}),A.jsxs("span",{className:"text-xs block",children:[R.tete_sprinkler_temperature,"C"]})]}):A.jsx("span",{className:"text-gray-300",children:"-"})}),A.jsx("td",{className:"border border-gray-300 px-3 py-2 text-center",children:R.sirene_flash?A.jsx("span",{className:"text-green-600 font-bold text-lg",children:""}):A.jsx("span",{className:"text-gray-300",children:"-"})})]},re)})})]})})]}),p.length>0&&A.jsxs("div",{className:"border-b-2 border-orange-200 pb-4 pdf-avoid-break",children:[A.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4 border-b-2 border-orange-500 pb-2",children:"Photos"}),A.jsx("div",{className:"grid grid-cols-2 gap-4",children:p.slice(0,4).map((R,re)=>A.jsx("img",{src:R.url_photo,alt:`Photo ${re+1}`,className:"w-full h-48 object-cover rounded-lg border-2 border-orange-200 pdf-avoid-break"},R.id))})]}),w&&A.jsxs("div",{className:"pt-4 pdf-avoid-break",children:[A.jsxs("div",{className:"text-center mb-4",children:[A.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Bon pour offre technique et commerciale"}),A.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:["Sign le ",new Date(w.signed_at).toLocaleDateString("fr-FR")," "," ",new Date(w.signed_at).toLocaleTimeString("fr-FR")]})]}),A.jsx("div",{className:"flex justify-center",children:A.jsx("img",{src:w.signature_data,alt:"Signature",className:"max-w-xs border-2 border-orange-300 rounded-lg shadow-sm"})})]})]})]}),F&&A.jsx(Yf,{onSave:G,onCancel:()=>S(!1)})]})}const lM=[{value:"RV0.5m3",label:"0.5"},{value:"RV1m3",label:"1"},{value:"RV1.5m3",label:"1.5"},{value:"RV2m3",label:"2"},{value:"RV2.5m3",label:"2.5"},{value:"RV3m3",label:"3"}];function cM(){const{sessionId:t}=fu(),e=Us(),{user:r}=uo(),n=le.useRef(null),[s,i]=le.useState([]),[o,l]=le.useState(null),[c,h]=le.useState(!1),[p,g]=le.useState(!0),[w,y]=le.useState(!1),[F,S]=le.useState(!1);le.useEffect(()=>{Q()},[t]);const Q=async()=>{if(t){g(!0);try{const M=await ms.getBySessionId(t);if(M.length===0){e("/releves-liste");return}const Z=[];for(const D of M){const R=await ta.getByReleveId(D.id),re=await Io.getByReleveId(D.id);Z.push({releve:D,systemes:R,photos:re.sort((ae,Se)=>ae.position-Se.position)})}i(Z);const oe=await ja.getBySessionId(t);l(oe)}catch(M){console.error("Erreur lors du chargement de la session:",M)}finally{g(!1)}}},_=async M=>{if(!(!t||!r))try{const Z=await ja.createForSession(t,M,r.id);l(Z),h(!1)}catch(Z){console.error("Erreur lors de l'enregistrement de la signature:",Z),alert("Erreur lors de l'enregistrement de la signature")}},B=async()=>{if(!n.current)return null;try{const M=(await Mo(async()=>{const{default:Ue}=await Promise.resolve().then(()=>A0);return{default:Ue}},void 0)).default,Z=(await Mo(async()=>{const{default:Ue}=await Promise.resolve().then(()=>bx);return{default:Ue}},void 0)).default,oe=new Z({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),D=oe.internal.pageSize.getWidth(),R=oe.internal.pageSize.getHeight(),re=10;let ae=re,Se=!0;const ve=n.current.querySelectorAll(".pdf-avoid-break, .pdf-page-break");for(let Ue=0;Ue<ve.length;Ue++){const H=ve[Ue];H.classList.contains("pdf-page-break")&&!Se&&(oe.addPage(),ae=re);const ue=await M(H,{scale:2,useCORS:!0,allowTaint:!0,logging:!1,backgroundColor:"#ffffff"}),ee=ue.toDataURL("image/jpeg",.95),me=D-re*2,P=ue.height*me/ue.width;ae+P>R-re&&!Se&&(oe.addPage(),ae=re),oe.addImage(ee,"JPEG",re,ae,me,P,void 0,"FAST"),ae+=P+2,Se=!1}return oe.output("blob")}catch(M){return console.error("Erreur lors de la gnration du PDF:",M),null}},j=async(M="pdf")=>{if(n.current){y(!0),S(!1);try{let Z=null,oe="";const D=`releve-etude-session-${new Date().toISOString().split("T")[0]}`;switch(M){case"pdf":Z=await Ua.exportToPDF(n.current,{fileName:`${D}.pdf`,title:"Relev d'tude - Session"}),oe=`${D}.pdf`;break;case"html":Z=await Ua.exportToHTML(n.current,{fileName:`${D}.html`,title:"Relev d'tude - Session",description:`${s.length} armoire${s.length>1?"s":""}`}),oe=`${D}.html`;break;case"docx":Z=await Ua.exportToDocx(n.current,{fileName:`${D}.docx`,title:"Relev d'tude - Session",description:`${s.length} armoire${s.length>1?"s":""}`}),oe=`${D}.docx`;break}if(!Z){alert("Erreur lors de la gnration du document");return}await Ua.downloadFile(Z,oe)}catch(Z){console.error("Erreur lors de l'export:",Z),alert("Erreur lors de l'export du document")}finally{y(!1)}}},T=async()=>{var oe;const M=await B();if(!M){alert("Erreur lors de la gnration du PDF");return}const Z=`releve-etude-${new Date().toISOString().split("T")[0]}.pdf`;if(navigator.share&&((oe=navigator.canShare)!=null&&oe.call(navigator,{files:[new File([M],Z)]}))){const D=new File([M],Z,{type:"application/pdf"});try{await navigator.share({files:[D],title:"Relev d'tude - Session",text:`Relev d'tude pour ${s.length} armoire${s.length>1?"s":""}`})}catch(R){R.name!=="AbortError"&&console.error("Erreur lors du partage:",R)}}else{const D=URL.createObjectURL(M),R=document.createElement("a");R.href=D,R.download=Z,R.click(),URL.revokeObjectURL(D),setTimeout(()=>{const re=encodeURIComponent("Relev d'tude - Session"),ae=encodeURIComponent(`Bonjour,

Veuillez trouver ci-joint le relev d'tude pour ${s.length} armoire${s.length>1?"s":""}.

Cordialement

Note: Le fichier PDF a t tlcharg. Veuillez l'attacher manuellement  cet email.`);window.location.href=`mailto:?subject=${re}&body=${ae}`},500)}},V=async()=>{var oe;const M=await B();if(!M){alert("Erreur lors de la gnration du PDF");return}const Z=`releve-etude-${new Date().toISOString().split("T")[0]}.pdf`;if(navigator.share&&((oe=navigator.canShare)!=null&&oe.call(navigator,{files:[new File([M],Z)]}))){const D=new File([M],Z,{type:"application/pdf"});try{await navigator.share({files:[D],title:"Relev d'tude - Session",text:`Relev d'tude pour ${s.length} armoire${s.length>1?"s":""}`})}catch(R){R.name!=="AbortError"&&console.error("Erreur lors du partage:",R)}}else{const D=URL.createObjectURL(M),R=document.createElement("a");R.href=D,R.download=Z,R.click(),URL.revokeObjectURL(D),setTimeout(()=>{const re=encodeURIComponent(`Relev d'tude - Session
${s.length} armoire${s.length>1?"s":""}

Le document PDF a t tlcharg.`);window.open(`https://wa.me/?text=${re}`,"_blank")},500)}};if(p)return A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:A.jsx(lu,{className:"w-8 h-8 animate-spin text-primary-600"})});if(s.length===0)return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Rapport de Relev"}),A.jsxs("div",{className:"card",children:[A.jsx("p",{className:"text-gray-500",children:"Aucune donne trouve pour cette session."}),A.jsx("button",{onClick:()=>e("/releves-liste"),className:"btn-secondary mt-4",children:"Retour"})]})]});const G=s[0].releve.date_releve;return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Rapport de Relev"}),A.jsxs("div",{ref:n,className:"card bg-white",children:[A.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @media print {
            .pdf-avoid-break {
              page-break-inside: avoid;
              break-inside: avoid;
            }
            .pdf-page-break {
              page-break-before: always;
            }
          }
        `}}),A.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white px-6 py-5 -mx-6 -mt-6 mb-8 pdf-avoid-break",children:A.jsx("div",{className:"flex items-center justify-between",children:A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-16 h-16 bg-white rounded-lg flex items-center justify-center shadow-lg",children:A.jsx("span",{className:"text-orange-600 font-bold text-3xl",children:"R"})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold mb-1",children:"ReflexOFeu"}),A.jsx("p",{className:"text-sm text-orange-100",children:"Systmes d'Extinction FK-5-1-12"})]})]})})}),A.jsxs("div",{className:"border-b-2 border-orange-500 pb-4 mb-6 pdf-avoid-break",children:[A.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-2",children:"RAPPORT DE RELEV D'TUDE"}),A.jsxs("p",{className:"text-center text-gray-700",children:["Date: ",new Date(G).toLocaleDateString("fr-FR")]}),A.jsxs("p",{className:"text-center text-gray-700",children:["Nombre d'armoires: ",s.length]})]}),A.jsx("div",{className:"space-y-8",children:s.map((M,Z)=>{const{releve:oe,systemes:D,photos:R}=M,re=oe.armoire,ae=R[0];return A.jsxs("div",{className:"border-b-2 border-orange-200 pb-6 last:border-b-0 pdf-avoid-break",children:[A.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[A.jsx("div",{className:"flex-shrink-0 w-24 h-24",children:ae?A.jsx("img",{src:ae.url_photo,alt:"Relev",crossOrigin:"anonymous",className:"w-full h-full object-cover rounded border-2 border-orange-200",onError:Se=>{const ve=Se.target;ve.style.display="none"}}):A.jsx("div",{className:"w-full h-full bg-orange-50 rounded border-2 border-orange-200 flex items-center justify-center",children:A.jsx($g,{className:"w-10 h-10 text-orange-400"})})}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:[Z+1,". ",(re==null?void 0:re.nom_armoire)||"Armoire"]}),(re==null?void 0:re.zone)&&A.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Zone: ",re.zone]}),A.jsx("div",{className:"space-y-1 text-sm",children:re&&(re.longueur||re.hauteur||re.profondeur||re.volume&&re.volume>0)&&A.jsxs("div",{className:"flex gap-4",children:[re.longueur&&re.longueur>0&&A.jsxs("span",{className:"text-gray-700",children:["L: ",re.longueur,"m"]}),re.hauteur&&re.hauteur>0&&A.jsxs("span",{className:"text-gray-700",children:["H: ",re.hauteur,"m"]}),re.profondeur&&re.profondeur>0&&A.jsxs("span",{className:"text-gray-700",children:["P: ",re.profondeur,"m"]}),re.volume&&re.volume>0&&A.jsxs("span",{className:"font-medium text-gray-900",children:["V: ",re.volume,"m"]})]})})]})]}),A.jsxs("div",{className:"mt-4",children:[A.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Systmes prconiss:"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-xs border-collapse",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-orange-500 text-white",children:[A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"Cylindre"}),A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Tube"}),A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Presso."}),A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Sprinkler"}),A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Sirne"})]})}),A.jsx("tbody",{children:D.map((Se,ve)=>{var H;const Ue=((H=lM.find(ue=>ue.value===Se.modele))==null?void 0:H.label)||"?";return A.jsxs("tr",{className:"bg-white hover:bg-gray-50",children:[A.jsxs("td",{className:"border border-gray-300 px-2 py-1 text-slate-700",children:[Se.quantite,"  RV",Ue,"m"]}),A.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:Se.tube?A.jsx("span",{className:"text-green-600 font-bold",children:""}):A.jsx("span",{className:"text-gray-300",children:"-"})}),A.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:Se.pressostat?A.jsx("span",{className:"text-green-600 font-bold",title:Se.pressostat_type||"",children:""}):A.jsx("span",{className:"text-gray-300",children:"-"})}),A.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:Se.tete_sprinkler?A.jsxs("span",{className:"text-green-600 text-xs",title:`${Se.tete_sprinkler_quantite} ttes  ${Se.tete_sprinkler_temperature}C`,children:[Se.tete_sprinkler_quantite,""]}):A.jsx("span",{className:"text-gray-300",children:"-"})}),A.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:Se.sirene_flash?A.jsx("span",{className:"text-green-600 font-bold",children:""}):A.jsx("span",{className:"text-gray-300",children:"-"})})]},ve)})})]})})]}),R.length>1&&A.jsxs("div",{className:"mt-4",children:[A.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Photos supplmentaires (",R.length-1,")"]}),A.jsx("div",{className:"grid grid-cols-4 gap-2",children:R.slice(1).map((Se,ve)=>A.jsx("img",{src:Se.url_photo,alt:`Photo ${ve+2}`,crossOrigin:"anonymous",className:"w-full h-20 object-cover rounded border border-orange-200",onError:Ue=>{const H=Ue.target;H.style.display="none"}},ve))})]})]},oe.id)})}),o&&A.jsxs("div",{className:"mt-8 pt-6 border-t-2 border-orange-500 pdf-avoid-break",children:[A.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Signature"}),A.jsx("img",{src:o.signature_data,alt:"Signature",className:"h-32 border-2 border-orange-300 rounded shadow-sm"}),A.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:["Sign le ",new Date(o.signed_at).toLocaleString("fr-FR")]})]})]}),A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"relative flex-1",children:[A.jsx("button",{onClick:()=>S(!F),disabled:w,className:"w-full btn-primary flex items-center justify-center space-x-2 disabled:opacity-50",children:w?A.jsxs(A.Fragment,{children:[A.jsx(lu,{className:"w-5 h-5 animate-spin"}),A.jsx("span",{children:"Exportation..."})]}):A.jsxs(A.Fragment,{children:[A.jsx(Zh,{className:"w-5 h-5"}),A.jsx("span",{children:"Tlcharger"})]})}),F&&!w&&A.jsx("div",{className:"absolute top-full mt-2 w-full bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:A.jsxs("div",{className:"py-1",children:[A.jsxs("button",{onClick:()=>j("pdf"),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 border-b border-gray-100",children:[A.jsx(Ao,{className:"w-5 h-5 text-red-600"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-gray-900",children:"PDF"}),A.jsx("div",{className:"text-xs text-gray-500",children:"Format portable (qualit amliore)"})]})]}),A.jsxs("button",{onClick:()=>j("html"),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 border-b border-gray-100",children:[A.jsx(ax,{className:"w-5 h-5 text-blue-600"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-gray-900",children:"HTML"}),A.jsx("div",{className:"text-xs text-gray-500",children:"ditable dans Word (100% fidle)"})]})]}),A.jsxs("button",{onClick:()=>j("docx"),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3",children:[A.jsx(Ao,{className:"w-5 h-5 text-blue-800"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-gray-900",children:"Word (DOCX)"}),A.jsx("div",{className:"text-xs text-gray-500",children:"Format Microsoft Word"})]})]})]})})]}),A.jsxs("button",{onClick:T,className:"btn-secondary flex items-center justify-center space-x-2",children:[A.jsx(ox,{className:"w-5 h-5"}),A.jsx("span",{children:"Email"})]}),A.jsxs("button",{onClick:V,className:"btn-secondary flex items-center justify-center space-x-2",children:[A.jsx(Ax,{className:"w-5 h-5"}),A.jsx("span",{children:"WhatsApp"})]})]}):A.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center justify-center space-x-2",children:[A.jsx(Gc,{className:"w-5 h-5"}),A.jsx("span",{children:"Signer le rapport"})]}),A.jsx("button",{onClick:()=>e("/releves-liste"),className:"btn-secondary",children:"Retour"})]})}),c&&A.jsx(Yf,{onSave:_,onCancel:()=>h(!1)})]})}const uM=[{value:"RV0.5m3",label:"0.5"},{value:"RV1m3",label:"1"},{value:"RV1.5m3",label:"1.5"},{value:"RV2m3",label:"2"},{value:"RV2.5m3",label:"2.5"},{value:"RV3m3",label:"3"}];function hM(){var $,se,ce,fe,Te,ze,_e,wt;const t=Us(),{data:e}=hc(),[r,n]=le.useState(""),[s,i]=le.useState(""),[o,l]=le.useState([]),[c,h]=le.useState([]),[p,g]=le.useState([]),[w,y]=le.useState(0),[F,S]=le.useState(!1),[Q,_]=le.useState(!1),[B,j]=le.useState(!1),[T,V]=le.useState(!1),K=e==null?void 0:e.find(Ke=>Ke.id===r),G=(K==null?void 0:K.sites)||[],M=(K==null?void 0:K.multi_site)??!1,Z=M?s:(($=G[0])==null?void 0:$.id)||"",oe=r&&Z,D=p[w],R=p.every(Ke=>{var we;return((we=Ke.installation)==null?void 0:we.statut)==="fait"}),re=D!==void 0;le.useEffect(()=>{V(!1)},[w]),le.useEffect(()=>{(async()=>{if(Z){_(!0);try{const Ye=(await ms.getBySiteId(Z)).filter(et=>et.statut==="complete");l(Ye)}catch(we){console.error("Erreur lors du chargement des relevs:",we)}finally{_(!1)}}})()},[Z]);const ae=Ke=>{h(we=>we.includes(Ke)?we.filter(Ye=>Ye!==Ke):[...we,Ke])},Se=()=>{h(o.map(Ke=>Ke.id))},ve=()=>{h([])},Ue=async()=>{if(!(!p.length||!confirm(`Voulez-vous vraiment marquer toutes les ${p.length} armoires comme installes ?`))){j(!0);try{const we=[...p];for(let Ye=0;Ye<p.length;Ye++){const et=p[Ye];et.installation&&et.installation.statut!=="fait"&&(await Fa.update(et.installation.id,{statut:"fait"}),we[Ye]={...et,installation:{...et.installation,statut:"fait"}})}g(we),alert("Toutes les installations ont t valides avec succs")}catch(we){console.error("Erreur:",we),alert("Erreur lors de la validation groupe")}finally{j(!1)}}},H=async()=>{if(c.length===0){alert("Veuillez slectionner au moins un relev");return}_(!0);try{const Ke=[];for(const we of c){const Ye=await ms.getById(we);if(!Ye)continue;const et=await ta.getByReleveId(we),pe=await Io.getByReleveId(we);let ne=await Fa.getByReleveId(we);if(!ne&&Ye.armoire){ne=await Fa.create({armoire_id:Ye.armoire.id,releve_etude_id:we,date_installation:new Date().toISOString().split("T")[0],statut:"en cours"});for(const Xe of et)await Jd.create({installation_id:ne.id,modele:Xe.modele,quantite:Xe.quantite,tube:Xe.tube,pressostat:Xe.pressostat,pressostat_type:Xe.pressostat_type,pressostat_quantite:Xe.pressostat_quantite,tete_sprinkler:Xe.tete_sprinkler,tete_sprinkler_quantite:Xe.tete_sprinkler_quantite,tete_sprinkler_temperature:Xe.tete_sprinkler_temperature,sirene_flash:Xe.sirene_flash,sirene_flash_quantite:Xe.sirene_flash_quantite,panneau:!1,contact_nf_suppl:!1})}else if(ne&&(await Jd.getByInstallationId(ne.id)).length===0)for(const Ze of et)await Jd.create({installation_id:ne.id,modele:Ze.modele,quantite:Ze.quantite,tube:Ze.tube,pressostat:Ze.pressostat,pressostat_type:Ze.pressostat_type,pressostat_quantite:Ze.pressostat_quantite,tete_sprinkler:Ze.tete_sprinkler,tete_sprinkler_quantite:Ze.tete_sprinkler_quantite,tete_sprinkler_temperature:Ze.tete_sprinkler_temperature,sirene_flash:Ze.sirene_flash,sirene_flash_quantite:Ze.sirene_flash_quantite,panneau:!1,contact_nf_suppl:!1});const it=ne?await vh.getByInstallationId(ne.id):[];Ke.push({releve:Ye,systemes:et,photos:pe,installation:ne||void 0,installationPhotos:it.map(Xe=>Xe.url_photo)})}g(Ke),y(0)}catch(Ke){console.error("Erreur:",Ke),alert("Erreur lors du chargement des donnes")}finally{_(!1)}},ue=async Ke=>{if(!(!D||!D.installation))try{const we=await fetch(Ke).then(it=>it.blob()),Ye=new File([we],`photo-${Date.now()}.jpg`,{type:"image/jpeg"}),et=await WA(Ye,"installation-photos");if(!et){alert("Erreur lors de la sauvegarde de la photo");return}const pe=D.installationPhotos.length+1;await vh.create({installation_id:D.installation.id,url_photo:et,position:pe});const ne=[...p];ne[w]={...D,installationPhotos:[...D.installationPhotos,et]},g(ne),S(!1)}catch(we){console.error("Erreur lors de la capture photo:",we),alert("Erreur lors de la sauvegarde de la photo")}},ee=async Ke=>{if(!(!D||!D.installation)){j(!0);try{await Fa.update(D.installation.id,{date_installation:Ke});const we=[...p];we[w]={...D,installation:{...D.installation,date_installation:Ke}},g(we),V(!1)}catch(we){console.error("Erreur:",we),alert("Erreur lors de la mise  jour de la date")}finally{j(!1)}}},me=async()=>{if(!(!D||!D.installation||!re)){j(!0);try{await Fa.update(D.installation.id,{statut:"fait"});const Ke=[...p];Ke[w]={...D,installation:{...D.installation,statut:"fait"}},g(Ke),w<p.length-1&&y(w+1)}catch(Ke){console.error("Erreur:",Ke),alert("Erreur lors de la validation")}finally{j(!1)}}},P=()=>{Z&&t(`/installation/${Z}/signature`)};return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Installation"}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Slection"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Client"}),A.jsxs("select",{value:r,onChange:Ke=>{n(Ke.target.value),i(""),h([]),g([])},className:"input",children:[A.jsx("option",{value:"",children:"Slectionner un client"}),e==null?void 0:e.map(Ke=>A.jsx("option",{value:Ke.id,children:Ke.nom},Ke.id))]})]}),M&&A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Site"}),A.jsxs("select",{value:s,onChange:Ke=>{i(Ke.target.value),h([]),g([])},className:"input",disabled:!r,children:[A.jsx("option",{value:"",children:"Slectionner un site"}),G.map(Ke=>A.jsx("option",{value:Ke.id,children:Ke.nom},Ke.id))]})]})]})]}),oe&&p.length===0&&A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Relevs complts"}),Q?A.jsx("p",{className:"text-gray-500",children:"Chargement..."}):o.length===0?A.jsx("p",{className:"text-gray-500",children:"Aucun relev complt disponible"}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"space-y-2 mb-4",children:o.map(Ke=>{var we,Ye;return A.jsxs("label",{className:"flex items-start p-4 border rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:[A.jsx("input",{type:"checkbox",checked:c.includes(Ke.id),onChange:()=>ae(Ke.id),className:"mt-1 mr-3 h-5 w-5 text-blue-600 rounded focus:ring-blue-500"}),A.jsxs("div",{className:"flex-1",children:[A.jsx("div",{className:"font-medium",children:(we=Ke.armoire)==null?void 0:we.nom_armoire}),A.jsxs("div",{className:"text-sm text-gray-600",children:[hg(Ke.date_releve),((Ye=Ke.armoire)==null?void 0:Ye.zone)&&`  Zone: ${Ke.armoire.zone}`]})]})]},Ke.id)})}),A.jsxs("div",{className:"pt-4 border-t space-y-3",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:Se,disabled:c.length===o.length,className:"btn-secondary text-sm flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:"Tout slectionner"}),A.jsx("button",{onClick:ve,disabled:c.length===0,className:"btn-secondary text-sm flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:"Tout dslectionner"})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("p",{className:"text-sm text-gray-600",children:[c.length," relev",c.length>1?"s":""," slectionn",c.length>1?"s":""]}),A.jsx("button",{onClick:H,disabled:c.length===0,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Charger la slection"})]})]})]})]}),D&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"card bg-blue-50 border-blue-200",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h3",{className:"text-xl font-bold text-blue-900",children:"Installation en cours"}),((se=D.installation)==null?void 0:se.statut)==="fait"&&A.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[A.jsx(Gd,{className:"w-4 h-4 mr-1"}),"Installe"]})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Armoire"}),A.jsx("p",{className:"text-lg font-medium",children:(ce=D.releve.armoire)==null?void 0:ce.nom_armoire}),((fe=D.releve.armoire)==null?void 0:fe.zone)&&A.jsxs("p",{className:"text-sm text-gray-600",children:["Zone: ",D.releve.armoire.zone]})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Date d'installation"}),T?A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"date",defaultValue:(Te=D.installation)==null?void 0:Te.date_installation,onChange:Ke=>ee(Ke.target.value),className:"input",disabled:B}),A.jsx("button",{onClick:()=>V(!1),className:"btn-secondary text-sm",disabled:B,children:"Annuler"})]}):A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("p",{className:"text-lg font-medium",children:(ze=D.installation)!=null&&ze.date_installation?hg(D.installation.date_installation):"Non dfinie"}),A.jsx("button",{onClick:()=>V(!0),className:"btn-secondary text-sm",children:"Modifier"})]})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Systmes  installer"}),A.jsx("div",{className:"space-y-2",children:D.systemes.map((Ke,we)=>{var Ye;return A.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[A.jsxs("div",{className:"font-medium",children:[(Ye=uM.find(et=>et.value===Ke.modele))==null?void 0:Ye.label,"m (Quantit: ",Ke.quantite,")"]}),A.jsxs("div",{className:"text-gray-600 mt-1 space-x-3",children:[Ke.tube&&A.jsx("span",{children:" Tube"}),Ke.pressostat&&A.jsxs("span",{children:[" Pressostat ",Ke.pressostat_type]}),Ke.tete_sprinkler&&A.jsxs("span",{children:[" Ttes sprinkler: ",Ke.tete_sprinkler_quantite," (",Ke.tete_sprinkler_temperature,")"]}),Ke.sirene_flash&&A.jsx("span",{children:" Sirne/Flash"})]})]},we)})})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"font-semibold text-gray-900 mb-2",children:["Photos d'installation (",D.installationPhotos.length,")"]}),A.jsx("div",{className:"grid grid-cols-3 gap-2",children:D.installationPhotos.map((Ke,we)=>A.jsx("img",{src:Ke,alt:`Photo ${we+1}`,crossOrigin:"anonymous",className:"w-full h-32 object-cover rounded border-2 border-gray-200"},we))}),((_e=D.installation)==null?void 0:_e.statut)!=="fait"&&A.jsxs("button",{onClick:()=>S(!0),className:"btn-secondary mt-3 flex items-center space-x-2",children:[A.jsx(Au,{className:"w-5 h-5"}),A.jsx("span",{children:"Prendre une photo"})]})]})]}),((wt=D.installation)==null?void 0:wt.statut)!=="fait"&&A.jsx("div",{className:"mt-6 pt-6 border-t",children:A.jsxs("button",{onClick:me,disabled:!re||B,className:"btn-primary flex items-center space-x-2 w-full justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[A.jsx(Gd,{className:"w-5 h-5"}),A.jsx("span",{children:B?"Enregistrement...":"Marquer comme install"})]})})]}),A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("button",{onClick:()=>y(Math.max(0,w-1)),disabled:w===0,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[A.jsx(Gg,{className:"w-5 h-5"}),A.jsx("span",{children:"Prcdent"})]}),A.jsxs("div",{className:"text-center",children:[A.jsxs("p",{className:"text-sm text-gray-600",children:["Armoire ",w+1," sur ",p.length]}),!R&&p.length>1&&A.jsxs("button",{onClick:Ue,disabled:B,className:"btn-secondary mt-2 flex items-center space-x-2 mx-auto text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[A.jsx(Gd,{className:"w-4 h-4"}),A.jsx("span",{children:B?"Validation...":"Tout valider"})]}),R&&A.jsxs("button",{onClick:P,className:"btn-primary mt-2 flex items-center space-x-2 mx-auto",children:[A.jsx(nQ,{className:"w-5 h-5"}),A.jsx("span",{children:"Finaliser et Signer"})]})]}),A.jsxs("button",{onClick:()=>y(Math.min(p.length-1,w+1)),disabled:w>=p.length-1,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[A.jsx("span",{children:"Suivant"}),A.jsx(eQ,{className:"w-5 h-5"})]})]})})]}),F&&A.jsx(Zg,{onCapture:ue,onCancel:()=>S(!1)})]})}const dM=[{value:"RV0.5m3",label:"0.5"},{value:"RV1m3",label:"1"},{value:"RV1.5m3",label:"1.5"},{value:"RV2m3",label:"2"},{value:"RV2.5m3",label:"2.5"},{value:"RV3m3",label:"3"}];function fM(){const{siteId:t}=fu(),e=Us(),{user:r}=uo(),n=le.useRef(null),[s,i]=le.useState([]),[o,l]=le.useState(null),[c,h]=le.useState(!1),[p,g]=le.useState(!1),[w,y]=le.useState(""),[F,S]=le.useState(!0),[Q,_]=le.useState(!1),[B,j]=le.useState(null),[T,V]=le.useState(null),[K,G]=le.useState(!1);le.useEffect(()=>{M()},[t]);const M=async()=>{if(t){S(!0);try{const ue=await To.getById(t);if(j(ue),ue!=null&&ue.client_id){const $=await Xh.getById(ue.client_id);V($)}const ee=await gs.getBySiteId(t),me=[];for(const $ of ee){const se=await Fa.getByArmoireId($.id);if(se&&se.length>0){for(const ce of se)if(ce.statut==="fait"){const fe=await Jd.getByInstallationId(ce.id),Te=await vh.getByInstallationId(ce.id);me.push({installation:ce,armoire:$,systemes:fe,photos:Te.sort((ze,_e)=>ze.position-_e.position)})}}}i(me);const P=await dg.getBySiteId(t);l(P)}catch(ue){console.error("Erreur lors du chargement des installations:",ue)}finally{S(!1)}}},Z=async ue=>{if(t)try{const ee=await dg.create(t,ue,w||void 0);l(ee),h(!1),g(!1),y("")}catch(ee){console.error("Erreur lors de l'enregistrement de la signature:",ee),alert("Erreur lors de l'enregistrement de la signature")}},oe=()=>{g(!0)},D=()=>{if(!w.trim()){alert("Veuillez entrer le nom de la personne qui signe");return}g(!1),h(!0)},R=async()=>{if(!n.current)return null;try{return await Ua.exportToPDF(n.current,{fileName:`rapport-installation-${new Date().toISOString().split("T")[0]}.pdf`,title:"Rapport d'installation"})}catch(ue){return console.error("Erreur lors de la gnration du PDF:",ue),null}},re=async(ue="pdf")=>{if(n.current){_(!0),G(!1);try{let ee=null,me="";const P=`rapport-installation-${new Date().toISOString().split("T")[0]}`;switch(ue){case"pdf":ee=await Ua.exportToPDF(n.current,{fileName:`${P}.pdf`,title:"Rapport d'installation"}),me=`${P}.pdf`;break;case"html":ee=await Ua.exportToHTML(n.current,{fileName:`${P}.html`,title:"Rapport d'installation",description:`${s.length} armoire${s.length>1?"s":""}`}),me=`${P}.html`;break;case"docx":ee=await Ua.exportToDocx(n.current,{fileName:`${P}.docx`,title:"Rapport d'installation",description:`${s.length} armoire${s.length>1?"s":""}`}),me=`${P}.docx`;break}if(!ee){alert("Erreur lors de la gnration du document");return}await Ua.downloadFile(ee,me)}catch(ee){console.error("Erreur lors de l'export:",ee),alert("Erreur lors de l'export du document")}finally{_(!1)}}},ae=async()=>{var me;const ue=await R();if(!ue){alert("Erreur lors de la gnration du PDF");return}const ee=`rapport-installation-${new Date().toISOString().split("T")[0]}.pdf`;if(navigator.share&&((me=navigator.canShare)!=null&&me.call(navigator,{files:[new File([ue],ee)]}))){const P=new File([ue],ee,{type:"application/pdf"});try{await navigator.share({files:[P],title:"Rapport d'installation",text:`Rapport d'installation pour ${s.length} armoire${s.length>1?"s":""}`})}catch($){$.name!=="AbortError"&&console.error("Erreur lors du partage:",$)}}else{const P=URL.createObjectURL(ue),$=document.createElement("a");$.href=P,$.download=ee,$.click(),URL.revokeObjectURL(P),setTimeout(()=>{const se=encodeURIComponent("Rapport d'installation"),ce=encodeURIComponent(`Bonjour,

Veuillez trouver ci-joint le rapport d'installation pour ${s.length} armoire${s.length>1?"s":""}.

Cordialement

Note: Le fichier PDF a t tlcharg. Veuillez l'attacher manuellement  cet email.`);window.location.href=`mailto:?subject=${se}&body=${ce}`},500)}},Se=async()=>{var me;const ue=await R();if(!ue){alert("Erreur lors de la gnration du PDF");return}const ee=`rapport-installation-${new Date().toISOString().split("T")[0]}.pdf`;if(navigator.share&&((me=navigator.canShare)!=null&&me.call(navigator,{files:[new File([ue],ee)]}))){const P=new File([ue],ee,{type:"application/pdf"});try{await navigator.share({files:[P],title:"Rapport d'installation",text:`Rapport d'installation pour ${s.length} armoire${s.length>1?"s":""}`})}catch($){$.name!=="AbortError"&&console.error("Erreur lors du partage:",$)}}else{const P=URL.createObjectURL(ue),$=document.createElement("a");$.href=P,$.download=ee,$.click(),URL.revokeObjectURL(P),setTimeout(()=>{const se=encodeURIComponent(`Rapport d'installation
${s.length} armoire${s.length>1?"s":""}

Le document PDF a t tlcharg.`);window.open(`https://wa.me/?text=${se}`,"_blank")},500)}};if(F)return A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:A.jsx(lu,{className:"w-8 h-8 animate-spin text-primary-600"})});if(s.length===0)return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Rapport d'Installation"}),A.jsxs("div",{className:"card",children:[A.jsx("p",{className:"text-gray-500",children:"Aucune installation complte trouve pour ce site."}),A.jsx("button",{onClick:()=>e("/installation"),className:"btn-secondary mt-4",children:"Retour"})]})]});const ve=s.flatMap(ue=>ue.photos),H=3+Math.ceil(ve.length/12);return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Rapport d'Installation"}),A.jsxs("div",{ref:n,className:"space-y-6",children:[A.jsx("style",{dangerouslySetInnerHTML:{__html:`
          .pdf-page {
            max-width: 210mm;
            min-height: 297mm;
            margin: 0 auto;
            position: relative;
          }
          @media screen {
            .pdf-page {
              box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }
          }
          @media print {
            .pdf-page {
              page-break-after: always;
              margin: 0;
              box-shadow: none;
            }
            .pdf-avoid-break {
              page-break-inside: avoid;
              break-inside: avoid;
            }
          }
        `}}),A.jsxs("div",{className:"card bg-white overflow-hidden p-4 pdf-page",children:[A.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white px-4 py-3 -mx-4 -mt-4 mb-4 pdf-avoid-break",children:A.jsx("div",{className:"flex items-center justify-between",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center shadow-lg",children:A.jsx("span",{className:"text-orange-600 font-bold text-2xl",children:"R"})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl font-bold mb-0.5",children:"ReflexOFeu"}),A.jsx("p",{className:"text-xs text-orange-100",children:"Systmes d'Extinction FK-5-1-12"})]})]})})}),A.jsxs("div",{className:"text-center mb-3 pdf-avoid-break",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-0.5",children:"Rapport d'Installation"}),A.jsx("p",{className:"text-sm text-gray-700 mb-0.5",children:"Dtection Extinction Incendie"}),A.jsx("p",{className:"text-xs text-gray-600",children:"Protection professionnelle pour armoires lectriques"})]}),A.jsxs("div",{className:"border-l-4 border-orange-500 pl-4 mb-3 bg-gray-50 py-2 pdf-avoid-break",children:[A.jsx("h3",{className:"text-base font-bold text-slate-800 mb-1.5",children:"Descriptifs des installations :"}),A.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-1.5",children:"Systme de dtection extinction automatique modulaire"}),T&&A.jsxs(A.Fragment,{children:[A.jsxs("p",{className:"text-sm text-slate-700",children:[A.jsx("span",{className:"font-semibold",children:"Client:"})," ",T.nom]}),T.contact&&A.jsxs("p",{className:"text-sm text-slate-700",children:[A.jsx("span",{className:"font-semibold",children:"Contact:"})," ",T.contact]}),B&&A.jsxs("p",{className:"text-sm text-slate-700",children:[A.jsx("span",{className:"font-semibold",children:"Site:"})," ",B.nom]}),B&&A.jsxs("p",{className:"text-sm text-slate-700",children:[A.jsx("span",{className:"font-semibold",children:"Adresse:"})," ",B.adresse,", ",B.code_postal," ",B.ville]}),A.jsxs("p",{className:"text-sm text-slate-700",children:[A.jsx("span",{className:"font-semibold",children:"Date de l'installation:"})," ",s.length>0&&s[0].installation.date_installation?new Date(s[0].installation.date_installation).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):new Date().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[A.jsxs("div",{className:"pdf-avoid-break",children:[A.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1.5 border-b-2 border-orange-500 pb-0.5",children:"1. Demande formule de protection :"}),A.jsxs("div",{className:"space-y-1 text-xs",children:[A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"white",stroke:"#475569",strokeWidth:"2"})}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Armoire de commande"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"TGBT"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"white",stroke:"#475569",strokeWidth:"2"})}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Armoire condensateur"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"white",stroke:"#475569",strokeWidth:"2"})}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Machine usinage CNC"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"white",stroke:"#475569",strokeWidth:"2"})}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Stockage"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"white",stroke:"#475569",strokeWidth:"2"})}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Divers"})]})]})]}),A.jsxs("div",{className:"pdf-avoid-break",children:[A.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1.5 border-b-2 border-orange-500 pb-0.5",children:"2. lments fournis pour l'tude :"}),A.jsxs("div",{className:"space-y-1 text-xs",children:[A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"white",stroke:"#475569",strokeWidth:"2"})}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Plans"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Dimensions"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Descriptions"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Photos"})]})]})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[A.jsxs("div",{className:"pdf-avoid-break",children:[A.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1.5 border-b-2 border-orange-500 pb-0.5",children:"3. Agent extincteur :"}),A.jsxs("div",{className:"flex items-start gap-1.5 text-xs",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"FK-5-1-12"})]})]}),A.jsxs("div",{className:"pdf-avoid-break",children:[A.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1.5 border-b-2 border-orange-500 pb-0.5",children:"4. Classe de Feu :"}),A.jsxs("div",{className:"space-y-1 text-xs",children:[A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"white",stroke:"#475569",strokeWidth:"2"})}),A.jsx("span",{className:"text-slate-700 flex-1 leading-[1.4]",children:"Classe A : Matriaux solides avec formation de braises"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 flex-1 leading-[1.4]",children:"Classe B : Feux de liquides - Feux d'origine lectrique"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"white",stroke:"#475569",strokeWidth:"2"})}),A.jsx("span",{className:"text-slate-700 flex-1 leading-[1.4]",children:"Classe C : Feux de gaz"})]})]})]})]}),A.jsxs("div",{className:"mb-3 pdf-avoid-break",children:[A.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1.5 border-b-2 border-orange-500 pb-0.5",children:"5. Report d'activation :"}),A.jsx("p",{className:"text-xs text-slate-700 mb-2",children:"Tous les systmes Reflexofeu sont quips de pressostats afin de pouvoir activer la coupure d'nergie sur les armoires lectriques, moteurs... Le client se doit de vrifier la possibilit de relayer cette information."}),A.jsx("p",{className:"text-xs font-semibold text-slate-700 mb-1.5",children:"Besoins complmentaires client :"}),A.jsxs("div",{className:"space-y-1 text-xs",children:[s.some(ue=>ue.systemes.some(ee=>ee.pressostat&&ee.pressostat_type==="NO"))&&A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Pressostat NO"})]}),s.some(ue=>ue.systemes.some(ee=>ee.contact_nf_suppl))&&A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Pressostat supp. NF"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"white",stroke:"#475569",strokeWidth:"2"})}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Centrale technique"})]})]})]}),A.jsxs("div",{className:"pdf-avoid-break",children:[A.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1.5 border-b-2 border-orange-500 pb-0.5",children:"7. Principe d'extinction install :"}),A.jsx("p",{className:"text-xs text-slate-700 mb-2",children:"Systme de dtection et extinction prcoce sur armoire lectrique. Double dtection installe :"}),A.jsxs("div",{className:"pl-3 mb-2 text-xs text-slate-700",children:[A.jsx("p",{children:"- Tte  dclenchement thermique  68C"}),A.jsx("p",{children:"- Tube de dtection extinction install au plus prs des composants"})]}),A.jsxs("div",{className:"space-y-1 text-xs",children:[A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"FK-5-1-12 Agent extincteur"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Dtection au plus prs des composants"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Dtection via module de dtection thermique 68C"})]}),s.some(ue=>ue.systemes.some(ee=>ee.sirene_flash))&&A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsxs("svg",{className:"w-3.5 h-3.5 flex-shrink-0 mt-[0.15rem]",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("rect",{x:"2",y:"2",width:"10",height:"10",fill:"#475569",stroke:"#475569",strokeWidth:"2"}),A.jsx("path",{d:"M 4 7 L 6 9 L 10 5",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Sirne flash relie au contact sec"})]})]})]}),A.jsx("div",{className:"mt-4 pt-2 border-t border-gray-200 text-right",children:A.jsxs("p",{className:"text-xs text-gray-500",children:["1/",H]})})]}),A.jsxs("div",{className:"card bg-white overflow-hidden p-4 pdf-page",children:[A.jsxs("div",{className:"pdf-avoid-break",children:[A.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1.5 border-b-2 border-orange-500 pb-0.5",children:"8. Matriel propos :"}),A.jsx("p",{className:"text-xs text-slate-700 mb-2",children:"Systme de dtection extinction modulaire Reflexofeu avec tte sprinkler et quantit d'agent ncessaire en fonction du volume de chaque armoire et des ventilations en prsences. L'ensemble du systme est couvert par le certificat CE n19/FR/4225-0-REV0 du 03/06/2019, dlivr par l'organisme notifi CE 0029 APRAGAZ."}),A.jsx("div",{className:"mb-4"}),A.jsxs("div",{className:"bg-orange-50 p-2 rounded border border-orange-200 mb-2",children:[A.jsx("h5",{className:"font-semibold text-gray-800 text-xs mb-1.5",children:"Composants :"}),A.jsxs("div",{className:"space-y-2 text-xs text-slate-700",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold mb-0.5 text-xs",children:"Cylindre en acier avec revtement intrieur anti-corrosion"}),A.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"(Conforme  la Directive des Equipements sous-pression 2014/68/UE)"}),A.jsxs("div",{className:"pl-3 space-y-0.5 text-xs",children:[A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Pression de service : 14 bar"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Pression d'preuve : 27 bar"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Temprature d'utilisation : -30C / +60C"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Support de fixation en acier peint"})]})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold mb-0.5 text-xs",children:"Vanne de dcharge Inox 304 usine en France quipe de :"}),A.jsxs("div",{className:"pl-3 space-y-0.5 text-xs",children:[A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Manomtre de contrle visuel"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Valve Schraeder de pressurisation"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Connecteur avec soupape de contrle"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Tube plongeur souple pour utilisation Horizontale et/ou Verticale"})]})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold mb-0.5 text-xs",children:"Tube capillaire de dtection extinction :"}),A.jsxs("div",{className:"pl-3 space-y-0.5 text-xs",children:[A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Rsistance  une temprature ambiante de : 140C"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Pression de service : 14 bar"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Rupture au contact de la flamme ou  : 200C"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Fixation par support adhsif vissable et/ou par collier serre-cables"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Presse toupe IP64"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Embout de fin de ligne  griffe"})]})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold mb-0.5 text-xs",children:"Pressostat :"}),A.jsxs("div",{className:"pl-3 space-y-0.5 text-xs",children:[A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Certifi CE"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"IP54"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Normalement ouvert quand le systme est en veille"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Contact sec ferm au dclenchement du systme"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Autre version sur demande"})]})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold mb-0.5 text-xs",children:"Agent extincteur et propulseur :"}),A.jsxs("div",{className:"pl-3 space-y-0.5 text-xs",children:[A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"FK-5-1-12"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Azote N2"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"Quantit dfinie en fonction de la configuration de l'espace  protger"})]})]})]})]})]})]}),A.jsxs("div",{className:"mb-3 pdf-avoid-break",children:[A.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1.5 border-b-2 border-orange-500 pb-0.5",children:"9. Maintenance :"}),A.jsx("p",{className:"text-xs text-slate-700 mb-1.5",children:"Tous les 6 mois, veuillez  vous assurer que les systmes Reflexofeu sont en bon tat extrieur. Indicateur visuel en zone verte."}),A.jsx("p",{className:"text-xs text-slate-700",children:"Tous les ans, une vrification est faite par l'installateur de chaque systme."})]}),A.jsxs("div",{className:"pdf-avoid-break",children:[A.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1.5 border-b-2 border-orange-500 pb-0.5",children:"10. Dure de vie et garantie matriel :"}),A.jsxs("div",{className:"pl-3 text-xs text-slate-700 space-y-0.5",children:[A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"10 ans de validit pour le systme"})]}),A.jsxs("div",{className:"flex items-start gap-1.5",children:[A.jsx("span",{className:"text-slate-700 mt-[0.15rem]",children:""}),A.jsx("span",{className:"text-slate-700 leading-[1.4]",children:"1 an de garantie fabricant"})]})]})]}),A.jsx("div",{className:"mt-4 pt-2 border-t border-gray-200 text-right",children:A.jsxs("p",{className:"text-xs text-gray-500",children:["2/",H]})})]}),A.jsxs("div",{className:"card bg-white overflow-hidden p-4 pdf-page",children:[A.jsxs("div",{className:"border-t-2 border-orange-500 pt-3 mb-3 pdf-avoid-break",children:[A.jsx("h3",{className:"text-base font-bold text-gray-900 mb-2",children:"Liste des quipements protgs :"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-xs border-collapse",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-orange-500 text-white",children:[A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"Armoire"}),A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"Cylindres"}),A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Tube"}),A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Presso."}),A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Sprinkler"}),A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Sirne"}),A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Panneau"}),A.jsx("th",{className:"border border-gray-300 px-2 py-1 text-center",children:"Contact NF"})]})}),A.jsx("tbody",{children:s.map((ue,ee)=>{const{installation:me,armoire:P,systemes:$}=ue;return $.map((se,ce)=>{var ze;const fe=((ze=dM.find(_e=>_e.value===se.modele))==null?void 0:ze.label)||"?",Te=ce===0;return A.jsxs("tr",{className:"bg-white hover:bg-gray-50",children:[Te&&A.jsx("td",{className:"border border-gray-300 px-2 py-2 text-slate-900 font-semibold align-top",rowSpan:$.length,children:(P==null?void 0:P.nom_armoire)||`Armoire ${ee+1}`}),A.jsxs("td",{className:"border border-gray-300 px-2 py-1 text-slate-700",children:[se.quantite,"  RV",fe,"m"]}),A.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:se.tube?A.jsx("span",{className:"text-green-600 font-bold",children:""}):A.jsx("span",{className:"text-gray-300",children:"-"})}),A.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:se.pressostat?A.jsx("span",{className:"text-green-600 font-bold",title:se.pressostat_type||"",children:""}):A.jsx("span",{className:"text-gray-300",children:"-"})}),A.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:se.tete_sprinkler?A.jsxs("span",{className:"text-green-600 text-xs",title:`${se.tete_sprinkler_quantite} ttes  ${se.tete_sprinkler_temperature}C`,children:[se.tete_sprinkler_quantite,""]}):A.jsx("span",{className:"text-gray-300",children:"-"})}),A.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:se.sirene_flash?A.jsx("span",{className:"text-green-600 font-bold",children:""}):A.jsx("span",{className:"text-gray-300",children:"-"})}),A.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:se.panneau?A.jsx("span",{className:"text-green-600 font-bold",children:""}):A.jsx("span",{className:"text-gray-300",children:"-"})}),A.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:se.contact_nf_suppl?A.jsx("span",{className:"text-green-600 font-bold",children:""}):A.jsx("span",{className:"text-gray-300",children:"-"})})]},`${me.id}-${ce}`)})})})]})})]}),o&&A.jsxs("div",{className:"mt-3 pt-2 border-t border-orange-500 pdf-avoid-break",children:[A.jsx("h3",{className:"font-semibold text-gray-900 text-xs mb-1.5",children:"Signature Client :"}),o.signed_by&&A.jsxs("p",{className:"text-xs text-gray-700 mb-1.5",children:[A.jsx("span",{className:"font-semibold",children:"Nom du signataire:"})," ",o.signed_by]}),A.jsx("div",{className:"bg-white rounded p-1.5 inline-block border border-orange-300",children:A.jsx("img",{src:o.signature_data,alt:"Signature",className:"h-6 w-auto"})}),A.jsxs("p",{className:"text-xs text-gray-700 mt-1.5 font-medium",children:["Sign le ",new Date(o.signed_at).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]}),A.jsxs("div",{className:"border-t-2 border-orange-500 pt-3 mt-6 pdf-avoid-break",children:[A.jsxs("div",{className:"text-center mb-3",children:[A.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"REFLEXOFEU - SASU au capital de 3000.00  - L'rable 28250 Digny - France"}),A.jsx("p",{className:"text-xs text-gray-700 mb-1",children:"Siret : 84870209800015 - TVA : FR60848702098"}),A.jsxs("p",{className:"text-xs text-gray-700",children:[A.jsx("span",{className:"text-orange-600 font-medium",children:"www.reflexofeu.fr"})," / ",A.jsx("span",{className:"text-orange-600 font-medium",children:"contact@reflexofeu.fr"})]})]}),A.jsx("div",{className:"flex justify-center mb-2",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center shadow-lg",children:A.jsx("span",{className:"text-white font-bold text-xl",children:"R"})}),A.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["Reflex",A.jsx("span",{className:"text-orange-600",children:"O"}),"Feu"]})]})})]}),A.jsxs("div",{className:"mt-3 pt-2 border-t border-orange-200 text-center pdf-avoid-break",children:[A.jsx("p",{className:"text-xs text-gray-600",children:" 2024 Reflexofeu - Documentation Technique Systme FK-5-1-12"}),A.jsx("p",{className:"text-xs text-gray-600",children:"Document confidentiel - Usage rserv aux professionnels"})]}),A.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 text-right",children:A.jsxs("p",{className:"text-xs text-gray-500",children:["3/",H]})})]}),s.some(ue=>ue.photos.length>0)&&(()=>{const ue=s.flatMap(me=>me.photos),ee=[];for(let me=0;me<ue.length;me+=12)ee.push(ue.slice(me,me+12));return ee.map((me,P)=>A.jsxs("div",{className:"card bg-white p-4 pdf-page",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-2 border-b-2 border-orange-500 pdf-avoid-break",children:[A.jsx(Au,{className:"w-7 h-7 text-orange-600"}),A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Photos d'installation"})]}),A.jsx("div",{className:"grid grid-cols-4 gap-3",children:Array.from({length:12}).map(($,se)=>{const ce=me[se];return A.jsx("div",{className:"pdf-avoid-break",children:ce?A.jsx("img",{src:ce.url_photo,alt:`Photo ${se+1}`,crossOrigin:"anonymous",className:"w-full aspect-[3/4] object-cover rounded-lg border-2 border-orange-300 shadow-sm",onError:fe=>{const Te=fe.target;Te.style.display="none"}}):A.jsx("div",{className:"w-full aspect-[3/4] bg-gray-100 rounded-lg border-2 border-gray-200"})},se)})}),A.jsxs("div",{className:"mt-5 pt-3 border-t border-orange-200 text-center pdf-avoid-break",children:[A.jsx("p",{className:"text-xs text-gray-600",children:" 2024 Reflexofeu - Documentation Technique Systme FK-5-1-12"}),A.jsx("p",{className:"text-xs text-gray-600",children:"Document confidentiel - Usage rserv aux professionnels"})]}),A.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 text-right",children:A.jsxs("p",{className:"text-xs text-gray-500",children:[4+P,"/",H]})})]},P))})()]}),A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o?A.jsxs(A.Fragment,{children:[A.jsxs("button",{onClick:()=>e(`/installation/${t}/photos`),className:"btn-primary flex items-center justify-center space-x-2",children:[A.jsx(Au,{className:"w-5 h-5"}),A.jsx("span",{children:"Ajouter des photos"})]}),A.jsxs("div",{className:"relative flex-1",children:[A.jsx("button",{onClick:()=>G(!K),disabled:Q,className:"w-full btn-secondary flex items-center justify-center space-x-2 disabled:opacity-50",children:Q?A.jsxs(A.Fragment,{children:[A.jsx(lu,{className:"w-5 h-5 animate-spin"}),A.jsx("span",{children:"Exportation..."})]}):A.jsxs(A.Fragment,{children:[A.jsx(Zh,{className:"w-5 h-5"}),A.jsx("span",{children:"Tlcharger"})]})}),K&&!Q&&A.jsx("div",{className:"absolute top-full mt-2 w-full bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:A.jsxs("div",{className:"py-1",children:[A.jsxs("button",{onClick:()=>re("pdf"),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 border-b border-gray-100",children:[A.jsx(Ao,{className:"w-5 h-5 text-red-600"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-gray-900",children:"PDF"}),A.jsx("div",{className:"text-xs text-gray-500",children:"Format portable (qualit amliore)"})]})]}),A.jsxs("button",{onClick:()=>re("html"),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 border-b border-gray-100",children:[A.jsx(ax,{className:"w-5 h-5 text-blue-600"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-gray-900",children:"HTML"}),A.jsx("div",{className:"text-xs text-gray-500",children:"ditable dans Word (100% fidle)"})]})]}),A.jsxs("button",{onClick:()=>re("docx"),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3",children:[A.jsx(Ao,{className:"w-5 h-5 text-blue-800"}),A.jsxs("div",{children:[A.jsx("div",{className:"font-medium text-gray-900",children:"Word (DOCX)"}),A.jsx("div",{className:"text-xs text-gray-500",children:"Format Microsoft Word"})]})]})]})})]}),A.jsxs("button",{onClick:ae,className:"btn-secondary flex items-center justify-center space-x-2",children:[A.jsx(ox,{className:"w-5 h-5"}),A.jsx("span",{children:"Email"})]}),A.jsxs("button",{onClick:Se,className:"btn-secondary flex items-center justify-center space-x-2",children:[A.jsx(Ax,{className:"w-5 h-5"}),A.jsx("span",{children:"WhatsApp"})]})]}):A.jsxs("button",{onClick:oe,className:"btn-primary flex items-center justify-center space-x-2",children:[A.jsx(Gc,{className:"w-5 h-5"}),A.jsx("span",{children:"Signer le rapport"})]}),A.jsx("button",{onClick:()=>e("/installation"),className:"btn-secondary",children:"Retour"})]})}),p&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[A.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[A.jsx(cx,{className:"w-6 h-6"}),"Informations du signataire"]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom et prnom de la personne qui signe le rapport"}),A.jsx("input",{type:"text",value:w,onChange:ue=>y(ue.target.value),placeholder:"Ex: Jean Dupont",className:"input w-full",autoFocus:!0,onKeyPress:ue=>{ue.key==="Enter"&&D()}}),A.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Cette personne doit tre le contact client ou une personne autorise"})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:()=>{g(!1),y("")},className:"btn-secondary flex-1",children:"Annuler"}),A.jsx("button",{onClick:D,disabled:!w.trim(),className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuer"})]})]})}),c&&A.jsx(Yf,{onSave:Z,onCancel:()=>{h(!1),g(!0)}})]})}function pM(){const{siteId:t}=fu(),e=Us(),r=le.useRef(null),[n,s]=le.useState([]),[i,o]=le.useState(!1),[l,c]=le.useState(!0),[h,p]=le.useState(!1);le.useEffect(()=>{g()},[t]);const g=async()=>{if(t){c(!0);try{const S=await gs.getBySiteId(t),Q=[];for(const _ of S){const B=await Fa.getByArmoireId(_.id);if(B&&B.length>0){for(const j of B)if(j.statut==="fait"){const T=await vh.getByInstallationId(j.id);Q.push({installation:j,armoire:_,photos:T.sort((V,K)=>V.position-K.position)})}}}s(Q)}catch(S){console.error("Erreur lors du chargement des installations:",S)}finally{c(!1)}}},w=async S=>{if(n.length!==0)try{const Q=await fetch(S).then(V=>V.blob()),_=new File([Q],`photo-${Date.now()}.jpg`,{type:"image/jpeg"}),B=await WA(_,"installation-photos");if(!B){alert("Erreur lors de la sauvegarde de la photo");return}const j=n[0],T=j.photos.length+1;await vh.create({installation_id:j.installation.id,url_photo:B,position:T}),await g(),o(!1)}catch(Q){console.error("Erreur lors de la capture photo:",Q),alert("Erreur lors de la sauvegarde de la photo")}},y=async S=>{const Q=S.target.files;if(!(!Q||Q.length===0||n.length===0)){p(!0);try{const _=n[0];let B=_.photos.length;for(const j of Array.from(Q)){if(!j.type.startsWith("image/"))continue;const T=await WA(j,"installation-photos");T&&(B+=1,await vh.create({installation_id:_.installation.id,url_photo:T,position:B}))}await g(),r.current&&(r.current.value="")}catch(_){console.error("Erreur lors du tlchargement des photos:",_),alert("Erreur lors du tlchargement des photos")}finally{p(!1)}}},F=n.reduce((S,Q)=>S+Q.photos.length,0);return l?A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:A.jsx("div",{className:"text-gray-600",children:"Chargement..."})}):A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("button",{onClick:()=>e(`/installation/${t}/signature`),className:"btn-secondary flex items-center space-x-2",children:[A.jsx(Gg,{className:"w-5 h-5"}),A.jsx("span",{children:"Retour"})]}),A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Photos aprs installation sur site"})]}),A.jsxs("div",{className:"card bg-blue-50 border-blue-200",children:[A.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Annexe au rapport d'installation"}),A.jsx("p",{className:"text-gray-700 mb-4",children:"Ajoutez des photos complmentaires qui seront intgres au rapport d'installation. Ces photos seront affiches en fin de rapport (maximum 8 par page A4)."}),A.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[A.jsx(lg,{className:"w-5 h-5 text-green-600"}),A.jsxs("span",{children:[n.length," installation",n.length>1?"s":""," complte",n.length>1?"s":""]})]}),A.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[A.jsx(lg,{className:"w-5 h-5 text-green-600"}),A.jsxs("span",{children:[F," photo",F>1?"s":""," ajoute",F>1?"s":""]})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Galerie de photos"}),n.length>0&&n[0].photos.length>0?A.jsx("div",{className:"grid grid-cols-2 gap-4",children:n[0].photos.map((S,Q)=>A.jsx("div",{className:"bg-gray-100 rounded border-2 border-gray-200 flex items-center justify-center",style:{aspectRatio:"3/4"},children:A.jsx("img",{src:S.url_photo,alt:`Photo ${Q+1}`,crossOrigin:"anonymous",className:"w-full h-full object-contain rounded"})},S.id))}):A.jsx("p",{className:"text-gray-500 text-sm",children:"Aucune photo ajoute"}),A.jsxs("div",{className:"mt-6 pt-6 border-t",children:[A.jsx("input",{ref:r,type:"file",accept:"image/*",multiple:!0,onChange:y,className:"hidden"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("button",{onClick:()=>o(!0),disabled:h,className:"btn-primary flex items-center space-x-2 justify-center disabled:opacity-50",children:[A.jsx(Au,{className:"w-5 h-5"}),A.jsx("span",{children:"Prendre une photo"})]}),A.jsxs("button",{onClick:()=>{var S;return(S=r.current)==null?void 0:S.click()},disabled:h,className:"btn-secondary flex items-center space-x-2 justify-center disabled:opacity-50",children:[A.jsx(Zf,{className:"w-5 h-5"}),A.jsx("span",{children:h?"Envoi en cours...":"Slectionner des photos"})]})]}),A.jsx("p",{className:"text-sm text-gray-600 mt-2 text-center",children:"Les photos seront ajoutes en annexe du rapport d'installation"})]})]}),i&&A.jsx(Zg,{onCapture:w,onCancel:()=>o(!1)})]})}const mM=[{value:"RV0.5m3",label:"0.5"},{value:"RV1m3",label:"1"},{value:"RV1.5m3",label:"1.5"},{value:"RV2m3",label:"2"},{value:"RV2.5m3",label:"2.5"},{value:"RV3m3",label:"3"}];function gM(){var j;const t=Us(),{data:e}=hc(),[r,n]=le.useState(""),[s,i]=le.useState(""),[o,l]=le.useState([]),[c,h]=le.useState(""),[p,g]=le.useState(!1),[w,y]=le.useState(null),F=e==null?void 0:e.find(T=>T.id===r),S=(F==null?void 0:F.sites)||[],Q=(F==null?void 0:F.multi_site)??!1,_=Q?s:((j=S[0])==null?void 0:j.id)||"",B=r&&_;return le.useEffect(()=>{(async()=>{if(_){g(!0);try{const K=(await gs.getBySiteId(_)).map(oe=>ms.getByArmoireId(oe.id)),M=(await Promise.all(K)).flat(),Z=await Promise.all(M.map(async oe=>{const D=await ta.getByReleveId(oe.id),re=(await Io.getByReleveId(oe.id)).sort((ae,Se)=>ae.position-Se.position)[0];return{...oe,systemes:D,firstPhoto:re}}));l(Z)}catch(V){console.error("Erreur lors du chargement des relevs:",V)}finally{g(!1)}}})(),h("")},[_]),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Vrification"}),A.jsxs("button",{onClick:()=>t("/verification/new"),className:"btn-primary flex items-center space-x-2",children:[A.jsx(so,{className:"w-5 h-5"}),A.jsx("span",{children:"Nouvelle Vrification"})]})]}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recherche"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Client"}),A.jsxs("select",{value:r,onChange:T=>{n(T.target.value),i("")},className:"input",children:[A.jsx("option",{value:"",children:"Slectionner un client"}),e==null?void 0:e.map(T=>A.jsx("option",{value:T.id,children:T.nom},T.id))]})]}),Q&&A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Site"}),A.jsxs("select",{value:s,onChange:T=>i(T.target.value),className:"input",disabled:!r,children:[A.jsx("option",{value:"",children:"Slectionner un site"}),S.map(T=>A.jsx("option",{value:T.id,children:T.nom},T.id))]})]})]}),B&&A.jsxs("div",{className:"mt-4",children:[A.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Slectionner une installation"}),p&&A.jsx("div",{className:"text-center py-8",children:A.jsx("p",{className:"text-gray-500",children:"Chargement des installations..."})}),!p&&o.length===0&&A.jsx("div",{className:"text-center py-8",children:A.jsx("p",{className:"text-gray-500",children:"Aucune installation disponible pour ce site"})}),!p&&o.length>0&&A.jsx("div",{className:"space-y-4",children:(()=>{const T=o.reduce((V,K)=>{const G=new Date(K.date_releve).toLocaleDateString("fr-FR");return V[G]||(V[G]=[]),V[G].push(K),V},{});return Object.entries(T).map(([V,K])=>A.jsxs("div",{className:"border rounded-lg bg-white",children:[A.jsxs("button",{type:"button",onClick:()=>y(w===V?null:V),className:"w-full flex items-center justify-between text-left hover:bg-gray-50 transition-colors p-4 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(mh,{className:"w-6 h-6 text-primary-600"}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Installation du ",V]}),A.jsxs("p",{className:"text-sm text-gray-600",children:[K.length," armoire",K.length>1?"s":""]})]})]}),w===V?A.jsx(Mh,{className:"w-6 h-6 text-gray-400"}):A.jsx(Dh,{className:"w-6 h-6 text-gray-400"})]}),w===V&&A.jsx("div",{className:"px-4 pb-4 space-y-3 border-t pt-4",children:K.map(G=>{var oe,D,R,re,ae,Se,ve,Ue,H,ue;const M=(oe=G.armoire)!=null&&oe.hauteur&&((D=G.armoire)!=null&&D.longueur)&&((R=G.armoire)!=null&&R.profondeur)?(G.armoire.hauteur*G.armoire.longueur*G.armoire.profondeur).toFixed(2):((ae=(re=G.armoire)==null?void 0:re.volume)==null?void 0:ae.toString())||"-",Z=G.systemes.length>0?G.systemes.map(ee=>{var P;return`${((P=mM.find($=>$.value===ee.modele))==null?void 0:P.label)||ee.modele}m (x${ee.quantite})`}).join(", "):"Aucun systme";return A.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${c===G.id?"bg-blue-50 border-blue-500 shadow-md":"bg-white hover:bg-gray-50 border-gray-300 hover:shadow-md"}`,onClick:()=>h(G.id),children:A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"flex-shrink-0 w-20 h-20",children:G.firstPhoto?A.jsx("img",{src:G.firstPhoto.url_photo,alt:"Photo armoire",crossOrigin:"anonymous",className:"w-full h-full object-cover rounded-lg border-2 border-gray-200",onError:ee=>{const me=ee.target;me.style.display="none"}}):A.jsx("div",{className:"w-full h-full bg-gray-100 rounded-lg border-2 border-gray-200 flex items-center justify-center",children:A.jsx($g,{className:"w-8 h-8 text-gray-400"})})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("h4",{className:"font-bold text-gray-900 text-lg mb-1",children:[((Se=G.armoire)==null?void 0:Se.nom_armoire)||"Armoire sans nom",((ve=G.armoire)==null?void 0:ve.zone)&&A.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-600",children:["(Zone: ",G.armoire.zone,")"]})]}),A.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm",children:[A.jsxs("span",{className:"font-medium text-gray-700",children:["L: ",((Ue=G.armoire)==null?void 0:Ue.longueur)||"-","m"]}),A.jsxs("span",{className:"font-medium text-gray-700",children:["H: ",((H=G.armoire)==null?void 0:H.hauteur)||"-","m"]}),A.jsxs("span",{className:"font-medium text-gray-700",children:["P: ",((ue=G.armoire)==null?void 0:ue.profondeur)||"-","m"]}),A.jsxs("span",{className:"font-bold text-primary-600",children:["V: ",M,"m"]})]}),A.jsxs("div",{className:"mt-1 text-sm text-gray-700",children:[A.jsx("span",{className:"font-medium",children:"Systme:"})," ",A.jsx("span",{className:"text-blue-700",children:Z})]})]}),c===G.id&&A.jsx("div",{className:"flex-shrink-0",children:A.jsx("div",{className:"text-blue-600 font-bold",children:"Slectionn"})})]})},G.id)})})]},V))})()})]})]})]})}const vM=[{value:"RV0.5m3",label:"0.5"},{value:"RV1m3",label:"1"},{value:"RV1.5m3",label:"1.5"},{value:"RV2m3",label:"2"},{value:"RV2.5m3",label:"2.5"},{value:"RV3m3",label:"3"}],yM=["57","68","79"];function wM(){var Ue;const t=Us(),{data:e}=hc(),[r,n]=le.useState(""),[s,i]=le.useState(""),[o,l]=le.useState(new Date().toISOString().split("T")[0]),[c,h]=le.useState([]),[p,g]=le.useState(!1),[w,y]=le.useState(!1),[F,S]=le.useState(null),[Q,_]=le.useState(null),B=le.useRef({}),j=e==null?void 0:e.find(H=>H.id===r),T=(j==null?void 0:j.sites)||[],V=(j==null?void 0:j.multi_site)??!1,K=V?s:((Ue=T[0])==null?void 0:Ue.id)||"",G=()=>{const H=`temp-${Date.now()}`;h([...c,{tempId:H,nom_armoire:"",zone:"",systemes:[],photos:[],commentaire:"",expanded:!0}]),_(H)};le.useEffect(()=>{if(Q&&B.current[Q]){const H=B.current[Q];setTimeout(()=>{H==null||H.scrollIntoView({behavior:"smooth",block:"center"}),H==null||H.focus()},100),_(null)}},[Q,c]);const M=H=>{h(c.filter(ue=>ue.tempId!==H))},Z=(H,ue,ee)=>{h(c.map(me=>me.tempId===H?{...me,[ue]:ee}:me))},oe=H=>{const ue=c.find(me=>me.tempId===H);if(!ue)return;const ee={modele:"RV1m3",quantite:1,tube:!0,pressostat:!0,pressostat_type:"NO/NF",pressostat_quantite:1,tete_sprinkler:!0,tete_sprinkler_quantite:1,tete_sprinkler_temperature:"68",sirene_flash:!1,sirene_flash_quantite:1,panneau:!1,contact_nf_suppl:!1,pression_ok:!0,etat_tube:"Bon",tete_sprinkler_ok:!0,sirene_flash_ok:!0,batterie_changee:!0,etat_environnement:[],etat_environnement_autre:""};Z(H,"systemes",[...ue.systemes,ee])},D=(H,ue)=>{const ee=c.find(P=>P.tempId===H);if(!ee)return;const me=ee.systemes.filter((P,$)=>$!==ue);Z(H,"systemes",me)},R=(H,ue,ee,me)=>{const P=c.find(se=>se.tempId===H);if(!P)return;const $=P.systemes.map((se,ce)=>ce===ue?{...se,[ee]:me}:se);Z(H,"systemes",$)},re=async H=>{if(F!==null)try{const ee=await(await fetch(H)).blob(),me=new File([ee],`photo-${Date.now()}.jpg`,{type:"image/jpeg"}),P=await WA(me,"verification-photos");if(!P){alert("Erreur lors de la sauvegarde de la photo");return}const $=c[F];Z($.tempId,"photos",[...$.photos,P]),y(!1),S(null)}catch(ue){console.error("Erreur lors de la capture photo:",ue),alert("Erreur lors de la sauvegarde de la photo")}},ae=async(H,ue)=>{const ee=ue.target.files;if(!(!ee||ee.length===0))try{const me=Array.from(ee).map(async ce=>await WA(ce,"verification-photos")),$=(await Promise.all(me)).filter(ce=>ce!==null),se=c.find(ce=>ce.tempId===H);se&&Z(H,"photos",[...se.photos,...$])}catch(me){console.error("Erreur lors de l'upload des photos:",me),alert("Erreur lors de l'upload des photos")}},Se=(H,ue)=>{const ee=c.find(P=>P.tempId===H);if(!ee)return;const me=ee.photos.filter((P,$)=>$!==ue);Z(H,"photos",me)},ve=async H=>{if(H.preventDefault(),!K){alert("Veuillez slectionner un client et un site");return}if(c.length===0){alert("Veuillez ajouter au moins une armoire");return}for(const ue of c){if(!ue.nom_armoire.trim()){alert("Veuillez renseigner le nom de toutes les armoires");return}if(ue.systemes.length===0){alert(`L'armoire "${ue.nom_armoire}" doit avoir au moins un systme`);return}}g(!0);try{const ue=crypto.randomUUID();for(const ee of c){let me=await gs.getBySiteAndName(K,ee.nom_armoire);me||(me=await gs.create({site_id:K,nom_armoire:ee.nom_armoire,zone:ee.zone||void 0,ventilation:!1}));const P=await Hh.create({armoire_id:me.id,date_verification:o,statut:"fait",commentaire:ee.commentaire||void 0,session_id:ue});for(const $ of ee.systemes)await nN.create({verification_id:P.id,modele:$.modele,quantite:$.quantite,tube:$.tube,pressostat:$.pressostat,pressostat_type:$.pressostat_type,pressostat_quantite:$.pressostat?$.pressostat_quantite:void 0,tete_sprinkler:$.tete_sprinkler,tete_sprinkler_quantite:$.tete_sprinkler_quantite,tete_sprinkler_temperature:$.tete_sprinkler_temperature,sirene_flash:$.sirene_flash,sirene_flash_quantite:$.sirene_flash?$.sirene_flash_quantite:void 0,panneau:$.panneau,contact_nf_suppl:$.contact_nf_suppl,pression_ok:$.pression_ok,etat_tube:$.etat_tube,tete_sprinkler_ok:$.tete_sprinkler_ok,sirene_flash_ok:$.sirene_flash_ok,batterie_changee:$.batterie_changee,etat_environnement:$.etat_environnement.length>0?$.etat_environnement:void 0,etat_environnement_autre:$.etat_environnement_autre||void 0});for(let $=0;$<ee.photos.length;$++)await sN.create({verification_id:P.id,url_photo:ee.photos[$],position:$+1})}t(`/verification/signature/${ue}`)}catch(ue){console.error("Erreur lors de la sauvegarde:",ue),alert("Erreur lors de la sauvegarde de la vrification"),g(!1)}};return w&&F!==null?A.jsx(Zg,{onCapture:re,onCancel:()=>{y(!1),S(null)}}):A.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[A.jsx("div",{className:"flex items-center justify-between",children:A.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nouvelle Vrification"})}),A.jsxs("form",{onSubmit:ve,className:"space-y-6",children:[A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Slection Client"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Client *"}),A.jsxs("select",{value:r,onChange:H=>{n(H.target.value),i("")},className:"input",required:!0,children:[A.jsx("option",{value:"",children:"Slectionner un client"}),e==null?void 0:e.map(H=>A.jsx("option",{value:H.id,children:H.nom},H.id))]})]}),V&&A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Site *"}),A.jsxs("select",{value:s,onChange:H=>i(H.target.value),className:"input",required:!0,children:[A.jsx("option",{value:"",children:"Slectionner un site"}),T.map(H=>A.jsx("option",{value:H.id,children:H.nom},H.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Date de vrification *"}),A.jsx("input",{type:"date",value:o,onChange:H=>l(H.target.value),className:"input",required:!0})]})]})]}),c.map((H,ue)=>A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("button",{type:"button",onClick:()=>Z(H.tempId,"expanded",!H.expanded),className:"p-1 hover:bg-gray-100 rounded",children:H.expanded?A.jsx(Mh,{className:"w-5 h-5"}):A.jsx(Dh,{className:"w-5 h-5"})}),A.jsxs("h3",{className:"text-lg font-semibold",children:["Armoire ",ue+1," ",H.nom_armoire&&`- ${H.nom_armoire}`]})]}),A.jsx("button",{type:"button",onClick:()=>M(H.tempId),className:"text-red-600 hover:text-red-800",children:A.jsx(VA,{className:"w-5 h-5"})})]}),H.expanded&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Nom de l'armoire *"}),A.jsx("input",{ref:ee=>B.current[H.tempId]=ee,type:"text",value:H.nom_armoire,onChange:ee=>Z(H.tempId,"nom_armoire",ee.target.value),className:"input",placeholder:"ex: A1, B2, Local Technique...",required:!0})]}),A.jsx("div",{children:A.jsx(tN,{value:H.zone,onChange:ee=>Z(H.tempId,"zone",ee),label:"Zone"})})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsxs("h4",{className:"font-semibold",children:["Systmes (",H.systemes.length,")"]}),A.jsxs("button",{type:"button",onClick:()=>oe(H.tempId),className:"btn-secondary text-sm flex items-center space-x-1",children:[A.jsx(so,{className:"w-4 h-4"}),A.jsx("span",{children:"Ajouter systme"})]})]}),H.systemes.length===0&&A.jsx("p",{className:"text-sm text-gray-500 italic",children:"Aucun systme ajout"}),H.systemes.map((ee,me)=>A.jsxs("div",{className:"border rounded-lg p-4 space-y-3 mb-3",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("h5",{className:"font-medium",children:["Systme ",me+1]}),A.jsx("button",{type:"button",onClick:()=>D(H.tempId,me),className:"text-red-600 hover:text-red-800",children:A.jsx(VA,{className:"w-4 h-4"})})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Modle (m)"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:vM.map(P=>A.jsx("button",{type:"button",onClick:()=>R(H.tempId,me,"modele",P.value),className:`px-4 py-2 rounded-lg font-medium transition-colors ${ee.modele===P.value?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:P.label},P.value))})]}),A.jsx("div",{children:A.jsx(uA,{value:ee.quantite,onChange:P=>R(H.tempId,me,"quantite",P),label:"Quantit",min:1,max:8})})]}),A.jsxs("div",{className:"border-t pt-3 space-y-3",children:[A.jsx("h6",{className:"text-sm font-medium text-gray-700",children:"Produits supplmentaires"}),A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:`tube-${H.tempId}-${me}`,checked:ee.tube,onChange:P=>R(H.tempId,me,"tube",P.target.checked),className:"mr-2 h-4 w-4 text-primary-600 rounded"}),A.jsx("label",{htmlFor:`tube-${H.tempId}-${me}`,className:"text-sm font-medium",children:"Tube"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:`pressostat-${H.tempId}-${me}`,checked:ee.pressostat,onChange:P=>R(H.tempId,me,"pressostat",P.target.checked),className:"mr-2 h-4 w-4 text-primary-600 rounded"}),A.jsx("label",{htmlFor:`pressostat-${H.tempId}-${me}`,className:"text-sm font-medium",children:"Pressostat NO/NF"})]}),ee.pressostat&&A.jsxs("div",{className:"ml-6 space-y-2",children:[A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{type:"button",onClick:()=>R(H.tempId,me,"pressostat_type","NO"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${ee.pressostat_type==="NO"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:"NO"}),A.jsx("button",{type:"button",onClick:()=>R(H.tempId,me,"pressostat_type","NO/NF"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${ee.pressostat_type==="NO/NF"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:"NO/NF"})]}),A.jsx(uA,{value:ee.pressostat_quantite,onChange:P=>R(H.tempId,me,"pressostat_quantite",P),label:"Quantit",min:1,max:8})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:`tete-${H.tempId}-${me}`,checked:ee.tete_sprinkler,onChange:P=>R(H.tempId,me,"tete_sprinkler",P.target.checked),className:"mr-2 h-4 w-4 text-primary-600 rounded"}),A.jsx("label",{htmlFor:`tete-${H.tempId}-${me}`,className:"text-sm font-medium",children:"Tte sprinkler"})]}),ee.tete_sprinkler&&A.jsxs("div",{className:"ml-6 space-y-2",children:[A.jsx("div",{children:A.jsx(uA,{value:ee.tete_sprinkler_quantite,onChange:P=>R(H.tempId,me,"tete_sprinkler_quantite",P),label:"Quantit",min:1,max:8})}),A.jsxs("div",{children:[A.jsx("label",{className:"label text-sm",children:"Temprature (C)"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:yM.map(P=>A.jsx("button",{type:"button",onClick:()=>R(H.tempId,me,"tete_sprinkler_temperature",P),className:`px-3 py-1 rounded-lg font-medium transition-colors ${ee.tete_sprinkler_temperature===P?P==="68"?"bg-blue-600 text-white":"bg-primary-600 text-white":P==="68"?"bg-blue-100 text-blue-900 hover:bg-blue-200 border border-blue-300":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300"}`,children:P},P))})]})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:`sirene-${H.tempId}-${me}`,checked:ee.sirene_flash,onChange:P=>R(H.tempId,me,"sirene_flash",P.target.checked),className:"mr-2 h-4 w-4 text-primary-600 rounded"}),A.jsx("label",{htmlFor:`sirene-${H.tempId}-${me}`,className:"text-sm font-medium",children:"Sirne flash"})]}),ee.sirene_flash&&A.jsx("div",{className:"ml-6",children:A.jsx(uA,{value:ee.sirene_flash_quantite,onChange:P=>R(H.tempId,me,"sirene_flash_quantite",P),label:"Quantit",min:1,max:8})})]}),A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:`panneau-${H.tempId}-${me}`,checked:ee.panneau,onChange:P=>R(H.tempId,me,"panneau",P.target.checked),className:"mr-2 h-4 w-4 text-primary-600 rounded"}),A.jsx("label",{htmlFor:`panneau-${H.tempId}-${me}`,className:"text-sm font-medium",children:"Panneau"})]}),A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",id:`contact-${H.tempId}-${me}`,checked:ee.contact_nf_suppl,onChange:P=>R(H.tempId,me,"contact_nf_suppl",P.target.checked),className:"mr-2 h-4 w-4 text-primary-600 rounded"}),A.jsx("label",{htmlFor:`contact-${H.tempId}-${me}`,className:"text-sm font-medium",children:"Contact NF Suppl."})]})]}),A.jsxs("div",{className:"border-t pt-3 mt-3",children:[A.jsx("h6",{className:"font-medium text-sm mb-3",children:"Contrles de Vrification"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label text-sm",children:"Pression OK"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"radio",checked:ee.pression_ok===!0,onChange:()=>R(H.tempId,me,"pression_ok",!0),className:"mr-2"}),A.jsx("span",{className:"text-sm",children:"Oui"})]}),A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"radio",checked:ee.pression_ok===!1,onChange:()=>R(H.tempId,me,"pression_ok",!1),className:"mr-2"}),A.jsx("span",{className:"text-sm",children:"Non"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label text-sm",children:"tat du tube"}),A.jsxs("select",{value:ee.etat_tube,onChange:P=>R(H.tempId,me,"etat_tube",P.target.value),className:"input text-sm",children:[A.jsx("option",{value:"Bon",children:"Bon"}),A.jsx("option",{value:"Pinc",children:"Pinc"}),A.jsx("option",{value:"Dfectueux",children:"Dfectueux"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label text-sm",children:"Tte sprinkler OK"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"radio",checked:ee.tete_sprinkler_ok===!0,onChange:()=>R(H.tempId,me,"tete_sprinkler_ok",!0),className:"mr-2"}),A.jsx("span",{className:"text-sm",children:"Oui"})]}),A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"radio",checked:ee.tete_sprinkler_ok===!1,onChange:()=>R(H.tempId,me,"tete_sprinkler_ok",!1),className:"mr-2"}),A.jsx("span",{className:"text-sm",children:"Non"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label text-sm",children:"Sirne flash OK"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"radio",checked:ee.sirene_flash_ok===!0,onChange:()=>R(H.tempId,me,"sirene_flash_ok",!0),className:"mr-2"}),A.jsx("span",{className:"text-sm",children:"Oui"})]}),A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"radio",checked:ee.sirene_flash_ok===!1,onChange:()=>R(H.tempId,me,"sirene_flash_ok",!1),className:"mr-2"}),A.jsx("span",{className:"text-sm",children:"Non"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label text-sm",children:"Batterie sirne flash change"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"radio",checked:ee.batterie_changee===!0,onChange:()=>R(H.tempId,me,"batterie_changee",!0),className:"mr-2"}),A.jsx("span",{className:"text-sm",children:"Oui"})]}),A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"radio",checked:ee.batterie_changee===!1,onChange:()=>R(H.tempId,me,"batterie_changee",!1),className:"mr-2"}),A.jsx("span",{className:"text-sm",children:"Non"})]})]})]}),A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"label text-sm",children:"tat gnral de l'environnement du systme"}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex flex-wrap gap-3",children:[A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",checked:ee.etat_environnement.includes("Poussire"),onChange:P=>{const $=P.target.checked?[...ee.etat_environnement,"Poussire"]:ee.etat_environnement.filter(se=>se!=="Poussire");R(H.tempId,me,"etat_environnement",$)},className:"mr-2"}),A.jsx("span",{className:"text-sm",children:"Poussire"})]}),A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",checked:ee.etat_environnement.includes("Corrosion"),onChange:P=>{const $=P.target.checked?[...ee.etat_environnement,"Corrosion"]:ee.etat_environnement.filter(se=>se!=="Corrosion");R(H.tempId,me,"etat_environnement",$)},className:"mr-2"}),A.jsx("span",{className:"text-sm",children:"Corrosion"})]}),A.jsxs("label",{className:"flex items-center",children:[A.jsx("input",{type:"checkbox",checked:ee.etat_environnement.includes("Autre"),onChange:P=>{const $=P.target.checked?[...ee.etat_environnement,"Autre"]:ee.etat_environnement.filter(se=>se!=="Autre");R(H.tempId,me,"etat_environnement",$)},className:"mr-2"}),A.jsx("span",{className:"text-sm",children:"Autre"})]})]}),ee.etat_environnement.includes("Autre")&&A.jsx("input",{type:"text",value:ee.etat_environnement_autre,onChange:P=>R(H.tempId,me,"etat_environnement_autre",P.target.value),className:"input text-sm",placeholder:"Prciser..."})]})]})]})]})]},me))]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"font-semibold mb-2",children:["Photos (",H.photos.length,")"]}),A.jsx("div",{className:"grid grid-cols-3 gap-3 mb-3",children:H.photos.map((ee,me)=>A.jsxs("div",{className:"relative",children:[A.jsx("img",{src:ee,alt:`Photo ${me+1}`,crossOrigin:"anonymous",className:"w-full h-32 object-cover rounded border-2 border-gray-200"}),A.jsx("button",{type:"button",onClick:()=>Se(H.tempId,me),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full hover:bg-red-700",children:A.jsx(VA,{className:"w-3 h-3"})})]},me))}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("button",{type:"button",onClick:()=>{S(ue),y(!0)},className:"btn-secondary text-sm flex items-center space-x-1",children:[A.jsx(Au,{className:"w-4 h-4"}),A.jsx("span",{children:"Prendre une photo"})]}),A.jsxs("label",{className:"btn-secondary text-sm flex items-center space-x-1 cursor-pointer",children:[A.jsx(Zf,{className:"w-4 h-4"}),A.jsx("span",{children:"Ajouter des fichiers"}),A.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:ee=>ae(H.tempId,ee),className:"hidden"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Commentaire"}),A.jsx("textarea",{value:H.commentaire,onChange:ee=>Z(H.tempId,"commentaire",ee.target.value),className:"input",rows:2,placeholder:"Observations, remarques..."})]})]})]},H.tempId)),A.jsxs("div",{className:"flex items-center justify-between gap-4",children:[A.jsxs("button",{type:"button",onClick:G,className:"btn-secondary flex items-center space-x-2",disabled:!K,children:[A.jsx(so,{className:"w-5 h-5"}),A.jsx("span",{children:"Ajouter une armoire"})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{type:"button",onClick:()=>t("/verification"),className:"btn-secondary",children:"Annuler"}),A.jsxs("button",{type:"submit",disabled:p||!K||c.length===0,className:"btn-primary flex items-center space-x-2",children:[A.jsx(lx,{className:"w-5 h-5"}),A.jsx("span",{children:p?"Enregistrement...":"Valider et Signer"})]})]})]})]})]})}function xM(){var j;const{sessionId:t}=fu(),e=Us(),{user:r}=uo(),[n,s]=le.useState([]),[i,o]=le.useState(null),[l,c]=le.useState(!1),[h,p]=le.useState(!0),[g,w]=le.useState(""),[y,F]=le.useState(null),[S,Q]=le.useState(null);le.useEffect(()=>{_()},[t]),le.useEffect(()=>{const T=async()=>{var K;const V=(K=n[0])==null?void 0:K.verification.armoire;if(V)try{const G=await gs.getById(V.id);G!=null&&G.site&&(Q(G.site),G.site.client&&F(G.site.client))}catch(G){console.error("Erreur lors du chargement des informations:",G)}};n.length>0&&T()},[n]);const _=async()=>{if(t){p(!0);try{const T=await Hh.getBySessionId(t);if(T.length===0){e("/verification");return}const V=[];for(const G of T){const M=await nN.getByVerificationId(G.id),Z=await sN.getByVerificationId(G.id);V.push({verification:G,systemes:M,photos:Z.sort((oe,D)=>oe.position-D.position)})}s(V);const K=await n_.getBySessionId(t);o(K)}catch(T){console.error("Erreur lors du chargement de la session:",T)}finally{p(!1)}}},B=async T=>{if(!t||!g.trim()){alert("Veuillez indiquer le nom du signataire");return}try{const V=await n_.create(t,T,g);o(V),c(!1),alert("Signature enregistre avec succs"),e("/verification")}catch(V){console.error("Erreur lors de la sauvegarde de la signature:",V),alert("Erreur lors de la sauvegarde de la signature")}};return h?A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:A.jsxs("div",{className:"text-center",children:[A.jsx(lu,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),A.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}):l?A.jsx("div",{className:"max-w-4xl mx-auto p-4",children:A.jsxs("div",{className:"card",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Signature de la vrification"}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"label",children:"Nom du signataire *"}),A.jsx("input",{type:"text",value:g,onChange:T=>w(T.target.value),className:"input",placeholder:"Nom et prnom"})]}),A.jsx(Yf,{onSave:B,onCancel:()=>c(!1)})]})}):A.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[A.jsx("div",{className:"flex items-center justify-between",children:A.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Rapport de Vrification - ",y==null?void 0:y.nom]})}),A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informations Client"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600",children:"Client"}),A.jsx("p",{className:"font-medium",children:y==null?void 0:y.nom})]}),(y==null?void 0:y.multi_site)&&A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600",children:"Site"}),A.jsx("p",{className:"font-medium",children:S==null?void 0:S.nom_site})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600",children:"Date de vrification"}),A.jsx("p",{className:"font-medium",children:new Date((j=n[0])==null?void 0:j.verification.date_verification).toLocaleDateString("fr-FR")})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600",children:"Nombre d'armoires vrifies"}),A.jsx("p",{className:"font-medium",children:n.length})]})]})]}),n.map(({verification:T,systemes:V,photos:K},G)=>{var M;return A.jsxs("div",{className:"card",children:[A.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Armoire ",G+1,": ",(M=T.armoire)==null?void 0:M.nom_armoire]}),T.commentaire&&A.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[A.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"Commentaire"}),A.jsx("p",{className:"text-sm text-blue-900",children:T.commentaire})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold mb-3",children:"Systmes installs"}),V.map((Z,oe)=>A.jsxs("div",{className:"border rounded-lg p-4 mb-3 bg-gray-50",children:[A.jsxs("h5",{className:"font-medium mb-2",children:["Systme ",oe+1]}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Modle:"}),A.jsx("span",{className:"ml-2 font-medium",children:Z.modele})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Quantit:"}),A.jsx("span",{className:"ml-2 font-medium",children:Z.quantite})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Tube:"}),A.jsx("span",{className:"ml-2 font-medium",children:Z.tube?"Oui":"Non"})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Pressostat:"}),A.jsx("span",{className:"ml-2 font-medium",children:Z.pressostat?`Oui (${Z.pressostat_type})`:"Non"})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Tte Sprinkler:"}),A.jsx("span",{className:"ml-2 font-medium",children:Z.tete_sprinkler?`${Z.tete_sprinkler_quantite}x ${Z.tete_sprinkler_temperature}C`:"Non"})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Sirne/Flash:"}),A.jsx("span",{className:"ml-2 font-medium",children:Z.sirene_flash?"Oui":"Non"})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Panneau:"}),A.jsx("span",{className:"ml-2 font-medium",children:Z.panneau?"Oui":"Non"})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Contact NF Suppl.:"}),A.jsx("span",{className:"ml-2 font-medium",children:Z.contact_nf_suppl?"Oui":"Non"})]})]}),A.jsxs("div",{className:"mt-4 pt-4 border-t",children:[A.jsx("h6",{className:"font-medium text-sm mb-2",children:"Contrles effectus"}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Pression:"}),A.jsx("span",{className:`ml-2 font-medium ${Z.pression_ok?"text-green-600":"text-red-600"}`,children:Z.pression_ok?"OK":"NOK"})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"tat du tube:"}),A.jsx("span",{className:`ml-2 font-medium ${Z.etat_tube==="Bon"?"text-green-600":"text-orange-600"}`,children:Z.etat_tube})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Tte sprinkler:"}),A.jsx("span",{className:`ml-2 font-medium ${Z.tete_sprinkler_ok?"text-green-600":"text-red-600"}`,children:Z.tete_sprinkler_ok?"OK":"NOK"})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Sirne flash:"}),A.jsx("span",{className:`ml-2 font-medium ${Z.sirene_flash_ok?"text-green-600":"text-red-600"}`,children:Z.sirene_flash_ok?"OK":"NOK"})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-gray-600",children:"Batterie change:"}),A.jsx("span",{className:`ml-2 font-medium ${Z.batterie_changee?"text-green-600":"text-red-600"}`,children:Z.batterie_changee?"Oui":"Non"})]}),Z.etat_environnement&&Z.etat_environnement.length>0&&A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("span",{className:"text-gray-600",children:"Environnement:"}),A.jsxs("span",{className:"ml-2 font-medium text-orange-600",children:[Z.etat_environnement.join(", "),Z.etat_environnement.includes("Autre")&&Z.etat_environnement_autre&&A.jsxs("span",{className:"ml-1",children:["(",Z.etat_environnement_autre,")"]})]})]})]})]})]},Z.id))]}),K.length>0&&A.jsxs("div",{className:"mt-4",children:[A.jsxs("h4",{className:"font-semibold mb-3",children:["Photos (",K.length,")"]}),A.jsx("div",{className:"grid grid-cols-3 gap-3",children:K.map((Z,oe)=>A.jsx("img",{src:Z.url_photo,alt:`Photo ${oe+1}`,crossOrigin:"anonymous",className:"w-full h-32 object-cover rounded border"},Z.id))})]})]},T.id)}),i?A.jsxs("div",{className:"card",children:[A.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[A.jsx(Gc,{className:"w-6 h-6 text-green-600 mr-2"}),"Signature valide"]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600",children:"Sign par"}),A.jsx("p",{className:"font-medium",children:i.signed_by})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Signature"}),A.jsx("img",{src:i.signature_data,alt:"Signature",className:"border rounded max-w-md h-32 object-contain bg-white"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-gray-600",children:"Date de signature"}),A.jsx("p",{className:"font-medium",children:new Date(i.created_at).toLocaleString("fr-FR")})]})]}),A.jsx("div",{className:"mt-6 flex gap-4",children:A.jsx("button",{onClick:()=>e("/verification"),className:"btn-primary",children:"Retour aux vrifications"})})]}):A.jsxs("div",{className:"card",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Signature du client"}),A.jsx("p",{className:"text-gray-600 mb-4",children:"Le client doit signer ce rapport de vrification pour valider les travaux effectus."}),A.jsx("button",{onClick:()=>c(!0),className:"btn-primary",children:"Signer le rapport"})]})]})}const Kv=["Documentation commerciale systme","Certificat CE","Certificat ANPI","Tableau de criticit","Fiche technique armoire lectrique","Fiche technique batterie de condensateur"],_B=["Installation","Essai ANPI","Dmo","Armoire ouverte","Rsistance"];function bM(){const{isAdmin:t}=uo(),[e,r]=le.useState("documentation"),[n,s]=le.useState([]),[i,o]=le.useState({titre:"",categorie:Kv[0],transferType:_B[0],file:null}),l=h=>{h.target.files&&h.target.files[0]&&o({...i,file:h.target.files[0]})},c=h=>{h.preventDefault(),alert("Fonctionnalit d'upload  implmenter")};return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Informations & Documents"}),A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:"flex space-x-4 border-b border-gray-200",children:[A.jsx("button",{onClick:()=>r("documentation"),className:`px-4 py-2 font-medium transition-colors ${e==="documentation"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600 hover:text-gray-900"}`,children:"Documentation"}),t&&A.jsx("button",{onClick:()=>r("transfert"),className:`px-4 py-2 font-medium transition-colors ${e==="transfert"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600 hover:text-gray-900"}`,children:"Transfert / Upload"})]}),A.jsx("div",{className:"mt-6",children:e==="documentation"?A.jsxs("div",{className:"space-y-4",children:[A.jsx("h3",{className:"text-lg font-semibold",children:"Documents disponibles"}),Kv.map((h,p)=>A.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx(Ao,{className:"w-6 h-6 text-primary-600"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-medium text-gray-900",children:h}),A.jsx("p",{className:"text-sm text-gray-500",children:"Catgorie de documentation"})]})]}),A.jsxs("div",{className:"flex space-x-2",children:[A.jsxs("button",{className:"btn-secondary text-sm flex items-center space-x-1",children:[A.jsx($d,{className:"w-4 h-4"}),A.jsx("span",{children:"Voir"})]}),A.jsxs("button",{className:"btn-secondary text-sm flex items-center space-x-1",children:[A.jsx(Zh,{className:"w-4 h-4"}),A.jsx("span",{children:"Tlcharger"})]})]})]},p))]}):t?A.jsxs("form",{onSubmit:c,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Titre du document"}),A.jsx("input",{type:"text",value:i.titre,onChange:h=>o({...i,titre:h.target.value}),className:"input",required:!0,placeholder:"Ex: Installation site Paris"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Catgorie"}),A.jsx("select",{value:i.categorie,onChange:h=>o({...i,categorie:h.target.value}),className:"input",children:Kv.map(h=>A.jsx("option",{value:h,children:h},h))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Type de transfert"}),A.jsx("select",{value:i.transferType,onChange:h=>o({...i,transferType:h.target.value}),className:"input",children:_B.map(h=>A.jsx("option",{value:h,children:h},h))})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Fichier (PDF, Image, Vido)"}),A.jsxs("div",{className:"mt-1 flex items-center space-x-4",children:[A.jsx("input",{type:"file",onChange:l,accept:".pdf,.jpg,.jpeg,.png,.mp4,.mov",className:"input",required:!0}),i.file&&A.jsx("span",{className:"text-sm text-gray-600",children:i.file.name})]})]}),A.jsxs("div",{className:"flex space-x-4",children:[A.jsxs("button",{type:"submit",className:"btn-primary flex items-center space-x-2",children:[A.jsx(Zf,{className:"w-5 h-5"}),A.jsx("span",{children:"Uploader"})]}),A.jsx("button",{type:"button",className:"btn-secondary",children:"Annuler"})]})]}):null})]})]})}function _M(){const t=Us(),{data:e}=hc(),[r,n]=le.useState("releves"),[s,i]=le.useState(""),[o,l]=le.useState(""),[c,h]=le.useState(""),[p,g]=le.useState([]),[w,y]=le.useState([]),[F,S]=le.useState([]),[Q,_]=le.useState(!1),[B,j]=le.useState(null),[T,V]=le.useState(""),[K,G]=le.useState(!1),[M,Z]=le.useState(!1),[oe,D]=le.useState(null),R=["2024","2025","2026"],re=[{value:"01",label:"Janvier"},{value:"02",label:"Fvrier"},{value:"03",label:"Mars"},{value:"04",label:"Avril"},{value:"05",label:"Mai"},{value:"06",label:"Juin"},{value:"07",label:"Juillet"},{value:"08",label:"Aot"},{value:"09",label:"Septembre"},{value:"10",label:"Octobre"},{value:"11",label:"Novembre"},{value:"12",label:"Dcembre"}];le.useEffect(()=>{ae()},[s,r]);const ae=async()=>{_(!0);try{r==="releves"?s?await Se(s):await H():r==="installations"?s?await ve(s):await ue():r==="verifications"&&(s?await Ue(s):await ee())}catch(pe){console.error("Erreur lors du chargement des rapports:",pe)}finally{_(!1)}},Se=async pe=>{const ne=[],it=await To.getByClientId(pe);for(const Xe of it){const Ze=await gs.getBySiteId(Xe.id);for(const ot of Ze){const At=await ms.getByArmoireId(ot.id);for(const Ee of At){const Ie=Ee.session_id?await ja.getBySessionId(Ee.session_id):await ja.getByReleveId(Ee.id);Ie&&ne.push({releve:{...Ee,armoire:ot},signedAt:Ie.signed_at,sessionId:Ee.session_id||null})}}}g(ne)},ve=async pe=>{const ne=[],it=await To.getByClientId(pe);for(const Xe of it){const Ze=await dg.getBySiteId(Xe.id);if(Ze){const ot=await gs.getBySiteId(Xe.id);for(const At of ot){const Ee=await Fa.getByArmoireId(At.id);for(const Ie of Ee)Ie.statut==="fait"&&ne.push({installation:{...Ie,armoire:At},siteId:Xe.id,signedAt:Ze.signed_at})}}}y(ne)},Ue=async pe=>{const ne=[],it=e==null?void 0:e.find(Ze=>Ze.id===pe),Xe=await To.getByClientId(pe);for(const Ze of Xe){const ot=await gs.getBySiteId(Ze.id);for(const At of ot){const Ee=await Hh.getByArmoireId(At.id);Ee&&Ee.statut==="fait"&&ne.push({...Ee,clientName:it==null?void 0:it.nom,siteName:Ze.nom,armoireName:At.nom_armoire})}}S(ne)},H=async()=>{const pe=[];if(e){for(const ne of e){const it=await To.getByClientId(ne.id);for(const Xe of it){const Ze=await gs.getBySiteId(Xe.id);for(const ot of Ze){const At=await ms.getByArmoireId(ot.id);for(const Ee of At){const Ie=Ee.session_id?await ja.getBySessionId(Ee.session_id):await ja.getByReleveId(Ee.id);Ie&&pe.push({releve:{...Ee,armoire:ot},signedAt:Ie.signed_at,sessionId:Ee.session_id||null,clientName:ne.nom,siteName:Xe.nom})}}}}g(pe)}},ue=async()=>{const pe=[];if(e){for(const ne of e){const it=await To.getByClientId(ne.id);for(const Xe of it){const Ze=await dg.getBySiteId(Xe.id);if(Ze){const ot=await gs.getBySiteId(Xe.id);for(const At of ot){const Ee=await Fa.getByArmoireId(At.id);for(const Ie of Ee)Ie.statut==="fait"&&pe.push({installation:{...Ie,armoire:At},siteId:Xe.id,signedAt:Ze.signed_at,clientName:ne.nom,siteName:Xe.nom})}}}}y(pe)}},ee=async()=>{const pe=[];if(e){for(const ne of e){const it=await To.getByClientId(ne.id);for(const Xe of it){const Ze=await gs.getBySiteId(Xe.id);for(const ot of Ze){const At=await Hh.getByArmoireId(ot.id);At&&At.statut==="fait"&&pe.push({...At,clientName:ne.nom,siteName:Xe.nom,armoireName:ot.nom_armoire})}}}S(pe)}},me=(pe,ne)=>{j(pe),V(ne)},P=()=>{j(null),V("")},$=async(pe,ne)=>{if(!T)return;w.filter(Xe=>Xe.siteId===ne).length>1?(D({installationId:pe,siteId:ne}),Z(!0)):await se(pe)},se=async pe=>{if(T){G(!0);try{await Fa.update(pe,{date_installation:T});const ne=w.map(it=>it.installation.id===pe?{...it,installation:{...it.installation,date_installation:T}}:it);y(ne),j(null),V(""),Z(!1),D(null)}catch(ne){console.error("Erreur lors de la mise  jour de la date:",ne),alert("Erreur lors de la mise  jour de la date")}finally{G(!1)}}},ce=async pe=>{if(T){G(!0);try{const ne=w.filter(Xe=>Xe.siteId===pe);for(const Xe of ne)await Fa.update(Xe.installation.id,{date_installation:T});const it=w.map(Xe=>Xe.siteId===pe?{...Xe,installation:{...Xe.installation,date_installation:T}}:Xe);y(it),j(null),V(""),Z(!1),D(null)}catch(ne){console.error("Erreur lors de la mise  jour des dates:",ne),alert("Erreur lors de la mise  jour des dates")}finally{G(!1)}}},fe=pe=>pe.filter(ne=>{const it=ne.signedAt||ne.date_verification;if(!it)return!1;const Xe=new Date(it),Ze=Xe.getFullYear().toString(),ot=(Xe.getMonth()+1).toString().padStart(2,"0");return!(o&&Ze!==o||c&&ot!==c)}),Te=pe=>{const ne=new Map,it=[];return pe.forEach(Xe=>{Xe.sessionId?(ne.has(Xe.sessionId)||ne.set(Xe.sessionId,[]),ne.get(Xe.sessionId).push(Xe)):it.push(Xe)}),{sessions:Array.from(ne.values()),singles:it}},ze=pe=>{const ne=new Map;return pe.forEach(it=>{ne.has(it.siteId)||ne.set(it.siteId,[]),ne.get(it.siteId).push(it)}),Array.from(ne.values())};e==null||e.find(pe=>pe.id===s);const _e=fe(p),{sessions:wt,singles:Ke}=Te(_e),we=fe(w),Ye=ze(we),et=fe(F);return A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Rapports"}),A.jsxs("div",{className:"card",children:[A.jsx("div",{className:"border-b border-gray-200",children:A.jsxs("nav",{className:"-mb-px flex space-x-8",children:[A.jsx("button",{onClick:()=>n("releves"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="releves"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Relevs d'tudes signs"}),A.jsx("button",{onClick:()=>n("installations"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="installations"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Rapports installation"}),A.jsx("button",{onClick:()=>n("verifications"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="verifications"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Rapports vrification"})]})}),A.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"label flex items-center space-x-2",children:[A.jsx(cx,{className:"w-4 h-4"}),A.jsx("span",{children:"Client"})]}),A.jsxs("select",{value:s,onChange:pe=>{i(pe.target.value),l(""),h("")},className:"input",children:[A.jsx("option",{value:"",children:"Tous les clients"}),e==null?void 0:e.map(pe=>A.jsx("option",{value:pe.id,children:pe.nom},pe.id))]})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"label flex items-center space-x-2",children:[A.jsx(mh,{className:"w-4 h-4"}),A.jsx("span",{children:"Anne"})]}),A.jsxs("select",{value:o,onChange:pe=>l(pe.target.value),className:"input",children:[A.jsx("option",{value:"",children:"Toutes les annes"}),R.map(pe=>A.jsx("option",{value:pe,children:pe},pe))]})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"label flex items-center space-x-2",children:[A.jsx(mh,{className:"w-4 h-4"}),A.jsx("span",{children:"Mois"})]}),A.jsxs("select",{value:c,onChange:pe=>h(pe.target.value),className:"input",disabled:!o,children:[A.jsx("option",{value:"",children:"Tous les mois"}),re.map(pe=>A.jsx("option",{value:pe.value,children:pe.label},pe.value))]})]})]})]}),A.jsx("div",{className:"space-y-4",children:Q?A.jsxs("div",{className:"card text-center py-12",children:[A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),A.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement des rapports..."})]}):A.jsxs(A.Fragment,{children:[r==="releves"&&A.jsx(A.Fragment,{children:wt.length===0&&Ke.length===0?A.jsxs("div",{className:"card text-center py-12",children:[A.jsx(Ao,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun relev sign"}),A.jsx("p",{className:"text-gray-600",children:"Aucun relev sign trouv pour les critres slectionns"})]}):A.jsxs("div",{className:"space-y-4",children:[wt.map((pe,ne)=>A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsxs("div",{children:[pe[0].clientName&&A.jsxs("div",{className:"mb-2",children:[A.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:pe[0].clientName}),pe[0].siteName&&A.jsx("span",{className:"ml-2 text-sm text-gray-600",children:pe[0].siteName})]}),A.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Session de ",pe.length," armoire",pe.length>1?"s":""]}),A.jsxs("p",{className:"text-sm text-gray-600",children:["Sign le ",new Date(pe[0].signedAt).toLocaleDateString("fr-FR")]})]}),A.jsxs("button",{onClick:()=>t(`/releves/session/${pe[0].sessionId}/signature`),className:"btn-primary flex items-center space-x-2",children:[A.jsx($d,{className:"w-4 h-4"}),A.jsx("span",{children:"Voir le rapport"})]})]}),A.jsx("div",{className:"space-y-2",children:pe.map((it,Xe)=>{var Ze,ot,At;return A.jsxs("div",{className:"flex items-center justify-between py-2 border-t",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-medium",children:(Ze=it.releve.armoire)==null?void 0:Ze.nom_armoire}),A.jsx("p",{className:"text-sm text-gray-600",children:(ot=it.releve.armoire)==null?void 0:ot.zone})]}),A.jsxs("span",{className:"text-sm text-gray-500",children:[(At=it.releve.armoire)==null?void 0:At.volume,"m"]})]},Xe)})})]},ne)),Ke.map((pe,ne)=>{var it,Xe,Ze;return A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[pe.clientName&&A.jsxs("div",{className:"mb-2",children:[A.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:pe.clientName}),pe.siteName&&A.jsx("span",{className:"ml-2 text-sm text-gray-600",children:pe.siteName})]}),A.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(it=pe.releve.armoire)==null?void 0:it.nom_armoire}),A.jsxs("p",{className:"text-sm text-gray-600",children:[(Xe=pe.releve.armoire)==null?void 0:Xe.zone," - ",(Ze=pe.releve.armoire)==null?void 0:Ze.volume,"m"]}),A.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Sign le ",new Date(pe.signedAt).toLocaleDateString("fr-FR")]})]}),A.jsxs("button",{onClick:()=>t(`/releves/${pe.releve.id}/signature`),className:"btn-primary flex items-center space-x-2",children:[A.jsx($d,{className:"w-4 h-4"}),A.jsx("span",{children:"Voir le rapport"})]})]})},ne)})]})}),r==="installations"&&A.jsx(A.Fragment,{children:Ye.length===0?A.jsxs("div",{className:"card text-center py-12",children:[A.jsx(Ao,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune installation signe"}),A.jsx("p",{className:"text-gray-600",children:"Aucune installation signe trouve pour les critres slectionns"})]}):A.jsx("div",{className:"space-y-4",children:Ye.map((pe,ne)=>A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsxs("div",{children:[pe[0].clientName&&A.jsxs("div",{className:"mb-2",children:[A.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:pe[0].clientName}),pe[0].siteName&&A.jsx("span",{className:"ml-2 text-sm text-gray-600",children:pe[0].siteName})]}),A.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Installation de ",pe.length," armoire",pe.length>1?"s":""]}),A.jsxs("p",{className:"text-sm text-gray-600",children:["Sign le ",new Date(pe[0].signedAt).toLocaleDateString("fr-FR")]})]}),A.jsxs("button",{onClick:()=>t(`/installation/${pe[0].siteId}/signature`),className:"btn-primary flex items-center space-x-2",children:[A.jsx($d,{className:"w-4 h-4"}),A.jsx("span",{children:"Voir le rapport"})]})]}),A.jsx("div",{className:"space-y-2",children:pe.map((it,Xe)=>{var Ze;return A.jsxs("div",{className:"flex items-center justify-between py-2 border-t",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"font-medium",children:(Ze=it.installation.armoire)==null?void 0:Ze.nom_armoire}),B===it.installation.id?A.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A.jsx("input",{type:"date",value:T,onChange:ot=>V(ot.target.value),className:"input text-sm py-1 px-2",disabled:K}),A.jsx("button",{onClick:()=>$(it.installation.id,it.siteId),disabled:K,className:"p-1 text-green-600 hover:text-green-700 disabled:opacity-50",title:"Enregistrer",children:A.jsx(lg,{className:"w-4 h-4"})}),A.jsx("button",{onClick:P,disabled:K,className:"p-1 text-gray-600 hover:text-gray-700 disabled:opacity-50",title:"Annuler",children:A.jsx(Xf,{className:"w-4 h-4"})})]}):A.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A.jsx("p",{className:"text-sm text-gray-600",children:new Date(it.installation.date_installation).toLocaleDateString("fr-FR")}),A.jsx("button",{onClick:()=>me(it.installation.id,it.installation.date_installation),className:"p-1 text-blue-600 hover:text-blue-700",title:"Modifier la date",children:A.jsx(M4,{className:"w-3 h-3"})})]})]}),A.jsxs("span",{className:"text-sm text-gray-500",children:[it.installation.nb_cellules," cellules"]})]},Xe)})})]},ne))})}),r==="verifications"&&A.jsx(A.Fragment,{children:et.length===0?A.jsxs("div",{className:"card text-center py-12",children:[A.jsx(Ao,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune vrification"}),A.jsx("p",{className:"text-gray-600",children:"Aucune vrification trouve pour les critres slectionns"})]}):A.jsx("div",{className:"space-y-4",children:et.map(pe=>A.jsx("div",{className:"card",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex-1",children:[pe.clientName&&A.jsxs("div",{className:"mb-2",children:[A.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:pe.clientName}),pe.siteName&&A.jsx("span",{className:"ml-2 text-sm text-gray-600",children:pe.siteName})]}),A.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:pe.armoireName||"Vrification"}),A.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(pe.date_verification).toLocaleDateString("fr-FR")]}),pe.commentaire&&A.jsx("p",{className:"text-sm text-gray-500 mt-1",children:pe.commentaire})]}),A.jsx("span",{className:"text-sm px-3 py-1 rounded-full bg-green-100 text-green-800",children:pe.statut})]})},pe.id))})})]})}),M&&oe&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[A.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[A.jsx(mh,{className:"w-6 h-6 text-orange-600"}),"Modifier la date d'installation"]}),A.jsx("p",{className:"text-gray-700 mb-6",children:"Ce rapport contient plusieurs installations. Voulez-vous modifier la date pour :"}),A.jsxs("div",{className:"space-y-3 mb-6",children:[A.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[A.jsx("p",{className:"font-medium text-gray-900",children:"Cette installation uniquement"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Seule l'installation slectionne sera mise  jour"})]}),A.jsxs("div",{className:"p-3 border border-orange-200 rounded-lg bg-orange-50",children:[A.jsx("p",{className:"font-medium text-gray-900",children:"Tout le rapport"}),A.jsx("p",{className:"text-sm text-gray-600",children:"Toutes les installations de ce rapport auront la mme date"})]})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:()=>{Z(!1),D(null),j(null),V("")},disabled:K,className:"btn-secondary flex-1 disabled:opacity-50",children:"Annuler"}),A.jsx("button",{onClick:()=>se(oe.installationId),disabled:K,className:"btn-secondary flex-1 disabled:opacity-50",children:K?"Mise  jour...":"Cette installation"}),A.jsx("button",{onClick:()=>ce(oe.siteId),disabled:K,className:"btn-primary flex-1 disabled:opacity-50",children:K?"Mise  jour...":"Tout le rapport"})]})]})})]})}const qv={async listUsers(){const{data:{session:t}}=await Ft.auth.getSession();if(!t)throw new Error("Non authentifi");const n=await(await fetch("https://luaiyowmrtxtplvundfs.supabase.co/functions/v1/manage-users?action=list",{method:"GET",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"}})).json();if(!n.success)throw new Error(n.error||"Erreur lors de la rcupration des utilisateurs");return n.users},async createUser(t){const{data:{session:e}}=await Ft.auth.getSession();if(!e)throw new Error("Non authentifi");const s=await(await fetch("https://luaiyowmrtxtplvundfs.supabase.co/functions/v1/manage-users?action=create",{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(t)})).json();if(!s.success)throw new Error(s.error||"Erreur lors de la cration de l'utilisateur");return s.user},async deleteUser(t){const{data:{session:e}}=await Ft.auth.getSession();if(!e)throw new Error("Non authentifi");const s=await(await fetch("https://luaiyowmrtxtplvundfs.supabase.co/functions/v1/manage-users",{method:"DELETE",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({userId:t})})).json();if(!s.success)throw new Error(s.error||"Erreur lors de la suppression de l'utilisateur")}};function BM(){const t=Us(),{profile:e}=uo(),[r,n]=le.useState([]),[s,i]=le.useState(!0),[o,l]=le.useState(""),[c,h]=le.useState(!1),[p,g]=le.useState({email:"",password:"",fullName:"",role:"technicien"}),[w,y]=le.useState(!1);le.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){t("/");return}F()},[e,t]);const F=async()=>{try{i(!0);const _=await qv.listUsers();n(_),l("")}catch(_){l(_.message||"Erreur lors du chargement des utilisateurs")}finally{i(!1)}},S=async _=>{_.preventDefault(),l(""),y(!0);try{await qv.createUser(p),h(!1),g({email:"",password:"",fullName:"",role:"technicien"}),await F()}catch(B){l(B.message||"Erreur lors de la cration de l'utilisateur")}finally{y(!1)}},Q=async(_,B)=>{if(confirm(`Voulez-vous vraiment supprimer l'utilisateur ${B} ?`))try{await qv.deleteUser(_),await F()}catch(j){l(j.message||"Erreur lors de la suppression de l'utilisateur")}};return(e==null?void 0:e.role)!=="admin"?null:A.jsxs("div",{className:"min-h-screen bg-gray-50",children:[A.jsx("div",{className:"bg-white shadow-sm",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex items-center justify-between py-6",children:[A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsx("button",{onClick:()=>t("/"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:A.jsx(I4,{className:"w-6 h-6 text-gray-600"})}),A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:A.jsx(ux,{className:"w-6 h-6 text-white"})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des utilisateurs"})]})]}),A.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center space-x-2",children:[A.jsx(so,{className:"w-5 h-5"}),A.jsx("span",{children:"Nouvel utilisateur"})]})]})})}),A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o&&A.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg mb-6",children:o}),c&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Crer un utilisateur"}),A.jsxs("form",{onSubmit:S,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Email"}),A.jsx("input",{type:"email",value:p.email,onChange:_=>g({...p,email:_.target.value}),className:"input",required:!0,placeholder:"utilisateur@exemple.com"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Mot de passe"}),A.jsx("input",{type:"password",value:p.password,onChange:_=>g({...p,password:_.target.value}),className:"input",required:!0,minLength:6,placeholder:"Minimum 6 caractres"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Nom complet"}),A.jsx("input",{type:"text",value:p.fullName,onChange:_=>g({...p,fullName:_.target.value}),className:"input",required:!0,placeholder:"Jean Dupont"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"label",children:"Rle"}),A.jsxs("select",{value:p.role,onChange:_=>g({...p,role:_.target.value}),className:"input",required:!0,children:[A.jsx("option",{value:"technicien",children:"Technicien"}),A.jsx("option",{value:"admin",children:"Administrateur"})]})]}),A.jsxs("div",{className:"flex space-x-3 pt-4",children:[A.jsx("button",{type:"button",onClick:()=>{h(!1),l("")},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:w,children:"Annuler"}),A.jsx("button",{type:"submit",className:"flex-1 btn-primary disabled:opacity-50",disabled:w,children:w?"Cration...":"Crer"})]})]})]})}),s?A.jsxs("div",{className:"text-center py-12",children:[A.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),A.jsx("p",{className:"mt-2 text-gray-600",children:"Chargement..."})]}):A.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rle"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de cration"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"Aucun utilisateur trouv"})}):r.map(_=>A.jsxs("tr",{className:"hover:bg-gray-50",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.full_name||"Sans nom"})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("div",{className:"text-sm text-gray-600",children:_.email})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_.role==="admin"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:_.role==="admin"?"Administrateur":"Technicien"})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(_.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:A.jsxs("button",{onClick:()=>Q(_.id,_.email),className:"text-red-600 hover:text-red-900 inline-flex items-center space-x-1",title:"Supprimer",children:[A.jsx(VA,{className:"w-4 h-4"}),A.jsx("span",{children:"Supprimer"})]})})]},_.id))})]})})]})]})}function CM({children:t}){const{user:e,loading:r}=uo();return r?A.jsx("div",{className:"min-h-screen flex items-center justify-center",children:A.jsx("div",{className:"text-xl",children:"Chargement..."})}):e?A.jsx(A.Fragment,{children:t}):A.jsx(n4,{to:"/login"})}function NM(){const{hasUpdate:t,reloadApp:e}=ZL(6e4);return A.jsxs(A.Fragment,{children:[A.jsxs(yj,{children:[A.jsx(Nn,{path:"/login",element:A.jsx(_Q,{})}),A.jsxs(Nn,{path:"/",element:A.jsx(CM,{children:A.jsx(yQ,{})}),children:[A.jsx(Nn,{index:!0,element:A.jsx(n4,{to:"/accueil",replace:!0})}),A.jsx(Nn,{path:"accueil",element:A.jsx(BQ,{})}),A.jsx(Nn,{path:"clients",element:A.jsx(UP,{})}),A.jsx(Nn,{path:"clients/new",element:A.jsx($b,{})}),A.jsx(Nn,{path:"clients/import",element:A.jsx(IP,{})}),A.jsx(Nn,{path:"clients/:id/edit",element:A.jsx($b,{})}),A.jsx(Nn,{path:"carte",element:A.jsx(PP,{})}),A.jsx(Nn,{path:"releve-etude",element:A.jsx(t_,{})}),A.jsx(Nn,{path:"releve-etude/:releveId",element:A.jsx(t_,{})}),A.jsx(Nn,{path:"releves-liste",element:A.jsx(RP,{})}),A.jsx(Nn,{path:"releves/:releveId/signature",element:A.jsx(AM,{})}),A.jsx(Nn,{path:"releves/session/:sessionId/signature",element:A.jsx(cM,{})}),A.jsx(Nn,{path:"installation",element:A.jsx(hM,{})}),A.jsx(Nn,{path:"installation/:siteId/signature",element:A.jsx(fM,{})}),A.jsx(Nn,{path:"installation/:siteId/photos",element:A.jsx(pM,{})}),A.jsx(Nn,{path:"verification",element:A.jsx(gM,{})}),A.jsx(Nn,{path:"verification/new",element:A.jsx(wM,{})}),A.jsx(Nn,{path:"verification/signature/:sessionId",element:A.jsx(xM,{})}),A.jsx(Nn,{path:"infos",element:A.jsx(bM,{})}),A.jsx(Nn,{path:"rapports",element:A.jsx(_M,{})}),A.jsx(Nn,{path:"utilisateurs",element:A.jsx(BM,{})})]})]}),t&&A.jsx(wQ,{onReload:e})]})}const SM=new rU({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}});Vv.createRoot(document.getElementById("root")).render(A.jsx(zB.StrictMode,{children:A.jsx(nU,{client:SM,children:A.jsx(Sj,{children:A.jsx(JL,{children:A.jsx(NM,{})})})})}));export{Yr as _,zv as c,Yw as g};
